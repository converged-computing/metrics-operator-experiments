{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 28",
            "Number of tasks total (across 8 nodes) is 224",
            "Sleeping for 10 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 8 ip addresses",
            "Hostlist",
            "10.12.65.50",
            "10.12.5.41",
            "10.12.16.50",
            "10.12.37.43",
            "10.12.47.52",
            "10.12.45.45",
            "10.12.1.44",
            "10.12.39.42",
            "Hostlist for Pair to Pair",
            "10.12.65.50",
            "10.12.5.41",
            "METADATA START {\"pods\":8,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"-np 8 -map-by ppr:1:node -rank-by core\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_hello\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 8 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/startup/osu_hello",
            "# OSU MPI Hello World Test v5.8",
            "This is a test with 8 processes",
            "real\t0m0.524s",
            "user\t0m0.297s",
            "sys\t0m0.417s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 8 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                      96.94",
            "8                      95.57",
            "16                     95.07",
            "32                     95.51",
            "64                    109.34",
            "128                   113.99",
            "256                   112.38",
            "512                   113.10",
            "1024                  114.47",
            "2048                  123.36",
            "4096                  126.41",
            "8192                  144.47",
            "16384                 529.56",
            "32768                 550.51",
            "65536                 681.15",
            "131072                789.99",
            "262144               1028.23",
            "524288               2703.69",
            "1048576              3575.46",
            "real\t0m5.785s",
            "user\t0m1.130s",
            "sys\t0m4.847s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 8,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricOptions": {
                "all": "false",
                "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_hello",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha2",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 8,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_hello",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true",
                            "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                            "sleep": 10
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha2",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 8,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_hello",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true",
                        "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                        "sleep": 10
                    }
                }
            ]
        }
    }
}