{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 28",
            "Number of tasks total (across 4 nodes) is 112",
            "Sleeping for 10 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 4 ip addresses",
            "Hostlist",
            "10.12.5.44",
            "10.12.32.55",
            "10.12.11.46",
            "10.12.21.54",
            "Hostlist for Pair to Pair",
            "10.12.5.44",
            "10.12.32.55",
            "METADATA START {\"pods\":4,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"-np 4 -map-by ppr:1:node -rank-by core\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_hello\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/startup/osu_hello",
            "# OSU MPI Hello World Test v5.8",
            "This is a test with 4 processes",
            "real\t0m0.521s",
            "user\t0m0.129s",
            "sys\t0m0.205s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                      61.29",
            "8                      59.59",
            "16                     60.18",
            "32                     59.29",
            "64                     67.99",
            "128                    68.07",
            "256                    68.81",
            "512                    70.20",
            "1024                   70.59",
            "2048                   73.81",
            "4096                   77.79",
            "8192                   90.33",
            "16384                 249.68",
            "32768                 278.53",
            "65536                 349.40",
            "131072                451.63",
            "262144               1052.38",
            "524288               1422.36",
            "1048576              2113.22",
            "real\t0m3.593s",
            "user\t0m0.652s",
            "sys\t0m2.753s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 4,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricOptions": {
                "all": "false",
                "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_hello",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha2",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 4,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_hello",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true",
                            "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                            "sleep": 10
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha2",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 4,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_hello",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true",
                        "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                        "sleep": 10
                    }
                }
            ]
        }
    }
}