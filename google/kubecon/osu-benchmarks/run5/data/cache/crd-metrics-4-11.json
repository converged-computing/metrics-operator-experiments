{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 2",
            "Number of tasks total (across 4 nodes) is 8",
            "Sleeping for 10 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 4 ip addresses",
            "Hostlist",
            "10.12.96.102",
            "10.12.34.86",
            "10.12.87.90",
            "10.12.7.86",
            "Hostlist for Pair to Pair",
            "10.12.96.102",
            "10.12.34.86",
            "METADATA START {\"pods\":4,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"-np 4 -map-by ppr:1:node -rank-by core\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_hello\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/startup/osu_hello",
            "# OSU MPI Hello World Test v5.8",
            "This is a test with 4 processes",
            "real\t0m0.665s",
            "user\t0m0.291s",
            "sys\t0m0.245s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                      53.39",
            "8                      48.47",
            "16                     48.00",
            "32                     48.93",
            "64                     50.55",
            "128                    49.20",
            "256                    49.68",
            "512                    48.92",
            "1024                   49.76",
            "2048                   58.90",
            "4096                   64.21",
            "8192                   67.72",
            "16384                 199.64",
            "32768                 218.50",
            "65536                 293.98",
            "131072                320.15",
            "262144                615.59",
            "524288                813.93",
            "1048576              1276.91",
            "real\t0m2.996s",
            "user\t0m0.931s",
            "sys\t0m1.924s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 4,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricOptions": {
                "all": "false",
                "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_hello",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha2",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 4,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_hello",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true",
                            "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                            "sleep": 10
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha2",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 4,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_hello",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true",
                        "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                        "sleep": 10
                    }
                }
            ]
        }
    }
}