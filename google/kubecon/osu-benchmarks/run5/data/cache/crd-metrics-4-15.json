{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 2",
            "Number of tasks total (across 4 nodes) is 8",
            "Sleeping for 10 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 4 ip addresses",
            "Hostlist",
            "10.12.111.99",
            "10.12.114.95",
            "10.12.87.91",
            "10.12.18.96",
            "Hostlist for Pair to Pair",
            "10.12.111.99",
            "10.12.114.95",
            "METADATA START {\"pods\":4,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"-np 4 -map-by ppr:1:node -rank-by core\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_hello\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/startup/osu_hello",
            "# OSU MPI Hello World Test v5.8",
            "This is a test with 4 processes",
            "real\t0m0.640s",
            "user\t0m0.214s",
            "sys\t0m0.248s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 4 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                      43.72",
            "8                      44.04",
            "16                     44.36",
            "32                     45.64",
            "64                     43.68",
            "128                    44.76",
            "256                    44.18",
            "512                    42.55",
            "1024                   44.05",
            "2048                   61.93",
            "4096                   71.97",
            "8192                   69.45",
            "16384                 214.87",
            "32768                 221.64",
            "65536                 248.84",
            "131072                307.48",
            "262144                695.03",
            "524288                951.97",
            "1048576              1461.36",
            "real\t0m2.974s",
            "user\t0m0.871s",
            "sys\t0m1.947s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 4,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricOptions": {
                "all": "false",
                "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_hello",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha2",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 4,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_hello",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true",
                            "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                            "sleep": 10
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha2",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 4,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_hello",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true",
                        "flags": "-np 4 -map-by ppr:1:node -rank-by core",
                        "sleep": 10
                    }
                }
            ]
        }
    }
}