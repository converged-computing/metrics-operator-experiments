{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 2",
            "Number of tasks total (across 8 nodes) is 16",
            "Sleeping for 10 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 8 ip addresses",
            "Hostlist",
            "10.12.108.99",
            "10.12.79.93",
            "10.12.15.100",
            "10.12.59.83",
            "10.12.45.83",
            "10.12.120.90",
            "10.12.33.89",
            "10.12.34.83",
            "Hostlist for Pair to Pair",
            "10.12.108.99",
            "10.12.79.93",
            "METADATA START {\"pods\":8,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"-np 8 -map-by ppr:1:node -rank-by core\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_hello\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 8 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/startup/osu_hello",
            "# OSU MPI Hello World Test v5.8",
            "This is a test with 8 processes",
            "real\t0m0.959s",
            "user\t0m0.568s",
            "sys\t0m0.527s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 8 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                      72.66",
            "8                      72.34",
            "16                     73.76",
            "32                     72.77",
            "64                     72.22",
            "128                    73.87",
            "256                    75.34",
            "512                    78.59",
            "1024                   76.14",
            "2048                   89.22",
            "4096                  117.49",
            "8192                  113.16",
            "16384                 430.84",
            "32768                 510.90",
            "65536                 531.71",
            "131072                608.13",
            "262144                750.36",
            "524288               1561.57",
            "1048576              2038.86",
            "real\t0m4.923s",
            "user\t0m1.506s",
            "sys\t0m3.555s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 8,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricOptions": {
                "all": "false",
                "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_hello",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha2",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 8,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_hello",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true",
                            "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                            "sleep": 10
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha2",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 8,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_hello",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true",
                        "flags": "-np 8 -map-by ppr:1:node -rank-by core",
                        "sleep": 10
                    }
                }
            ]
        }
    }
}