[
    {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.36.40",
            "10.12.101.33",
            "10.12.52.36",
            "10.12.100.36",
            "10.12.2.33",
            "10.12.119.41",
            "10.12.1.34",
            "10.12.46.38",
            "10.12.106.35",
            "10.12.81.37",
            "10.12.122.37",
            "10.12.3.38",
            "10.12.83.36",
            "10.12.63.31",
            "10.12.30.38",
            "10.12.68.40",
            "10.12.114.35",
            "10.12.70.37",
            "10.12.64.34",
            "10.12.45.37",
            "10.12.38.36",
            "10.12.128.32",
            "10.12.16.35",
            "10.12.108.36",
            "10.12.47.32",
            "10.12.33.33",
            "10.12.77.33",
            "10.12.125.36",
            "10.12.31.35",
            "10.12.57.37",
            "10.12.60.33",
            "10.12.126.35",
            "10.12.20.32",
            "10.12.78.38",
            "10.12.66.34",
            "10.12.110.36",
            "10.12.49.36",
            "10.12.40.32",
            "10.12.102.37",
            "10.12.10.35",
            "10.12.54.35",
            "10.12.8.31",
            "10.12.67.37",
            "10.12.129.36",
            "10.12.6.36",
            "10.12.120.35",
            "10.12.104.34",
            "10.12.34.37",
            "10.12.92.34",
            "10.12.121.38",
            "10.12.69.34",
            "10.12.17.35",
            "10.12.98.38",
            "10.12.41.36",
            "10.12.87.36",
            "10.12.50.35",
            "10.12.74.34",
            "10.12.65.29",
            "10.12.43.37",
            "10.12.88.35",
            "10.12.62.34",
            "10.12.80.34",
            "10.12.18.34",
            "10.12.28.37",
            "Hostlist for Pair to Pair",
            "10.12.36.40",
            "10.12.101.33",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1232.78            616.18            598.77              0.00",
            "real\t0m6.720s",
            "user\t0m2.472s",
            "sys\t0m3.801s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.49        5494507.26",
            "2                       5.12        2562461.89",
            "4                      21.35        5338188.86",
            "8                      43.77        5471268.28",
            "16                     73.62        4601413.15",
            "32                    174.28        5446304.87",
            "64                    342.11        5345483.31",
            "128                   661.12        5164973.23",
            "256                  1117.23        4364182.79",
            "512                  2597.92        5074063.11",
            "1024                 5153.64        5032856.34",
            "2048                 9020.57        4404575.11",
            "4096                19152.44        4675889.72",
            "8192                22218.81        2712256.52",
            "16384               17805.00        1086731.14",
            "32768               29219.70         891714.35",
            "65536               38129.28         581806.62",
            "131072              39160.01         298767.20",
            "262144              39180.96         149463.51",
            "524288              36988.17          70549.33",
            "1048576             39121.29          37308.97",
            "2097152             39158.98          18672.46",
            "4194304             39178.47           9340.88",
            "real\t1m2.869s",
            "user\t0m7.947s",
            "sys\t0m49.318s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      25.63",
            "1                      25.21",
            "2                      24.87",
            "4                      24.74",
            "8                      24.88",
            "16                     25.21",
            "32                     25.15",
            "64                     49.41",
            "128                    48.12",
            "256                    48.70",
            "512                    48.51",
            "1024                   50.60",
            "2048                   53.70",
            "4096                   57.49",
            "8192                   59.01",
            "16384                  81.63",
            "32768                  90.72",
            "65536                 201.21",
            "131072                245.26",
            "262144                333.52",
            "524288                478.98",
            "1048576               881.11",
            "2097152              1640.43",
            "4194304              3118.26",
            "real\t0m45.408s",
            "user\t0m6.619s",
            "sys\t0m37.129s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     659.93",
            "2                     784.59",
            "4                     814.23",
            "8                     728.22",
            "16                    740.08",
            "32                    760.38",
            "64                    819.22",
            "128                  1003.33",
            "256                  1156.27",
            "512                   908.72",
            "1024                 4295.62",
            "2048                 4094.56",
            "4096                 4568.95",
            "8192                 5398.30",
            "16384                6899.00",
            "32768               18578.02",
            "65536               24571.23",
            "131072              32792.06",
            "262144              47530.11",
            "524288              78038.67",
            "1048576            146885.06",
            "real\t1m38.464s",
            "user\t0m12.865s",
            "sys\t1m22.629s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     578.07",
            "8                     714.93",
            "16                    768.26",
            "32                    733.64",
            "64                    982.71",
            "128                   815.50",
            "256                   763.59",
            "512                   923.31",
            "1024                  939.64",
            "2048                  924.49",
            "4096                  923.35",
            "8192                  997.36",
            "16384               13335.82",
            "32768               13403.80",
            "65536               13104.84",
            "131072              13387.08",
            "262144              14185.72",
            "524288              17197.90",
            "1048576             25692.67",
            "real\t1m13.588s",
            "user\t0m11.121s",
            "sys\t1m0.526s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    }
]