{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.100.71",
            "10.12.116.73",
            "10.12.25.66",
            "10.12.83.64",
            "10.12.94.71",
            "10.12.17.73",
            "10.12.22.62",
            "10.12.96.73",
            "10.12.8.68",
            "10.12.54.71",
            "10.12.47.67",
            "10.12.50.68",
            "10.12.18.73",
            "10.12.76.69",
            "10.12.42.65",
            "10.12.118.69",
            "10.12.129.74",
            "10.12.101.63",
            "10.12.5.76",
            "10.12.78.75",
            "10.12.48.68",
            "10.12.20.72",
            "10.12.37.75",
            "10.12.4.68",
            "10.12.86.72",
            "10.12.63.60",
            "10.12.95.60",
            "10.12.128.68",
            "10.12.45.80",
            "10.12.16.71",
            "10.12.1.70",
            "10.12.106.70",
            "10.12.44.68",
            "10.12.127.67",
            "10.12.88.74",
            "10.12.71.71",
            "10.12.92.70",
            "10.12.12.65",
            "10.12.34.75",
            "10.12.49.63",
            "10.12.98.69",
            "10.12.19.75",
            "10.12.73.76",
            "10.12.10.74",
            "10.12.120.79",
            "10.12.80.69",
            "10.12.61.72",
            "10.12.124.63",
            "10.12.2.69",
            "10.12.69.74",
            "10.12.30.73",
            "10.12.60.70",
            "10.12.74.68",
            "10.12.125.69",
            "10.12.33.67",
            "10.12.32.69",
            "10.12.81.70",
            "10.12.104.71",
            "10.12.23.62",
            "10.12.91.67",
            "10.12.121.73",
            "10.12.46.70",
            "10.12.39.68",
            "10.12.75.67",
            "10.12.68.80",
            "10.12.21.73",
            "10.12.28.67",
            "10.12.66.70",
            "10.12.70.73",
            "10.12.15.34",
            "10.12.57.75",
            "10.12.90.67",
            "10.12.14.69",
            "10.12.0.68",
            "10.12.102.68",
            "10.12.24.69",
            "10.12.56.33",
            "10.12.72.31",
            "10.12.84.33",
            "10.12.64.72",
            "10.12.99.68",
            "10.12.7.69",
            "10.12.107.63",
            "10.12.55.59",
            "10.12.117.33",
            "10.12.40.56",
            "10.12.82.34",
            "10.12.26.34",
            "10.12.89.59",
            "10.12.6.61",
            "10.12.108.68",
            "10.12.113.71",
            "10.12.111.71",
            "10.12.67.72",
            "10.12.62.73",
            "10.12.51.63",
            "10.12.65.61",
            "10.12.9.69",
            "10.12.31.71",
            "10.12.119.82",
            "10.12.87.72",
            "10.12.122.74",
            "10.12.105.72",
            "10.12.77.63",
            "10.12.110.71",
            "10.12.114.73",
            "10.12.38.66",
            "10.12.52.65",
            "10.12.85.65",
            "10.12.13.72",
            "10.12.36.74",
            "10.12.53.66",
            "10.12.93.72",
            "10.12.43.68",
            "10.12.29.67",
            "10.12.97.78",
            "10.12.115.86",
            "10.12.109.32",
            "10.12.59.67",
            "10.12.112.68",
            "10.12.41.76",
            "10.12.58.76",
            "10.12.126.72",
            "10.12.35.62",
            "10.12.3.67",
            "10.12.103.72",
            "10.12.123.67",
            "10.12.11.69",
            "Hostlist for Pair to Pair",
            "10.12.100.71",
            "10.12.116.73",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1545.95",
            "real\t0m8.526s",
            "user\t0m2.706s",
            "sys\t0m5.173s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           4253.26           1241.71           1192.14              0.00",
            "real\t0m7.711s",
            "user\t0m2.633s",
            "sys\t0m4.447s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       8.89        8889662.88",
            "2                      19.07        9533570.53",
            "4                      36.30        9075874.96",
            "8                      77.05        9631577.13",
            "16                    153.69        9605734.32",
            "32                    306.46        9576816.02",
            "64                    558.44        8725585.06",
            "128                  1154.59        9020266.09",
            "256                  2293.30        8958216.70",
            "512                  3910.88        7638433.55",
            "1024                 8999.02        8788106.96",
            "2048                16309.23        7963489.42",
            "4096                33201.59        8105857.43",
            "8192                54067.09        6599986.71",
            "16384               57747.47        3524625.59",
            "32768               63869.76        1949150.34",
            "65536               77757.46        1186484.68",
            "131072              77779.51         593410.59",
            "262144              77981.38         297475.34",
            "524288              75513.76         144031.06",
            "1048576             78131.37          74511.89",
            "2097152             77828.07          37111.32",
            "4194304             77880.27          18568.10",
            "real\t1m6.959s",
            "user\t0m8.007s",
            "sys\t0m51.903s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      38.63",
            "1                      36.81",
            "2                      36.14",
            "4                      36.01",
            "8                      36.21",
            "16                     36.44",
            "32                     37.27",
            "64                     57.89",
            "128                    59.77",
            "256                    59.93",
            "512                    58.96",
            "1024                   60.15",
            "2048                   67.09",
            "4096                   71.31",
            "8192                   78.59",
            "16384                  84.06",
            "32768                 112.19",
            "65536                 274.14",
            "131072                323.41",
            "262144                410.88",
            "524288                621.45",
            "1048576              1073.54",
            "2097152              2052.03",
            "4194304              3902.67",
            "real\t0m51.867s",
            "user\t0m6.955s",
            "sys\t0m42.804s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1995.62",
            "2                    2306.25",
            "4                    1777.34",
            "8                    1524.21",
            "16                   1943.37",
            "32                   2053.18",
            "64                   2000.77",
            "128                  2073.46",
            "256                  2286.60",
            "512                 10882.87",
            "1024                12374.81",
            "2048                12480.20",
            "4096                12647.99",
            "8192                14916.44",
            "16384               21229.25",
            "32768               48724.22",
            "65536               60217.30",
            "131072              75042.76",
            "262144             108142.30",
            "524288             176014.62",
            "1048576            319995.50",
            "real\t4m6.902s",
            "user\t0m28.835s",
            "sys\t3m30.429s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1886.38",
            "8                    1594.14",
            "16                   1320.69",
            "32                   1740.36",
            "64                   2038.77",
            "128                  2009.28",
            "256                  1705.49",
            "512                  2121.67",
            "1024                 1804.74",
            "2048                 1717.74",
            "4096                 2031.16",
            "8192                 2019.77",
            "16384               30464.68",
            "32768               30508.64",
            "65536               28656.23",
            "131072              31426.69",
            "262144              33452.76",
            "524288              36695.70",
            "1048576             40087.85",
            "real\t2m34.427s",
            "user\t0m21.180s",
            "sys\t2m9.136s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}