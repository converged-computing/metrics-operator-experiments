{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.36.68",
            "10.12.20.66",
            "10.12.101.57",
            "10.12.34.69",
            "10.12.35.56",
            "10.12.33.61",
            "10.12.96.67",
            "10.12.4.62",
            "10.12.121.67",
            "10.12.75.61",
            "10.12.25.60",
            "10.12.60.64",
            "10.12.18.67",
            "10.12.2.63",
            "10.12.116.67",
            "10.12.103.66",
            "10.12.67.66",
            "10.12.39.62",
            "10.12.47.61",
            "10.12.107.57",
            "10.12.59.61",
            "10.12.5.70",
            "10.12.69.68",
            "10.12.122.68",
            "10.12.52.59",
            "10.12.1.64",
            "10.12.93.66",
            "10.12.88.68",
            "10.12.7.63",
            "10.12.37.69",
            "10.12.120.73",
            "10.12.71.65",
            "10.12.102.62",
            "10.12.38.60",
            "10.12.128.62",
            "10.12.29.61",
            "10.12.6.55",
            "10.12.123.61",
            "10.12.46.64",
            "10.12.53.60",
            "10.12.110.65",
            "10.12.89.53",
            "10.12.68.74",
            "10.12.32.63",
            "10.12.77.57",
            "10.12.54.65",
            "10.12.108.62",
            "10.12.118.63",
            "10.12.65.55",
            "10.12.105.66",
            "10.12.73.70",
            "10.12.74.62",
            "10.12.127.61",
            "10.12.125.63",
            "10.12.119.76",
            "10.12.12.59",
            "10.12.87.66",
            "10.12.8.62",
            "10.12.19.69",
            "10.12.99.62",
            "10.12.115.80",
            "10.12.45.74",
            "10.12.86.66",
            "10.12.126.66",
            "10.12.17.67",
            "10.12.85.59",
            "10.12.13.66",
            "10.12.98.63",
            "10.12.11.63",
            "10.12.63.54",
            "10.12.113.65",
            "10.12.14.63",
            "10.12.42.59",
            "10.12.50.62",
            "10.12.40.50",
            "10.12.0.62",
            "10.12.76.63",
            "10.12.114.67",
            "10.12.100.65",
            "10.12.83.58",
            "10.12.62.67",
            "10.12.58.70",
            "10.12.61.66",
            "10.12.28.61",
            "10.12.30.67",
            "10.12.92.64",
            "10.12.31.65",
            "10.12.24.63",
            "10.12.81.64",
            "10.12.66.64",
            "10.12.106.64",
            "10.12.90.61",
            "10.12.21.67",
            "10.12.124.57",
            "10.12.94.65",
            "10.12.112.62",
            "10.12.48.62",
            "10.12.23.56",
            "10.12.41.70",
            "10.12.9.63",
            "10.12.95.54",
            "10.12.44.62",
            "10.12.129.68",
            "10.12.16.65",
            "10.12.80.63",
            "10.12.51.57",
            "10.12.43.62",
            "10.12.70.67",
            "10.12.104.65",
            "10.12.3.61",
            "10.12.78.69",
            "10.12.10.68",
            "10.12.57.69",
            "10.12.22.56",
            "10.12.91.61",
            "10.12.64.66",
            "10.12.97.72",
            "10.12.55.53",
            "10.12.111.65",
            "10.12.82.28",
            "10.12.15.28",
            "10.12.26.28",
            "10.12.84.27",
            "10.12.117.27",
            "10.12.56.27",
            "10.12.109.27",
            "10.12.72.26",
            "10.12.49.57",
            "Hostlist for Pair to Pair",
            "10.12.36.68",
            "10.12.20.66",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1462.31",
            "real\t0m8.465s",
            "user\t0m2.618s",
            "sys\t0m5.094s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           6693.99           3597.16           3511.10             11.80",
            "real\t0m8.188s",
            "user\t0m2.882s",
            "sys\t0m4.637s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.20       10199530.56",
            "2                      20.41       10207405.20",
            "4                      38.88        9720712.95",
            "8                      81.40       10174969.23",
            "16                    163.71       10231717.68",
            "32                    328.48       10265005.04",
            "64                    675.65       10556982.37",
            "128                  1320.48       10316259.34",
            "256                  2608.43       10189191.09",
            "512                  5144.57       10047993.64",
            "1024                10138.27        9900653.61",
            "2048                19168.23        9359488.99",
            "4096                37366.31        9122635.03",
            "8192                43483.35        5308026.69",
            "16384               52605.23        3210768.34",
            "32768               75079.27        2291237.38",
            "65536               78486.36        1197606.75",
            "131072              68912.90         525763.67",
            "262144              78014.54         297601.87",
            "524288              78132.68         149026.27",
            "1048576             77763.81          74161.35",
            "2097152             77939.52          37164.46",
            "4194304             78041.26          18606.49",
            "real\t1m15.927s",
            "user\t0m8.756s",
            "sys\t0m55.010s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      29.14",
            "1                      29.06",
            "2                      30.11",
            "4                      29.06",
            "8                      29.37",
            "16                     30.99",
            "32                     30.98",
            "64                     51.67",
            "128                    54.11",
            "256                    52.08",
            "512                    54.25",
            "1024                   53.15",
            "2048                   63.33",
            "4096                   64.00",
            "8192                   67.32",
            "16384                  74.06",
            "32768                  96.28",
            "65536                 227.62",
            "131072                296.94",
            "262144                376.29",
            "524288                521.13",
            "1048576               872.28",
            "2097152              1706.32",
            "4194304              3385.72",
            "real\t0m49.284s",
            "user\t0m6.973s",
            "sys\t0m40.448s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1743.39",
            "2                    1861.51",
            "4                    1555.53",
            "8                    1696.40",
            "16                   1725.51",
            "32                   1709.62",
            "64                   1942.95",
            "128                  1961.54",
            "256                  2036.42",
            "512                 11487.83",
            "1024                11953.94",
            "2048                12292.13",
            "4096                13176.20",
            "8192                15065.46",
            "16384               20430.80",
            "32768               44315.75",
            "65536               59029.74",
            "131072              74532.18",
            "262144             105691.96",
            "524288             179528.75",
            "1048576            322353.58",
            "real\t4m5.324s",
            "user\t0m29.301s",
            "sys\t3m29.102s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1656.67",
            "8                    1478.66",
            "16                   1677.16",
            "32                   1602.81",
            "64                   1514.28",
            "128                  1997.57",
            "256                  1974.17",
            "512                  2080.06",
            "1024                 1987.57",
            "2048                 1779.65",
            "4096                 2309.12",
            "8192                 2021.86",
            "16384               29761.96",
            "32768               30656.55",
            "65536               30003.89",
            "131072              31264.76",
            "262144              30596.85",
            "524288              35809.07",
            "1048576             39024.92",
            "real\t2m34.199s",
            "user\t0m20.813s",
            "sys\t2m9.547s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}