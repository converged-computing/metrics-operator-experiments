{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.10.54",
            "10.12.74.46",
            "10.12.98.54",
            "10.12.31.55",
            "10.12.5.61",
            "10.12.21.56",
            "10.12.48.52",
            "10.12.29.46",
            "10.12.25.49",
            "10.12.39.52",
            "10.12.114.58",
            "10.12.95.48",
            "10.12.20.53",
            "10.12.69.57",
            "10.12.94.53",
            "10.12.112.52",
            "10.12.116.58",
            "10.12.81.53",
            "10.12.99.51",
            "10.12.40.44",
            "10.12.23.45",
            "10.12.115.65",
            "10.12.128.49",
            "10.12.122.56",
            "10.12.104.52",
            "10.12.4.53",
            "10.12.78.58",
            "10.12.34.58",
            "10.12.44.50",
            "10.12.9.53",
            "10.12.106.51",
            "10.12.97.61",
            "10.12.18.54",
            "10.12.113.52",
            "10.12.52.50",
            "10.12.58.57",
            "10.12.89.44",
            "10.12.51.47",
            "10.12.43.54",
            "10.12.101.48",
            "10.12.75.50",
            "10.12.102.53",
            "10.12.129.59",
            "10.12.119.63",
            "10.12.68.58",
            "10.12.1.47",
            "10.12.37.54",
            "10.12.24.51",
            "10.12.103.50",
            "10.12.46.54",
            "10.12.71.59",
            "10.12.120.60",
            "10.12.7.48",
            "10.12.65.43",
            "10.12.54.57",
            "10.12.70.57",
            "10.12.30.55",
            "10.12.126.55",
            "10.12.105.56",
            "10.12.41.56",
            "10.12.108.53",
            "10.12.12.49",
            "10.12.124.44",
            "10.12.57.57",
            "Hostlist for Pair to Pair",
            "10.12.10.54",
            "10.12.74.46",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1486.64            494.12            474.18              0.00",
            "real\t0m6.876s",
            "user\t0m2.434s",
            "sys\t0m3.941s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.53        4525938.24",
            "2                       9.44        4722497.14",
            "4                      19.73        4931685.08",
            "8                      38.52        4814495.69",
            "16                     72.28        4517523.23",
            "32                    141.65        4426652.53",
            "64                    302.18        4721569.96",
            "128                   576.53        4504162.82",
            "256                  1132.12        4422350.06",
            "512                  2292.05        4476651.76",
            "1024                 4399.84        4296716.29",
            "2048                 8470.55        4136009.69",
            "4096                15980.10        3901391.19",
            "8192                23243.01        2837281.61",
            "16384               35187.27        2147660.56",
            "32768               38826.64        1184895.16",
            "65536               39864.53         608284.44",
            "131072              39231.81         299314.99",
            "262144              39252.41         149736.05",
            "524288              37303.55          71150.87",
            "1048576             39134.96          37322.00",
            "2097152             39255.31          18718.39",
            "4194304             39370.59           9386.68",
            "real\t0m57.760s",
            "user\t0m7.355s",
            "sys\t0m47.153s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      43.87",
            "1                      45.27",
            "2                      45.74",
            "4                      46.83",
            "8                      45.66",
            "16                     45.11",
            "32                     45.03",
            "64                     70.06",
            "128                    69.01",
            "256                    69.68",
            "512                    71.98",
            "1024                   73.27",
            "2048                   74.65",
            "4096                   75.31",
            "8192                   83.38",
            "16384                  90.28",
            "32768                 120.59",
            "65536                 282.32",
            "131072                325.76",
            "262144                433.18",
            "524288                582.58",
            "1048576               940.93",
            "2097152              1830.44",
            "4194304              3423.21",
            "real\t0m46.285s",
            "user\t0m6.580s",
            "sys\t0m37.899s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     522.08",
            "2                     844.57",
            "4                     664.48",
            "8                     945.56",
            "16                    766.51",
            "32                    828.45",
            "64                    786.72",
            "128                   975.16",
            "256                   964.34",
            "512                   832.77",
            "1024                 4142.43",
            "2048                 4390.94",
            "4096                 4734.49",
            "8192                 5336.83",
            "16384                6249.29",
            "32768               19692.19",
            "65536               25480.32",
            "131072              31781.81",
            "262144              46398.12",
            "524288              77535.45",
            "1048576            144232.78",
            "real\t1m38.055s",
            "user\t0m12.079s",
            "sys\t1m22.633s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     570.54",
            "8                     564.25",
            "16                    765.87",
            "32                    652.73",
            "64                    941.65",
            "128                   692.35",
            "256                  1059.92",
            "512                   799.00",
            "1024                 1040.08",
            "2048                  968.14",
            "4096                  926.29",
            "8192                 1080.15",
            "16384               13313.88",
            "32768               13453.91",
            "65536               14418.25",
            "131072              13382.20",
            "262144              13642.14",
            "524288              15698.53",
            "1048576             24010.41",
            "real\t1m13.126s",
            "user\t0m11.503s",
            "sys\t0m59.557s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}