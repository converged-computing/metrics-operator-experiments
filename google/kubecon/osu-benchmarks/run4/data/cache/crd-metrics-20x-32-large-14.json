{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 32 nodes) is 32",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 32 ip addresses",
            "Hostlist",
            "10.12.86.44",
            "10.12.43.43",
            "10.12.116.48",
            "10.12.46.46",
            "10.12.4.44",
            "10.12.70.48",
            "10.12.28.45",
            "10.12.100.44",
            "10.12.2.41",
            "10.12.96.46",
            "10.12.1.40",
            "10.12.37.45",
            "10.12.63.39",
            "10.12.124.37",
            "10.12.40.37",
            "10.12.61.43",
            "10.12.11.45",
            "10.12.58.50",
            "10.12.123.44",
            "10.12.78.49",
            "10.12.8.41",
            "10.12.89.39",
            "10.12.66.44",
            "10.12.48.45",
            "10.12.62.43",
            "10.12.107.43",
            "10.12.112.43",
            "10.12.115.55",
            "10.12.9.47",
            "10.12.114.47",
            "10.12.125.43",
            "10.12.76.42",
            "Hostlist for Pair to Pair",
            "10.12.86.44",
            "10.12.43.43",
            "METADATA START {\"pods\":32,\"completions\":32,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1272.01            696.33            672.78             14.43",
            "real\t0m3.713s",
            "user\t0m1.246s",
            "sys\t0m2.068s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 16 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       2.24        2238269.42",
            "2                       4.48        2239991.12",
            "4                       8.93        2231742.39",
            "8                      18.31        2288156.43",
            "16                     35.51        2219310.92",
            "32                     71.33        2228939.85",
            "64                    124.32        1942440.19",
            "128                   257.97        2015402.44",
            "256                   519.00        2027330.35",
            "512                  1026.64        2005164.20",
            "1024                 1923.09        1878013.18",
            "2048                 3493.50        1705808.82",
            "4096                 7359.79        1796823.10",
            "8192                12956.52        1581606.63",
            "16384               15178.57         926426.30",
            "32768               14579.84         444941.34",
            "65536               16229.68         247645.26",
            "131072              19631.28         149774.80",
            "262144              19746.70          75327.70",
            "524288              19731.96          37635.72",
            "1048576             19600.09          18692.10",
            "2097152             19638.02           9364.14",
            "4194304             19612.90           4676.08",
            "real\t0m55.369s",
            "user\t0m6.991s",
            "sys\t0m45.030s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      29.56",
            "1                      28.43",
            "2                      29.32",
            "4                      31.78",
            "8                      29.43",
            "16                     30.57",
            "32                     27.83",
            "64                     50.45",
            "128                    50.60",
            "256                    53.39",
            "512                    51.65",
            "1024                   53.85",
            "2048                   62.66",
            "4096                   60.36",
            "8192                   64.56",
            "16384                  72.17",
            "32768                 101.42",
            "65536                 238.15",
            "131072                277.90",
            "262144                363.09",
            "524288                552.38",
            "1048576               934.24",
            "2097152              1573.62",
            "4194304              3080.35",
            "real\t0m42.128s",
            "user\t0m5.476s",
            "sys\t0m34.925s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     372.87",
            "2                     432.26",
            "4                     448.16",
            "8                     436.26",
            "16                    445.11",
            "32                    528.83",
            "64                    563.33",
            "128                   539.24",
            "256                   580.83",
            "512                   571.25",
            "1024                  607.02",
            "2048                 1616.71",
            "4096                 1788.15",
            "8192                 2096.65",
            "16384                2610.83",
            "32768                8010.45",
            "65536               10803.37",
            "131072              13229.43",
            "262144              20279.78",
            "524288              35093.82",
            "1048576             68048.64",
            "real\t0m43.610s",
            "user\t0m5.569s",
            "sys\t0m36.332s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     369.13",
            "8                     374.61",
            "16                    436.92",
            "32                    398.51",
            "64                    481.37",
            "128                   606.90",
            "256                   456.90",
            "512                   486.33",
            "1024                  590.20",
            "2048                  583.93",
            "4096                  500.81",
            "8192                  592.52",
            "16384                5712.04",
            "32768                5900.43",
            "65536                6527.99",
            "131072               5879.40",
            "262144               7846.53",
            "524288               8251.67",
            "1048576             14413.80",
            "real\t0m36.067s",
            "user\t0m5.903s",
            "sys\t0m28.948s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 32,
            "completions": 32,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 32,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 32,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}