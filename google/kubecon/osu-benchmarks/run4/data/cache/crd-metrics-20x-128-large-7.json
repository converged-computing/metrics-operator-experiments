{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.6.60",
            "10.12.22.61",
            "10.12.119.81",
            "10.12.126.71",
            "10.12.18.72",
            "10.12.17.72",
            "10.12.114.72",
            "10.12.75.66",
            "10.12.76.68",
            "10.12.97.77",
            "10.12.13.71",
            "10.12.103.71",
            "10.12.63.59",
            "10.12.127.66",
            "10.12.50.67",
            "10.12.116.72",
            "10.12.54.70",
            "10.12.53.65",
            "10.12.85.64",
            "10.12.102.67",
            "10.12.37.74",
            "10.12.47.66",
            "10.12.28.66",
            "10.12.20.71",
            "10.12.105.71",
            "10.12.49.62",
            "10.12.104.70",
            "10.12.122.73",
            "10.12.99.67",
            "10.12.2.68",
            "10.12.61.71",
            "10.12.62.72",
            "10.12.108.67",
            "10.12.66.69",
            "10.12.98.68",
            "10.12.11.68",
            "10.12.32.68",
            "10.12.68.79",
            "10.12.125.68",
            "10.12.64.71",
            "10.12.80.68",
            "10.12.112.67",
            "10.12.65.60",
            "10.12.129.73",
            "10.12.39.67",
            "10.12.3.66",
            "10.12.7.68",
            "10.12.58.75",
            "10.12.16.70",
            "10.12.73.75",
            "10.12.74.67",
            "10.12.93.71",
            "10.12.90.66",
            "10.12.71.70",
            "10.12.52.64",
            "10.12.34.74",
            "10.12.24.68",
            "10.12.46.69",
            "10.12.123.66",
            "10.12.106.69",
            "10.12.60.69",
            "10.12.1.69",
            "10.12.110.70",
            "10.12.87.71",
            "10.12.72.30",
            "10.12.117.32",
            "10.12.109.31",
            "10.12.70.72",
            "10.12.41.75",
            "10.12.84.32",
            "10.12.91.66",
            "10.12.9.68",
            "10.12.33.66",
            "10.12.94.70",
            "10.12.44.67",
            "10.12.30.72",
            "10.12.51.62",
            "10.12.10.73",
            "10.12.5.75",
            "10.12.15.33",
            "10.12.111.70",
            "10.12.83.63",
            "10.12.120.78",
            "10.12.128.67",
            "10.12.29.66",
            "10.12.45.79",
            "10.12.107.62",
            "10.12.88.73",
            "10.12.82.33",
            "10.12.35.61",
            "10.12.12.64",
            "10.12.86.71",
            "10.12.19.74",
            "10.12.121.72",
            "10.12.25.65",
            "10.12.89.58",
            "10.12.21.72",
            "10.12.78.74",
            "10.12.124.62",
            "10.12.0.67",
            "10.12.14.68",
            "10.12.100.70",
            "10.12.38.65",
            "10.12.23.61",
            "10.12.8.67",
            "10.12.118.68",
            "10.12.31.70",
            "10.12.95.59",
            "10.12.57.74",
            "10.12.77.62",
            "10.12.4.67",
            "10.12.69.73",
            "10.12.43.67",
            "10.12.92.69",
            "10.12.36.73",
            "10.12.96.72",
            "10.12.56.32",
            "10.12.26.33",
            "10.12.55.58",
            "10.12.48.67",
            "10.12.115.85",
            "10.12.42.64",
            "10.12.67.71",
            "10.12.40.55",
            "10.12.81.69",
            "10.12.59.66",
            "10.12.101.62",
            "10.12.113.70",
            "Hostlist for Pair to Pair",
            "10.12.6.60",
            "10.12.22.61",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1363.89",
            "real\t0m8.201s",
            "user\t0m2.547s",
            "sys\t0m4.975s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3995.35           2157.21           2106.76             12.75",
            "real\t0m7.649s",
            "user\t0m2.655s",
            "sys\t0m4.248s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.17        9170131.12",
            "2                      18.84        9418494.64",
            "4                      37.66        9416155.59",
            "8                      74.89        9360667.12",
            "16                    148.94        9308848.24",
            "32                    298.42        9325763.25",
            "64                    523.87        8185424.81",
            "128                   958.32        7486885.70",
            "256                  2227.67        8701833.83",
            "512                  4341.75        8479975.56",
            "1024                 8848.99        8641591.96",
            "2048                15961.92        7793905.84",
            "4096                30554.08        7459491.51",
            "8192                39171.56        4781684.41",
            "16384               64117.16        3913400.98",
            "32768               61126.01        1865417.64",
            "65536               71759.86        1094968.55",
            "131072              78126.09         596054.78",
            "262144              70970.72         270731.82",
            "524288              77104.72         147065.59",
            "1048576             78119.03          74500.11",
            "2097152             77735.42          37067.13",
            "4194304             77773.21          18542.58",
            "real\t1m19.235s",
            "user\t0m8.439s",
            "sys\t0m56.801s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      39.94",
            "1                      40.92",
            "2                      39.57",
            "4                      39.27",
            "8                      40.25",
            "16                     39.80",
            "32                     41.54",
            "64                     62.03",
            "128                    63.63",
            "256                    64.86",
            "512                    64.31",
            "1024                   63.65",
            "2048                   72.85",
            "4096                   76.20",
            "8192                   80.40",
            "16384                  98.97",
            "32768                 138.29",
            "65536                 285.23",
            "131072                332.63",
            "262144                427.52",
            "524288                596.97",
            "1048576              1018.96",
            "2097152              1924.12",
            "4194304              3594.11",
            "real\t0m49.322s",
            "user\t0m6.860s",
            "sys\t0m40.511s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1839.44",
            "2                    1679.93",
            "4                    1630.12",
            "8                    1898.92",
            "16                   2043.68",
            "32                   1973.14",
            "64                   1972.04",
            "128                  2058.66",
            "256                  1795.46",
            "512                 12527.36",
            "1024                12426.17",
            "2048                12342.09",
            "4096                13076.24",
            "8192                14997.64",
            "16384               18641.58",
            "32768               46313.89",
            "65536               57672.41",
            "131072              74090.12",
            "262144             106746.05",
            "524288             170132.59",
            "1048576            318455.15",
            "real\t4m6.642s",
            "user\t0m28.770s",
            "sys\t3m30.493s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1365.97",
            "8                    1794.42",
            "16                   1729.82",
            "32                   1786.86",
            "64                   2172.11",
            "128                  1766.98",
            "256                  2013.84",
            "512                  1724.06",
            "1024                 1790.05",
            "2048                 2070.89",
            "4096                 2006.44",
            "8192                 2545.08",
            "16384               30047.37",
            "32768               31046.77",
            "65536               29953.48",
            "131072              31695.79",
            "262144              34590.39",
            "524288              33554.45",
            "1048576             41500.42",
            "real\t2m35.698s",
            "user\t0m20.943s",
            "sys\t2m10.735s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}