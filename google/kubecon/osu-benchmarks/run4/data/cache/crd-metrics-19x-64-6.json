{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.54.53",
            "10.12.110.55",
            "10.12.5.57",
            "10.12.80.53",
            "10.12.83.51",
            "10.12.6.42",
            "10.12.100.49",
            "10.12.21.54",
            "10.12.91.45",
            "10.12.81.51",
            "10.12.12.48",
            "10.12.58.54",
            "10.12.32.51",
            "10.12.34.55",
            "10.12.123.49",
            "10.12.90.49",
            "10.12.52.47",
            "10.12.70.55",
            "10.12.3.51",
            "10.12.35.46",
            "10.12.1.42",
            "10.12.8.48",
            "10.12.108.51",
            "10.12.28.50",
            "10.12.51.46",
            "10.12.67.50",
            "10.12.25.46",
            "10.12.11.48",
            "10.12.16.53",
            "10.12.37.51",
            "10.12.103.47",
            "10.12.98.51",
            "10.12.14.46",
            "10.12.71.56",
            "10.12.64.51",
            "10.12.93.51",
            "10.12.40.42",
            "10.12.48.49",
            "10.12.13.53",
            "10.12.111.47",
            "10.12.60.50",
            "10.12.61.52",
            "10.12.68.54",
            "10.12.43.52",
            "10.12.20.51",
            "10.12.113.48",
            "10.12.119.59",
            "10.12.22.45",
            "10.12.129.56",
            "10.12.95.44",
            "10.12.102.51",
            "10.12.92.51",
            "10.12.86.50",
            "10.12.87.50",
            "10.12.88.55",
            "10.12.53.47",
            "10.12.65.40",
            "10.12.23.43",
            "10.12.76.49",
            "10.12.66.48",
            "10.12.115.61",
            "10.12.2.47",
            "10.12.57.54",
            "10.12.75.47",
            "Hostlist for Pair to Pair",
            "10.12.54.53",
            "10.12.110.55",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1400.89            729.48            710.50              5.50",
            "real\t0m6.895s",
            "user\t0m2.406s",
            "sys\t0m3.964s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.94        4935734.95",
            "2                       9.93        4966159.19",
            "4                      18.90        4725052.25",
            "8                      41.95        5244111.74",
            "16                     80.87        5054483.16",
            "32                    158.84        4963776.43",
            "64                    322.55        5039906.93",
            "128                   599.89        4686624.76",
            "256                  1078.32        4212203.40",
            "512                  2431.25        4748541.98",
            "1024                 4944.77        4828873.95",
            "2048                 9444.77        4611704.61",
            "4096                17785.12        4342069.97",
            "8192                24937.90        3044177.54",
            "16384               30736.28        1875993.80",
            "32768               37440.56        1142595.15",
            "65536               39660.98         605178.52",
            "131072              38986.69         297444.80",
            "262144              39079.41         149076.11",
            "524288              37205.50          70963.87",
            "1048576             38807.65          37009.86",
            "2097152             38969.65          18582.18",
            "4194304             39055.56           9311.57",
            "real\t1m2.344s",
            "user\t0m8.392s",
            "sys\t0m49.242s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      27.48",
            "1                      27.94",
            "2                      27.70",
            "4                      28.83",
            "8                      29.12",
            "16                     29.20",
            "32                     28.92",
            "64                     53.05",
            "128                    51.44",
            "256                    52.69",
            "512                    54.79",
            "1024                   52.22",
            "2048                   59.35",
            "4096                   65.04",
            "8192                   64.88",
            "16384                  75.46",
            "32768                 102.62",
            "65536                 238.09",
            "131072                280.53",
            "262144                388.95",
            "524288                567.42",
            "1048576               964.93",
            "2097152              1887.02",
            "4194304              3708.79",
            "real\t0m49.506s",
            "user\t0m7.087s",
            "sys\t0m40.480s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     719.86",
            "2                     798.45",
            "4                     887.36",
            "8                     760.38",
            "16                    926.87",
            "32                    889.67",
            "64                    852.43",
            "128                   855.37",
            "256                   758.71",
            "512                  1101.62",
            "1024                 4050.44",
            "2048                 4218.68",
            "4096                 4792.31",
            "8192                 5094.21",
            "16384                8213.44",
            "32768               19943.98",
            "65536               22811.82",
            "131072              30848.72",
            "262144              45988.20",
            "524288              78236.25",
            "1048576            146011.72",
            "real\t1m38.058s",
            "user\t0m11.982s",
            "sys\t1m22.835s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     847.63",
            "8                     764.32",
            "16                    764.45",
            "32                    642.11",
            "64                    804.12",
            "128                  1070.74",
            "256                  1005.92",
            "512                   869.31",
            "1024                  700.31",
            "2048                  828.90",
            "4096                 1159.07",
            "8192                 1021.01",
            "16384               13033.23",
            "32768               12850.70",
            "65536               13077.96",
            "131072              15286.11",
            "262144              15159.27",
            "524288              16638.34",
            "1048576             24380.52",
            "real\t1m13.515s",
            "user\t0m11.056s",
            "sys\t1m0.490s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}