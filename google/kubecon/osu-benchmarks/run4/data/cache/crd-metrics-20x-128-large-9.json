{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.128.69",
            "10.12.29.68",
            "10.12.113.72",
            "10.12.20.73",
            "10.12.2.70",
            "10.12.49.64",
            "10.12.25.67",
            "10.12.48.69",
            "10.12.0.69",
            "10.12.61.73",
            "10.12.1.71",
            "10.12.4.69",
            "10.12.123.68",
            "10.12.88.75",
            "10.12.63.61",
            "10.12.30.74",
            "10.12.55.60",
            "10.12.90.68",
            "10.12.119.83",
            "10.12.108.69",
            "10.12.37.76",
            "10.12.28.68",
            "10.12.102.69",
            "10.12.101.64",
            "10.12.68.81",
            "10.12.32.70",
            "10.12.58.77",
            "10.12.57.76",
            "10.12.12.66",
            "10.12.60.71",
            "10.12.92.71",
            "10.12.85.66",
            "10.12.80.70",
            "10.12.24.70",
            "10.12.44.69",
            "10.12.11.70",
            "10.12.34.76",
            "10.12.116.74",
            "10.12.40.57",
            "10.12.111.72",
            "10.12.121.74",
            "10.12.13.73",
            "10.12.100.72",
            "10.12.93.73",
            "10.12.73.77",
            "10.12.94.72",
            "10.12.124.64",
            "10.12.23.63",
            "10.12.53.67",
            "10.12.45.81",
            "10.12.127.68",
            "10.12.50.69",
            "10.12.83.65",
            "10.12.115.87",
            "10.12.39.69",
            "10.12.95.61",
            "10.12.65.62",
            "10.12.46.71",
            "10.12.70.74",
            "10.12.43.69",
            "10.12.76.70",
            "10.12.3.68",
            "10.12.77.64",
            "10.12.110.72",
            "10.12.122.75",
            "10.12.91.68",
            "10.12.71.72",
            "10.12.106.71",
            "10.12.31.72",
            "10.12.52.66",
            "10.12.36.75",
            "10.12.125.70",
            "10.12.7.70",
            "10.12.69.75",
            "10.12.6.62",
            "10.12.112.69",
            "10.12.8.69",
            "10.12.21.74",
            "10.12.96.74",
            "10.12.9.70",
            "10.12.120.80",
            "10.12.14.70",
            "10.12.26.35",
            "10.12.117.34",
            "10.12.89.60",
            "10.12.103.73",
            "10.12.22.63",
            "10.12.19.76",
            "10.12.64.73",
            "10.12.62.74",
            "10.12.105.73",
            "10.12.97.79",
            "10.12.67.73",
            "10.12.42.66",
            "10.12.5.77",
            "10.12.74.69",
            "10.12.114.74",
            "10.12.129.75",
            "10.12.78.76",
            "10.12.51.64",
            "10.12.54.72",
            "10.12.75.68",
            "10.12.16.72",
            "10.12.86.73",
            "10.12.41.77",
            "10.12.59.68",
            "10.12.107.64",
            "10.12.118.70",
            "10.12.87.73",
            "10.12.47.68",
            "10.12.38.67",
            "10.12.66.71",
            "10.12.18.74",
            "10.12.104.72",
            "10.12.81.71",
            "10.12.126.73",
            "10.12.99.69",
            "10.12.10.75",
            "10.12.98.70",
            "10.12.17.74",
            "10.12.33.68",
            "10.12.72.32",
            "10.12.56.34",
            "10.12.82.35",
            "10.12.109.33",
            "10.12.15.35",
            "10.12.84.34",
            "10.12.35.63",
            "Hostlist for Pair to Pair",
            "10.12.128.69",
            "10.12.29.68",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1886.09",
            "real\t0m8.906s",
            "user\t0m2.642s",
            "sys\t0m5.617s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           2431.79            864.14            839.92              0.00",
            "real\t0m7.431s",
            "user\t0m2.603s",
            "sys\t0m4.169s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.72       10718726.18",
            "2                      21.24       10621022.27",
            "4                      43.16       10790786.00",
            "8                      85.03       10628159.24",
            "16                    170.49       10655756.17",
            "32                    345.36       10792382.75",
            "64                    658.13       10283313.06",
            "128                  1172.13        9157244.85",
            "256                  2489.32        9723901.27",
            "512                  5025.63        9815676.17",
            "1024                 4489.82        4384585.86",
            "2048                19390.61        9468072.32",
            "4096                37087.26        9054505.78",
            "8192                41231.48        5033139.71",
            "16384               56270.88        3434501.91",
            "32768               62148.02        1896607.02",
            "65536               76807.46        1171988.75",
            "131072              78626.22         599870.43",
            "262144              78192.03         298278.91",
            "524288              74311.64         141738.21",
            "1048576             78011.76          74397.81",
            "2097152             78111.12          37246.28",
            "4194304             78134.35          18628.68",
            "real\t1m6.048s",
            "user\t0m7.846s",
            "sys\t0m51.624s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.86",
            "1                      35.24",
            "2                      34.32",
            "4                      34.07",
            "8                      33.96",
            "16                     34.19",
            "32                     34.31",
            "64                     58.87",
            "128                    59.52",
            "256                    62.01",
            "512                    59.55",
            "1024                   62.87",
            "2048                   69.63",
            "4096                   71.18",
            "8192                   74.98",
            "16384                  89.11",
            "32768                 110.42",
            "65536                 260.71",
            "131072                288.78",
            "262144                362.05",
            "524288                537.07",
            "1048576               952.64",
            "2097152              1792.67",
            "4194304              3411.79",
            "real\t0m50.125s",
            "user\t0m7.224s",
            "sys\t0m40.922s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1711.06",
            "2                    1576.87",
            "4                    1780.63",
            "8                    1881.32",
            "16                   1878.80",
            "32                   2248.21",
            "64                   1809.52",
            "128                  1945.50",
            "256                  2006.51",
            "512                 11057.79",
            "1024                11718.86",
            "2048                12410.86",
            "4096                13184.29",
            "8192                14757.79",
            "16384               19413.13",
            "32768               51204.64",
            "65536               59062.54",
            "131072              75578.97",
            "262144             105451.74",
            "524288             175786.39",
            "1048576            321541.96",
            "real\t4m7.036s",
            "user\t0m30.127s",
            "sys\t3m29.998s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    2076.46",
            "8                    2007.82",
            "16                   1663.10",
            "32                   2001.06",
            "64                   2057.18",
            "128                  1873.94",
            "256                  2007.62",
            "512                  2165.76",
            "1024                 2072.50",
            "2048                 1882.39",
            "4096                 1956.61",
            "8192                 1985.06",
            "16384               29975.89",
            "32768               30560.96",
            "65536               29194.12",
            "131072              32002.36",
            "262144              34450.24",
            "524288              34860.70",
            "1048576             40249.73",
            "real\t2m36.880s",
            "user\t0m21.647s",
            "sys\t2m11.253s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}