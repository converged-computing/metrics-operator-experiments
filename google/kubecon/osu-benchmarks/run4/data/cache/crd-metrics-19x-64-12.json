{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.38.50",
            "10.12.62.54",
            "10.12.115.66",
            "10.12.2.52",
            "10.12.41.57",
            "10.12.108.54",
            "10.12.39.53",
            "10.12.66.51",
            "10.12.124.45",
            "10.12.128.50",
            "10.12.1.48",
            "10.12.0.49",
            "10.12.111.49",
            "10.12.126.56",
            "10.12.47.46",
            "10.12.85.48",
            "10.12.86.54",
            "10.12.6.45",
            "10.12.77.48",
            "10.12.7.49",
            "10.12.123.51",
            "10.12.73.59",
            "10.12.46.55",
            "10.12.34.59",
            "10.12.18.55",
            "10.12.48.53",
            "10.12.28.54",
            "10.12.78.59",
            "10.12.42.47",
            "10.12.33.50",
            "10.12.69.58",
            "10.12.40.45",
            "10.12.29.47",
            "10.12.19.59",
            "10.12.44.51",
            "10.12.30.56",
            "10.12.127.49",
            "10.12.91.48",
            "10.12.63.47",
            "10.12.87.53",
            "10.12.101.49",
            "10.12.74.47",
            "10.12.67.54",
            "10.12.113.53",
            "10.12.17.57",
            "10.12.89.45",
            "10.12.80.57",
            "10.12.23.46",
            "10.12.59.53",
            "10.12.100.51",
            "10.12.50.51",
            "10.12.37.55",
            "10.12.125.51",
            "10.12.16.55",
            "10.12.102.54",
            "10.12.22.47",
            "10.12.51.48",
            "10.12.122.57",
            "10.12.64.55",
            "10.12.103.51",
            "10.12.118.51",
            "10.12.96.56",
            "10.12.8.51",
            "10.12.45.60",
            "Hostlist for Pair to Pair",
            "10.12.38.50",
            "10.12.62.54",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1965.50            766.26            738.58              0.00",
            "real\t0m6.888s",
            "user\t0m2.560s",
            "sys\t0m3.869s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.83        4829057.50",
            "2                       9.90        4950944.31",
            "4                      19.58        4895450.23",
            "8                      39.50        4936919.17",
            "16                     78.52        4907461.05",
            "32                    128.40        4012349.49",
            "64                    302.79        4731038.28",
            "128                   555.39        4338967.88",
            "256                  1148.65        4486907.06",
            "512                  2269.31        4432242.79",
            "1024                 3919.51        3827649.47",
            "2048                 9072.19        4429781.18",
            "4096                16958.07        4140154.25",
            "8192                20606.86        2515485.56",
            "16384               29049.78        1773057.67",
            "32768               38135.71        1163809.49",
            "65536               39403.86         601255.16",
            "131072              39378.33         300432.84",
            "262144              39348.23         150101.59",
            "524288              37592.11          71701.26",
            "1048576             39343.34          37520.74",
            "2097152             39151.86          18669.06",
            "4194304             39191.33           9343.94",
            "real\t0m57.045s",
            "user\t0m7.549s",
            "sys\t0m46.659s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      26.41",
            "1                      25.51",
            "2                      27.02",
            "4                      26.35",
            "8                      25.54",
            "16                     26.36",
            "32                     25.73",
            "64                     48.97",
            "128                    52.59",
            "256                    48.90",
            "512                    50.43",
            "1024                   51.28",
            "2048                   56.14",
            "4096                   57.92",
            "8192                   65.84",
            "16384                  68.08",
            "32768                 100.44",
            "65536                 218.72",
            "131072                281.42",
            "262144                387.90",
            "524288                555.43",
            "1048576               952.01",
            "2097152              1796.88",
            "4194304              3259.48",
            "real\t0m47.550s",
            "user\t0m6.685s",
            "sys\t0m38.832s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     816.07",
            "2                     705.60",
            "4                     626.55",
            "8                     841.34",
            "16                    662.27",
            "32                    794.27",
            "64                    990.30",
            "128                   802.25",
            "256                  1054.78",
            "512                   914.63",
            "1024                 4032.58",
            "2048                 4298.06",
            "4096                 4317.68",
            "8192                 5360.73",
            "16384                6735.69",
            "32768               18067.35",
            "65536               24280.04",
            "131072              31649.80",
            "262144              47933.70",
            "524288              78094.87",
            "1048576            145865.86",
            "real\t1m38.001s",
            "user\t0m12.086s",
            "sys\t1m22.505s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     711.62",
            "8                     605.56",
            "16                    864.34",
            "32                    604.25",
            "64                   1011.06",
            "128                   804.31",
            "256                   933.92",
            "512                  1095.88",
            "1024                  805.79",
            "2048                  950.79",
            "4096                 1071.19",
            "8192                 1074.57",
            "16384               12814.53",
            "32768               13018.71",
            "65536               12333.89",
            "131072              13237.79",
            "262144              14702.72",
            "524288              16615.84",
            "1048576             27712.56",
            "real\t1m13.154s",
            "user\t0m11.161s",
            "sys\t0m59.864s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}