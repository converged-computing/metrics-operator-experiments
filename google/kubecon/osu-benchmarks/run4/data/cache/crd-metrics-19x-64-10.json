{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.7.47",
            "10.12.116.57",
            "10.12.124.43",
            "10.12.46.53",
            "10.12.127.48",
            "10.12.40.43",
            "10.12.104.51",
            "10.12.11.51",
            "10.12.92.53",
            "10.12.2.51",
            "10.12.86.53",
            "10.12.34.57",
            "10.12.126.54",
            "10.12.5.60",
            "10.12.100.50",
            "10.12.62.53",
            "10.12.113.51",
            "10.12.95.47",
            "10.12.77.47",
            "10.12.54.56",
            "10.12.47.45",
            "10.12.85.47",
            "10.12.114.57",
            "10.12.115.64",
            "10.12.74.45",
            "10.12.112.51",
            "10.12.39.51",
            "10.12.69.56",
            "10.12.68.57",
            "10.12.90.50",
            "10.12.78.57",
            "10.12.14.50",
            "10.12.83.54",
            "10.12.94.52",
            "10.12.71.58",
            "10.12.18.53",
            "10.12.32.52",
            "10.12.57.56",
            "10.12.107.47",
            "10.12.125.50",
            "10.12.31.54",
            "10.12.89.43",
            "10.12.17.56",
            "10.12.64.54",
            "10.12.50.50",
            "10.12.29.45",
            "10.12.87.52",
            "10.12.128.48",
            "10.12.9.52",
            "10.12.23.44",
            "10.12.25.48",
            "10.12.119.62",
            "10.12.93.54",
            "10.12.3.53",
            "10.12.22.46",
            "10.12.48.51",
            "10.12.73.58",
            "10.12.1.46",
            "10.12.59.52",
            "10.12.13.56",
            "10.12.42.46",
            "10.12.76.52",
            "10.12.96.55",
            "10.12.60.52",
            "Hostlist for Pair to Pair",
            "10.12.7.47",
            "10.12.116.57",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1135.89            515.22            500.74              0.00",
            "real\t0m6.756s",
            "user\t0m2.410s",
            "sys\t0m3.866s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.81        4810841.16",
            "2                      10.67        5334748.57",
            "4                      21.20        5299255.94",
            "8                      41.39        5173506.34",
            "16                     83.12        5194824.43",
            "32                    157.53        4922772.33",
            "64                    305.97        4780758.23",
            "128                   624.58        4879565.39",
            "256                  1168.44        4564223.52",
            "512                  2476.90        4837692.35",
            "1024                 4820.62        4707634.41",
            "2048                 9553.43        4664761.28",
            "4096                17597.71        4296316.26",
            "8192                21017.33        2565592.12",
            "16384               33066.01        2018189.19",
            "32768               38246.21        1167181.80",
            "65536               36982.93         564314.80",
            "131072              39465.69         301099.33",
            "262144              37012.42         141191.17",
            "524288              38946.66          74284.86",
            "1048576             38644.45          36854.22",
            "2097152             38719.08          18462.70",
            "4194304             38712.95           9229.89",
            "real\t1m5.903s",
            "user\t0m8.555s",
            "sys\t0m51.121s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.18",
            "1                      36.03",
            "2                      35.50",
            "4                      36.40",
            "8                      37.84",
            "16                     35.55",
            "32                     35.85",
            "64                     58.26",
            "128                    58.36",
            "256                    58.65",
            "512                    57.58",
            "1024                   58.64",
            "2048                   67.19",
            "4096                   67.92",
            "8192                   74.67",
            "16384                  83.49",
            "32768                 107.13",
            "65536                 260.38",
            "131072                301.40",
            "262144                387.65",
            "524288                553.08",
            "1048576               986.97",
            "2097152              1937.15",
            "4194304              3725.12",
            "real\t0m46.377s",
            "user\t0m6.723s",
            "sys\t0m38.006s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     675.64",
            "2                     770.90",
            "4                     705.95",
            "8                     959.56",
            "16                    865.73",
            "32                    885.76",
            "64                    728.63",
            "128                   784.89",
            "256                   843.91",
            "512                   988.16",
            "1024                 4277.69",
            "2048                 4458.75",
            "4096                 4385.29",
            "8192                 5104.50",
            "16384                7282.75",
            "32768               19291.88",
            "65536               23913.11",
            "131072              30641.30",
            "262144              46690.00",
            "524288              77540.76",
            "1048576            147127.30",
            "real\t1m37.465s",
            "user\t0m12.108s",
            "sys\t1m22.256s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     759.78",
            "8                     672.88",
            "16                    579.91",
            "32                    683.72",
            "64                    719.41",
            "128                   902.43",
            "256                   930.81",
            "512                   916.50",
            "1024                 1025.24",
            "2048                  793.45",
            "4096                  942.23",
            "8192                 1203.01",
            "16384               12904.54",
            "32768               13597.03",
            "65536               12914.47",
            "131072              14482.35",
            "262144              15593.52",
            "524288              17020.48",
            "1048576             24312.90",
            "real\t1m13.166s",
            "user\t0m11.234s",
            "sys\t0m59.912s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}