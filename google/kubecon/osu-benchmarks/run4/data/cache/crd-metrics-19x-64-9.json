{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.41.55",
            "10.12.24.50",
            "10.12.60.51",
            "10.12.129.58",
            "10.12.67.53",
            "10.12.92.52",
            "10.12.0.48",
            "10.12.28.53",
            "10.12.30.54",
            "10.12.61.55",
            "10.12.47.44",
            "10.12.70.56",
            "10.12.86.52",
            "10.12.120.59",
            "10.12.2.50",
            "10.12.124.42",
            "10.12.118.50",
            "10.12.37.53",
            "10.12.21.55",
            "10.12.122.55",
            "10.12.52.49",
            "10.12.4.52",
            "10.12.114.56",
            "10.12.17.55",
            "10.12.111.48",
            "10.12.81.52",
            "10.12.93.53",
            "10.12.45.59",
            "10.12.57.55",
            "10.12.104.50",
            "10.12.58.56",
            "10.12.43.53",
            "10.12.54.55",
            "10.12.80.56",
            "10.12.46.52",
            "10.12.126.53",
            "10.12.18.52",
            "10.12.98.53",
            "10.12.74.44",
            "10.12.19.58",
            "10.12.34.56",
            "10.12.71.57",
            "10.12.108.52",
            "10.12.116.56",
            "10.12.105.55",
            "10.12.49.48",
            "10.12.97.60",
            "10.12.89.42",
            "10.12.14.49",
            "10.12.76.51",
            "10.12.66.50",
            "10.12.1.45",
            "10.12.64.53",
            "10.12.119.61",
            "10.12.78.56",
            "10.12.31.53",
            "10.12.39.50",
            "10.12.96.54",
            "10.12.106.50",
            "10.12.69.55",
            "10.12.9.51",
            "10.12.112.50",
            "10.12.91.47",
            "10.12.6.44",
            "Hostlist for Pair to Pair",
            "10.12.41.55",
            "10.12.24.50",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1376.33            622.73            603.64              0.00",
            "real\t0m6.817s",
            "user\t0m2.484s",
            "sys\t0m3.832s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.05        5053911.39",
            "2                      10.44        5222160.34",
            "4                      20.94        5235994.96",
            "8                      42.24        5280276.46",
            "16                     56.69        3543312.00",
            "32                    160.16        5004994.85",
            "64                    317.61        4962732.62",
            "128                   629.06        4914514.92",
            "256                  1246.04        4867342.34",
            "512                  2504.51        4891625.07",
            "1024                 4816.01        4703134.50",
            "2048                 9609.46        4692118.55",
            "4096                18550.17        4528850.60",
            "8192                20602.40        2514941.61",
            "16384               20754.73        1266767.93",
            "32768               33855.08        1033175.10",
            "65536               38630.29         589451.49",
            "131072              38233.97         291702.08",
            "262144              38997.35         148763.10",
            "524288              37366.73          71271.38",
            "1048576             39054.96          37245.71",
            "2097152             39027.91          18609.96",
            "4194304             38945.22           9285.26",
            "real\t1m7.176s",
            "user\t0m8.428s",
            "sys\t0m50.535s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      43.88",
            "1                      42.85",
            "2                      43.74",
            "4                      43.49",
            "8                      43.31",
            "16                     44.64",
            "32                     42.15",
            "64                     67.67",
            "128                    67.57",
            "256                    67.06",
            "512                    67.43",
            "1024                   67.19",
            "2048                   76.30",
            "4096                   81.26",
            "8192                   85.46",
            "16384                  93.44",
            "32768                 118.77",
            "65536                 307.77",
            "131072                346.14",
            "262144                427.76",
            "524288                598.92",
            "1048576              1174.08",
            "2097152              2311.11",
            "4194304              4408.22",
            "real\t0m47.632s",
            "user\t0m6.850s",
            "sys\t0m39.009s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     753.77",
            "2                     823.59",
            "4                     689.52",
            "8                    1028.81",
            "16                    755.69",
            "32                    939.60",
            "64                    843.43",
            "128                   841.47",
            "256                   989.87",
            "512                   873.62",
            "1024                 4037.34",
            "2048                 4083.97",
            "4096                 4628.59",
            "8192                 5470.39",
            "16384                7804.38",
            "32768               20228.69",
            "65536               24417.82",
            "131072              30442.38",
            "262144              46716.12",
            "524288              85106.43",
            "1048576            148008.00",
            "real\t1m40.688s",
            "user\t0m13.384s",
            "sys\t1m24.147s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1068.57",
            "8                     838.81",
            "16                   1010.13",
            "32                    994.40",
            "64                   1047.19",
            "128                   953.99",
            "256                   888.64",
            "512                   829.79",
            "1024                  822.37",
            "2048                  963.10",
            "4096                 1096.36",
            "8192                 1063.36",
            "16384               13499.10",
            "32768               13231.42",
            "65536               13605.66",
            "131072              14862.96",
            "262144              15262.10",
            "524288              18080.20",
            "1048576             24987.93",
            "real\t1m16.872s",
            "user\t0m11.682s",
            "sys\t1m3.001s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}