{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.25.71",
            "10.12.57.80",
            "10.12.69.79",
            "10.12.49.68",
            "10.12.20.77",
            "10.12.51.68",
            "10.12.14.74",
            "10.12.92.75",
            "10.12.103.77",
            "10.12.29.72",
            "10.12.40.61",
            "10.12.122.79",
            "10.12.86.77",
            "10.12.112.73",
            "10.12.36.79",
            "10.12.37.80",
            "10.12.11.74",
            "10.12.33.72",
            "10.12.94.76",
            "10.12.97.83",
            "10.12.64.77",
            "10.12.85.70",
            "10.12.12.70",
            "10.12.126.77",
            "10.12.35.67",
            "10.12.90.72",
            "10.12.96.78",
            "10.12.98.74",
            "10.12.81.75",
            "10.12.123.72",
            "10.12.65.66",
            "10.12.66.75",
            "10.12.19.80",
            "10.12.104.76",
            "10.12.118.74",
            "10.12.101.68",
            "10.12.89.64",
            "10.12.23.67",
            "10.12.8.73",
            "10.12.24.74",
            "10.12.95.65",
            "10.12.13.77",
            "10.12.9.74",
            "10.12.78.80",
            "10.12.7.74",
            "10.12.67.77",
            "10.12.2.74",
            "10.12.44.73",
            "10.12.10.79",
            "10.12.28.72",
            "10.12.88.79",
            "10.12.0.73",
            "10.12.60.75",
            "10.12.119.87",
            "10.12.58.81",
            "10.12.4.73",
            "10.12.34.80",
            "10.12.87.77",
            "10.12.70.78",
            "10.12.77.68",
            "10.12.46.75",
            "10.12.99.73",
            "10.12.100.76",
            "10.12.113.76",
            "10.12.39.73",
            "10.12.22.67",
            "10.12.120.84",
            "10.12.45.85",
            "10.12.105.77",
            "10.12.68.85",
            "10.12.71.76",
            "10.12.83.69",
            "10.12.15.39",
            "10.12.125.74",
            "10.12.18.78",
            "10.12.117.38",
            "10.12.62.78",
            "10.12.80.74",
            "10.12.56.38",
            "10.12.48.73",
            "10.12.43.73",
            "10.12.32.74",
            "10.12.82.39",
            "10.12.26.39",
            "10.12.61.77",
            "10.12.47.72",
            "10.12.115.91",
            "10.12.73.81",
            "10.12.16.76",
            "10.12.114.78",
            "10.12.30.78",
            "10.12.53.71",
            "10.12.50.73",
            "10.12.52.70",
            "10.12.129.79",
            "10.12.128.73",
            "10.12.54.76",
            "10.12.3.72",
            "10.12.116.78",
            "10.12.5.81",
            "10.12.107.68",
            "10.12.106.75",
            "10.12.111.76",
            "10.12.121.78",
            "10.12.74.73",
            "10.12.75.72",
            "10.12.108.73",
            "10.12.31.76",
            "10.12.127.72",
            "10.12.59.72",
            "10.12.102.73",
            "10.12.91.72",
            "10.12.21.78",
            "10.12.76.74",
            "10.12.93.77",
            "10.12.1.75",
            "10.12.42.70",
            "10.12.109.37",
            "10.12.72.36",
            "10.12.84.38",
            "10.12.38.71",
            "10.12.41.81",
            "10.12.55.64",
            "10.12.110.76",
            "10.12.6.66",
            "10.12.124.68",
            "10.12.63.65",
            "10.12.17.78",
            "Hostlist for Pair to Pair",
            "10.12.25.71",
            "10.12.57.80",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1492.30",
            "real\t0m8.504s",
            "user\t0m2.548s",
            "sys\t0m5.266s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5834.46           2306.45           2229.73              0.00",
            "real\t0m8.176s",
            "user\t0m2.659s",
            "sys\t0m4.816s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.33       10325193.69",
            "2                      15.20        7600733.75",
            "4                      41.91       10478151.62",
            "8                      84.13       10516551.39",
            "16                    157.01        9813365.41",
            "32                    297.17        9286540.23",
            "64                    664.50       10382835.89",
            "128                  1300.96       10163757.59",
            "256                  2544.11        9937942.69",
            "512                  5086.01        9933620.57",
            "1024                10102.89        9866104.96",
            "2048                20397.06        9959503.53",
            "4096                37179.92        9077128.60",
            "8192                49475.66        6039509.06",
            "16384               51017.25        3113845.75",
            "32768               56638.36        1728465.69",
            "65536               75459.07        1151414.07",
            "131072              78902.23         601976.24",
            "262144              71072.12         271118.60",
            "524288              78031.21         148832.73",
            "1048576             78648.31          75004.87",
            "2097152             78719.52          37536.39",
            "4194304             78637.64          18748.67",
            "real\t1m13.952s",
            "user\t0m8.527s",
            "sys\t0m54.472s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      35.50",
            "1                      37.10",
            "2                      36.35",
            "4                      37.79",
            "8                      36.97",
            "16                     35.95",
            "32                     37.47",
            "64                     60.09",
            "128                    60.47",
            "256                    59.80",
            "512                    63.15",
            "1024                   60.78",
            "2048                   68.66",
            "4096                   70.45",
            "8192                   74.70",
            "16384                  81.87",
            "32768                 104.22",
            "65536                 262.90",
            "131072                342.97",
            "262144                410.69",
            "524288                554.70",
            "1048576              1081.78",
            "2097152              1819.45",
            "4194304              3478.33",
            "real\t0m48.268s",
            "user\t0m6.675s",
            "sys\t0m39.707s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1864.44",
            "2                    1683.21",
            "4                    1871.77",
            "8                    1546.71",
            "16                   1739.12",
            "32                   2071.32",
            "64                   1628.28",
            "128                  2059.50",
            "256                  1725.34",
            "512                 11736.47",
            "1024                11972.03",
            "2048                12023.90",
            "4096                13208.51",
            "8192                14855.35",
            "16384               18471.04",
            "32768               49062.97",
            "65536               57309.22",
            "131072              74657.22",
            "262144             105301.75",
            "524288             176174.12",
            "1048576            318675.83",
            "real\t4m4.619s",
            "user\t0m29.555s",
            "sys\t3m28.015s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1595.89",
            "8                    1886.23",
            "16                   1465.83",
            "32                   1651.21",
            "64                   2167.26",
            "128                  1568.98",
            "256                  2077.22",
            "512                  1732.36",
            "1024                 1914.15",
            "2048                 2195.65",
            "4096                 1888.13",
            "8192                 2541.84",
            "16384               29980.42",
            "32768               31223.16",
            "65536               30317.74",
            "131072              30603.64",
            "262144              34148.52",
            "524288              33253.86",
            "1048576             41299.38",
            "real\t2m34.964s",
            "user\t0m20.789s",
            "sys\t2m10.239s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}