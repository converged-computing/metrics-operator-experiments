{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.1.63",
            "10.12.101.56",
            "10.12.67.65",
            "10.12.17.66",
            "10.12.90.60",
            "10.12.85.58",
            "10.12.10.67",
            "10.12.40.49",
            "10.12.6.54",
            "10.12.52.58",
            "10.12.43.61",
            "10.12.119.75",
            "10.12.73.69",
            "10.12.50.61",
            "10.12.46.63",
            "10.12.22.55",
            "10.12.59.60",
            "10.12.63.53",
            "10.12.14.62",
            "10.12.30.66",
            "10.12.64.65",
            "10.12.115.79",
            "10.12.103.65",
            "10.12.49.56",
            "10.12.112.61",
            "10.12.86.65",
            "10.12.87.65",
            "10.12.7.62",
            "10.12.51.56",
            "10.12.116.66",
            "10.12.91.60",
            "10.12.9.62",
            "10.12.80.62",
            "10.12.114.66",
            "10.12.104.64",
            "10.12.81.63",
            "10.12.65.54",
            "10.12.19.68",
            "10.12.31.64",
            "10.12.2.62",
            "10.12.88.67",
            "10.12.98.62",
            "10.12.110.64",
            "10.12.4.61",
            "10.12.125.62",
            "10.12.124.56",
            "10.12.60.63",
            "10.12.32.62",
            "10.12.57.68",
            "10.12.62.66",
            "10.12.126.65",
            "10.12.16.64",
            "10.12.121.66",
            "10.12.34.68",
            "10.12.18.66",
            "10.12.58.69",
            "10.12.99.61",
            "10.12.41.69",
            "10.12.89.52",
            "10.12.38.59",
            "10.12.37.68",
            "10.12.92.63",
            "10.12.100.64",
            "10.12.35.55",
            "10.12.23.55",
            "10.12.42.58",
            "10.12.128.61",
            "10.12.28.60",
            "10.12.105.65",
            "10.12.129.67",
            "10.12.76.62",
            "10.12.47.60",
            "10.12.54.64",
            "10.12.111.64",
            "10.12.12.58",
            "10.12.26.27",
            "10.12.83.57",
            "10.12.127.60",
            "10.12.72.25",
            "10.12.33.60",
            "10.12.66.63",
            "10.12.11.62",
            "10.12.24.62",
            "10.12.8.61",
            "10.12.53.59",
            "10.12.29.60",
            "10.12.96.66",
            "10.12.109.26",
            "10.12.36.67",
            "10.12.71.64",
            "10.12.15.27",
            "10.12.82.27",
            "10.12.70.66",
            "10.12.56.26",
            "10.12.84.26",
            "10.12.117.26",
            "10.12.113.64",
            "10.12.55.52",
            "10.12.45.73",
            "10.12.108.61",
            "10.12.122.67",
            "10.12.77.56",
            "10.12.21.66",
            "10.12.106.63",
            "10.12.25.59",
            "10.12.95.53",
            "10.12.118.62",
            "10.12.48.61",
            "10.12.107.56",
            "10.12.78.68",
            "10.12.120.72",
            "10.12.123.60",
            "10.12.97.71",
            "10.12.0.61",
            "10.12.69.67",
            "10.12.68.73",
            "10.12.20.65",
            "10.12.5.69",
            "10.12.75.60",
            "10.12.74.61",
            "10.12.39.61",
            "10.12.13.65",
            "10.12.93.65",
            "10.12.102.61",
            "10.12.94.64",
            "10.12.3.60",
            "10.12.61.65",
            "10.12.44.61",
            "Hostlist for Pair to Pair",
            "10.12.1.63",
            "10.12.101.56",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1843.28",
            "real\t0m8.967s",
            "user\t0m2.706s",
            "sys\t0m5.563s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5012.13           2839.25           2770.65             21.57",
            "real\t0m7.963s",
            "user\t0m2.819s",
            "sys\t0m4.480s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.01        9014348.75",
            "2                      18.19        9092671.89",
            "4                      36.19        9046272.23",
            "8                      73.68        9210443.71",
            "16                    145.17        9073115.06",
            "32                    287.31        8978526.46",
            "64                    567.52        8867559.60",
            "128                  1079.82        8436062.72",
            "256                  2192.71        8565277.89",
            "512                  4362.46        8520420.81",
            "1024                 8701.94        8497992.84",
            "2048                16555.59        8083784.48",
            "4096                26797.27        6542302.33",
            "8192                45863.50        5598571.49",
            "16384               43757.03        2670717.17",
            "32768               61507.83        1877069.96",
            "65536               70846.54        1081032.44",
            "131072              77773.72         593366.41",
            "262144              77866.65         297037.70",
            "524288              75284.16         143593.14",
            "1048576             74841.90          71374.80",
            "2097152             74676.74          35608.64",
            "4194304             73267.08          17468.23",
            "real\t1m15.407s",
            "user\t0m8.648s",
            "sys\t0m55.447s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      44.61",
            "1                      44.48",
            "2                      45.26",
            "4                      44.51",
            "8                      43.74",
            "16                     46.65",
            "32                     44.22",
            "64                     75.69",
            "128                    74.57",
            "256                    76.38",
            "512                    76.01",
            "1024                   77.13",
            "2048                   84.54",
            "4096                   86.34",
            "8192                   91.67",
            "16384                 101.96",
            "32768                 136.23",
            "65536                 324.00",
            "131072                370.27",
            "262144                471.40",
            "524288                692.63",
            "1048576              1182.76",
            "2097152              2282.41",
            "4194304              4390.17",
            "real\t0m49.923s",
            "user\t0m6.774s",
            "sys\t0m41.291s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1627.29",
            "2                    2008.53",
            "4                    1767.01",
            "8                    1817.97",
            "16                   1745.85",
            "32                   1732.36",
            "64                   2110.30",
            "128                  1955.31",
            "256                  1976.52",
            "512                 11249.10",
            "1024                11917.16",
            "2048                12055.22",
            "4096                13886.39",
            "8192                15629.60",
            "16384               17865.46",
            "32768               48136.19",
            "65536               58138.11",
            "131072              75018.09",
            "262144             109731.35",
            "524288             177005.28",
            "1048576            320174.62",
            "real\t4m10.267s",
            "user\t0m29.645s",
            "sys\t3m32.929s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1528.10",
            "8                    1828.33",
            "16                   1608.08",
            "32                   1506.12",
            "64                   2010.03",
            "128                  1839.51",
            "256                  1863.57",
            "512                  1842.77",
            "1024                 1838.32",
            "2048                 2230.25",
            "4096                 1804.33",
            "8192                 2067.45",
            "16384               29953.59",
            "32768               30633.61",
            "65536               30501.32",
            "131072              28856.88",
            "262144              33265.77",
            "524288              35371.83",
            "1048576             42828.85",
            "real\t2m34.538s",
            "user\t0m21.176s",
            "sys\t2m9.294s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}