{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.0.79",
            "10.12.102.79",
            "10.12.111.82",
            "10.12.30.84",
            "10.12.115.97",
            "10.12.36.85",
            "10.12.11.80",
            "10.12.75.78",
            "10.12.55.70",
            "10.12.42.76",
            "10.12.20.83",
            "10.12.51.74",
            "10.12.4.79",
            "10.12.119.93",
            "10.12.83.75",
            "10.12.100.82",
            "10.12.40.67",
            "10.12.64.83",
            "10.12.70.84",
            "10.12.48.79",
            "10.12.89.70",
            "10.12.69.85",
            "10.12.19.86",
            "10.12.8.79",
            "10.12.24.80",
            "10.12.67.83",
            "10.12.80.80",
            "10.12.54.82",
            "10.12.106.81",
            "10.12.28.78",
            "10.12.99.79",
            "10.12.33.78",
            "10.12.66.81",
            "10.12.123.78",
            "10.12.53.77",
            "10.12.68.91",
            "10.12.37.86",
            "10.12.61.83",
            "10.12.43.79",
            "10.12.108.79",
            "10.12.110.82",
            "10.12.96.84",
            "10.12.31.82",
            "10.12.10.85",
            "10.12.44.79",
            "10.12.5.87",
            "10.12.13.83",
            "10.12.113.82",
            "10.12.74.79",
            "10.12.127.78",
            "10.12.98.80",
            "10.12.94.82",
            "10.12.17.84",
            "10.12.49.74",
            "10.12.88.85",
            "10.12.97.89",
            "10.12.39.79",
            "10.12.87.83",
            "10.12.35.73",
            "10.12.62.84",
            "10.12.124.74",
            "10.12.92.81",
            "10.12.90.78",
            "10.12.22.73",
            "10.12.25.77",
            "10.12.1.81",
            "10.12.29.78",
            "10.12.60.81",
            "10.12.78.86",
            "10.12.9.80",
            "10.12.32.80",
            "10.12.18.84",
            "10.12.63.71",
            "10.12.38.77",
            "10.12.16.82",
            "10.12.77.74",
            "10.12.2.80",
            "10.12.14.80",
            "10.12.103.83",
            "10.12.73.87",
            "10.12.65.72",
            "10.12.91.78",
            "10.12.114.84",
            "10.12.104.82",
            "10.12.125.80",
            "10.12.120.90",
            "10.12.126.83",
            "10.12.81.81",
            "10.12.71.82",
            "10.12.101.74",
            "10.12.45.91",
            "10.12.7.80",
            "10.12.116.84",
            "10.12.21.84",
            "10.12.93.83",
            "10.12.107.74",
            "10.12.47.78",
            "10.12.76.80",
            "10.12.57.86",
            "10.12.95.71",
            "10.12.122.85",
            "10.12.46.81",
            "10.12.23.73",
            "10.12.86.83",
            "10.12.41.87",
            "10.12.118.80",
            "10.12.105.83",
            "10.12.59.78",
            "10.12.34.86",
            "10.12.129.85",
            "10.12.85.76",
            "10.12.6.72",
            "10.12.109.42",
            "10.12.84.43",
            "10.12.15.45",
            "10.12.56.44",
            "10.12.12.76",
            "10.12.82.45",
            "10.12.50.79",
            "10.12.3.78",
            "10.12.58.87",
            "10.12.121.84",
            "10.12.72.41",
            "10.12.112.79",
            "10.12.117.44",
            "10.12.52.76",
            "10.12.26.45",
            "10.12.128.79",
            "Hostlist for Pair to Pair",
            "10.12.0.79",
            "10.12.102.79",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1489.29",
            "real\t0m8.458s",
            "user\t0m2.642s",
            "sys\t0m5.124s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3338.81            984.21            944.98              0.00",
            "real\t0m7.491s",
            "user\t0m2.534s",
            "sys\t0m4.287s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.53        9532395.06",
            "2                      18.52        9260369.16",
            "4                      36.71        9178027.43",
            "8                      66.50        8312899.65",
            "16                    144.97        9060383.79",
            "32                    295.99        9249595.41",
            "64                    578.30        9035890.35",
            "128                  1135.62        8872013.39",
            "256                  2217.09        8660517.91",
            "512                  4278.91        8357244.96",
            "1024                 8655.25        8452390.43",
            "2048                17553.28        8570938.86",
            "4096                33254.29        8118722.52",
            "8192                47048.72        5743251.48",
            "16384               71768.79        4380419.17",
            "32768               80055.27        2443092.99",
            "65536               75689.46        1154929.53",
            "131072              78679.69         600278.38",
            "262144              78671.66         300108.57",
            "524288              77830.18         148449.28",
            "1048576             78390.62          74759.12",
            "2097152             78620.82          37489.33",
            "4194304             78540.81          18725.59",
            "real\t1m14.369s",
            "user\t0m8.631s",
            "sys\t0m54.850s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      42.27",
            "1                      41.00",
            "2                      39.27",
            "4                      40.19",
            "8                      37.52",
            "16                     38.12",
            "32                     38.94",
            "64                     65.16",
            "128                    62.96",
            "256                    62.06",
            "512                    63.79",
            "1024                   63.27",
            "2048                   69.18",
            "4096                   74.85",
            "8192                   76.87",
            "16384                  91.32",
            "32768                 109.57",
            "65536                 268.55",
            "131072                363.94",
            "262144                425.17",
            "524288                605.83",
            "1048576              1165.52",
            "2097152              2257.33",
            "4194304              4184.92",
            "real\t0m47.346s",
            "user\t0m6.440s",
            "sys\t0m38.991s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1652.06",
            "2                    1714.77",
            "4                    1773.24",
            "8                    1633.34",
            "16                   1663.35",
            "32                   2056.75",
            "64                   1954.90",
            "128                  2343.08",
            "256                  1939.43",
            "512                 11081.74",
            "1024                11762.56",
            "2048                12464.22",
            "4096                13319.45",
            "8192                14739.21",
            "16384               17243.12",
            "32768               47984.55",
            "65536               58375.90",
            "131072              76148.20",
            "262144             107234.48",
            "524288             180126.44",
            "1048576            321234.71",
            "real\t4m6.388s",
            "user\t0m28.389s",
            "sys\t3m30.743s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1689.14",
            "8                    1466.63",
            "16                   1483.87",
            "32                   1707.12",
            "64                   1896.45",
            "128                  2102.20",
            "256                  1972.17",
            "512                  1832.38",
            "1024                 2036.38",
            "2048                 1749.45",
            "4096                 2097.66",
            "8192                 1923.89",
            "16384               30358.79",
            "32768               30750.72",
            "65536               29340.88",
            "131072              31063.26",
            "262144              33879.39",
            "524288              36587.04",
            "1048576             39479.03",
            "real\t2m34.828s",
            "user\t0m20.537s",
            "sys\t2m10.329s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}