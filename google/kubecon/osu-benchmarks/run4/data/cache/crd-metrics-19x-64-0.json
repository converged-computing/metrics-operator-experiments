{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.20.46",
            "10.12.90.44",
            "10.12.88.51",
            "10.12.125.44",
            "10.12.25.42",
            "10.12.60.45",
            "10.12.6.40",
            "10.12.113.44",
            "10.12.9.49",
            "10.12.95.41",
            "10.12.74.39",
            "10.12.119.56",
            "10.12.17.49",
            "10.12.67.46",
            "10.12.111.45",
            "10.12.2.44",
            "10.12.105.50",
            "10.12.85.42",
            "10.12.78.50",
            "10.12.81.46",
            "10.12.0.44",
            "10.12.126.47",
            "10.12.38.45",
            "10.12.108.47",
            "10.12.34.52",
            "10.12.3.47",
            "10.12.54.50",
            "10.12.33.44",
            "10.12.121.53",
            "10.12.5.54",
            "10.12.98.47",
            "10.12.92.45",
            "10.12.19.55",
            "10.12.4.46",
            "10.12.76.44",
            "10.12.64.45",
            "10.12.57.49",
            "10.12.99.49",
            "10.12.43.48",
            "10.12.97.54",
            "10.12.45.56",
            "10.12.69.48",
            "10.12.47.41",
            "10.12.62.46",
            "10.12.94.49",
            "10.12.13.51",
            "10.12.86.47",
            "10.12.120.53",
            "10.12.129.51",
            "10.12.110.51",
            "10.12.24.47",
            "10.12.93.48",
            "10.12.89.40",
            "10.12.115.59",
            "10.12.31.49",
            "10.12.118.45",
            "10.12.32.48",
            "10.12.53.44",
            "10.12.21.50",
            "10.12.10.47",
            "10.12.61.46",
            "10.12.102.47",
            "10.12.70.52",
            "10.12.59.45",
            "Hostlist for Pair to Pair",
            "10.12.20.46",
            "10.12.90.44",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1990.43           1166.87           1134.56             27.41",
            "real\t0m6.873s",
            "user\t0m2.513s",
            "sys\t0m3.911s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.51        5512731.39",
            "2                      11.00        5501364.34",
            "4                      19.82        4954375.36",
            "8                      44.61        5576567.83",
            "16                     88.70        5543495.33",
            "32                    176.96        5529938.94",
            "64                    339.78        5309088.63",
            "128                   646.80        5053104.10",
            "256                  1105.10        4316814.38",
            "512                  2643.79        5163654.18",
            "1024                 5178.06        5056700.98",
            "2048                 9916.52        4842053.19",
            "4096                19021.33        4643878.99",
            "8192                24090.84        2940776.19",
            "16384               27106.74        1654464.29",
            "32768               38206.02        1165955.06",
            "65536               39116.38         596868.66",
            "131072              39202.70         299092.84",
            "262144              38496.32         146851.80",
            "524288              38312.12          73074.58",
            "1048576             39208.71          37392.34",
            "2097152             39182.98          18683.90",
            "4194304             39076.39           9316.54",
            "real\t1m3.846s",
            "user\t0m8.177s",
            "sys\t0m50.411s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      25.56",
            "1                      27.05",
            "2                      27.50",
            "4                      25.84",
            "8                      26.32",
            "16                     25.39",
            "32                     25.53",
            "64                     48.22",
            "128                    48.96",
            "256                    50.34",
            "512                    49.23",
            "1024                   49.50",
            "2048                   55.84",
            "4096                   56.21",
            "8192                   59.51",
            "16384                  66.03",
            "32768                  87.82",
            "65536                 209.21",
            "131072                259.91",
            "262144                327.45",
            "524288                504.86",
            "1048576               869.95",
            "2097152              1674.39",
            "4194304              3180.49",
            "real\t0m49.629s",
            "user\t0m7.224s",
            "sys\t0m40.678s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     726.78",
            "2                     883.14",
            "4                     738.37",
            "8                     834.10",
            "16                    741.27",
            "32                    991.50",
            "64                    998.09",
            "128                   962.28",
            "256                   895.28",
            "512                   946.23",
            "1024                 4130.64",
            "2048                 4279.99",
            "4096                 4376.05",
            "8192                 5513.11",
            "16384                6569.73",
            "32768               20212.10",
            "65536               25610.89",
            "131072              30649.87",
            "262144              46786.95",
            "524288              81370.22",
            "1048576            147033.37",
            "real\t1m39.490s",
            "user\t0m12.951s",
            "sys\t1m23.471s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     705.11",
            "8                     941.60",
            "16                    685.58",
            "32                    848.49",
            "64                    897.64",
            "128                   931.92",
            "256                  1152.12",
            "512                   859.04",
            "1024                  814.94",
            "2048                  846.08",
            "4096                  905.51",
            "8192                 1044.76",
            "16384               13672.44",
            "32768               13210.16",
            "65536               14115.02",
            "131072              15000.90",
            "262144              16591.19",
            "524288              16530.25",
            "1048576             25255.14",
            "real\t1m15.535s",
            "user\t0m11.554s",
            "sys\t1m1.896s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}