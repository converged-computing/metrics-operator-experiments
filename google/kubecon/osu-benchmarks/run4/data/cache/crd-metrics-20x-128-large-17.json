{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.91.76",
            "10.12.51.72",
            "10.12.85.74",
            "10.12.74.77",
            "10.12.81.79",
            "10.12.13.81",
            "10.12.44.77",
            "10.12.71.80",
            "10.12.76.78",
            "10.12.66.79",
            "10.12.123.76",
            "10.12.86.81",
            "10.12.77.72",
            "10.12.37.84",
            "10.12.75.76",
            "10.12.114.82",
            "10.12.45.89",
            "10.12.87.81",
            "10.12.115.95",
            "10.12.8.77",
            "10.12.90.76",
            "10.12.25.75",
            "10.12.100.80",
            "10.12.92.79",
            "10.12.61.81",
            "10.12.128.77",
            "10.12.101.72",
            "10.12.47.76",
            "10.12.112.77",
            "10.12.46.79",
            "10.12.17.82",
            "10.12.120.88",
            "10.12.4.77",
            "10.12.6.70",
            "10.12.50.77",
            "10.12.34.84",
            "10.12.16.80",
            "10.12.30.82",
            "10.12.113.80",
            "10.12.99.77",
            "10.12.57.84",
            "10.12.22.71",
            "10.12.95.69",
            "10.12.69.83",
            "10.12.12.74",
            "10.12.129.83",
            "10.12.63.69",
            "10.12.58.85",
            "10.12.60.79",
            "10.12.5.85",
            "10.12.68.89",
            "10.12.119.91",
            "10.12.105.81",
            "10.12.70.82",
            "10.12.1.79",
            "10.12.111.80",
            "10.12.93.81",
            "10.12.59.76",
            "10.12.127.76",
            "10.12.9.78",
            "10.12.107.72",
            "10.12.102.77",
            "10.12.39.77",
            "10.12.48.77",
            "10.12.83.73",
            "10.12.21.82",
            "10.12.73.85",
            "10.12.53.75",
            "10.12.24.78",
            "10.12.31.80",
            "10.12.98.78",
            "10.12.28.76",
            "10.12.89.68",
            "10.12.18.82",
            "10.12.103.81",
            "10.12.15.43",
            "10.12.106.79",
            "10.12.11.78",
            "10.12.49.72",
            "10.12.23.71",
            "10.12.94.80",
            "10.12.117.42",
            "10.12.125.78",
            "10.12.10.83",
            "10.12.84.41",
            "10.12.54.80",
            "10.12.35.71",
            "10.12.96.82",
            "10.12.80.78",
            "10.12.41.85",
            "10.12.56.42",
            "10.12.108.77",
            "10.12.43.77",
            "10.12.55.68",
            "10.12.19.84",
            "10.12.78.84",
            "10.12.32.78",
            "10.12.3.76",
            "10.12.65.70",
            "10.12.62.82",
            "10.12.122.83",
            "10.12.33.76",
            "10.12.36.83",
            "10.12.82.43",
            "10.12.26.43",
            "10.12.79.12",
            "10.12.121.82",
            "10.12.88.83",
            "10.12.118.78",
            "10.12.97.87",
            "10.12.52.74",
            "10.12.67.81",
            "10.12.20.81",
            "10.12.0.77",
            "10.12.2.78",
            "10.12.104.80",
            "10.12.64.81",
            "10.12.7.78",
            "10.12.40.65",
            "10.12.14.78",
            "10.12.109.40",
            "10.12.124.72",
            "10.12.38.75",
            "10.12.110.80",
            "10.12.116.82",
            "10.12.42.74",
            "10.12.126.81",
            "10.12.29.76",
            "Hostlist for Pair to Pair",
            "10.12.91.76",
            "10.12.51.72",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1590.12",
            "real\t0m8.774s",
            "user\t0m2.693s",
            "sys\t0m5.313s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5629.26           2214.14           2141.36              0.00",
            "real\t0m8.187s",
            "user\t0m2.777s",
            "sys\t0m4.739s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.08        9076654.90",
            "2                      18.35        9175518.71",
            "4                      31.58        7894381.65",
            "8                      70.98        8872482.50",
            "16                    150.38        9398940.08",
            "32                    295.73        9241538.00",
            "64                    585.81        9153304.78",
            "128                  1140.01        8906345.17",
            "256                  2181.74        8522417.36",
            "512                  4299.86        8398167.97",
            "1024                 8777.32        8571600.53",
            "2048                17069.68        8334806.24",
            "4096                29212.61        7131984.30",
            "8192                49239.99        6010740.85",
            "16384               55136.30        3365252.57",
            "32768               55277.23        1686927.05",
            "65536               68827.41        1050222.96",
            "131072              76060.89         580298.58",
            "262144              69305.43         264379.25",
            "524288              68605.71         130855.00",
            "1048576             67765.61          64626.32",
            "2097152             68039.05          32443.55",
            "4194304             70290.72          16758.61",
            "real\t1m11.051s",
            "user\t0m8.673s",
            "sys\t0m55.333s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      40.81",
            "1                      39.88",
            "2                      40.67",
            "4                      40.24",
            "8                      43.22",
            "16                     40.48",
            "32                     40.25",
            "64                     70.10",
            "128                    70.90",
            "256                    72.19",
            "512                    70.44",
            "1024                   75.18",
            "2048                   77.12",
            "4096                   80.14",
            "8192                   85.67",
            "16384                  92.51",
            "32768                 129.79",
            "65536                 305.70",
            "131072                348.87",
            "262144                454.85",
            "524288                714.18",
            "1048576              1356.73",
            "2097152              2429.39",
            "4194304              4592.09",
            "real\t0m47.821s",
            "user\t0m6.418s",
            "sys\t0m39.229s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1605.59",
            "2                    1846.64",
            "4                    1814.73",
            "8                    2009.19",
            "16                   1835.52",
            "32                   2185.32",
            "64                   1845.85",
            "128                  1769.61",
            "256                  2249.69",
            "512                 11517.72",
            "1024                11861.49",
            "2048                12283.60",
            "4096                13170.56",
            "8192                15038.67",
            "16384               18967.56",
            "32768               49457.07",
            "65536               56442.13",
            "131072              76286.48",
            "262144             107003.34",
            "524288             175445.38",
            "1048576            319410.41",
            "real\t4m6.562s",
            "user\t0m28.573s",
            "sys\t3m30.218s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1649.89",
            "8                    1815.17",
            "16                   1662.96",
            "32                   1609.80",
            "64                   2065.00",
            "128                  1833.52",
            "256                  1968.53",
            "512                  2036.78",
            "1024                 2016.33",
            "2048                 1972.82",
            "4096                 1987.71",
            "8192                 2219.72",
            "16384               30349.46",
            "32768               30520.06",
            "65536               30421.93",
            "131072              30343.75",
            "262144              35757.69",
            "524288              32701.49",
            "1048576             40689.98",
            "real\t2m36.154s",
            "user\t0m20.830s",
            "sys\t2m11.083s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}