{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.83.53",
            "10.12.103.49",
            "10.12.78.55",
            "10.12.14.48",
            "10.12.110.57",
            "10.12.125.49",
            "10.12.118.49",
            "10.12.2.49",
            "10.12.53.49",
            "10.12.66.49",
            "10.12.126.52",
            "10.12.105.54",
            "10.12.35.47",
            "10.12.106.49",
            "10.12.5.59",
            "10.12.13.55",
            "10.12.116.55",
            "10.12.95.46",
            "10.12.75.49",
            "10.12.11.50",
            "10.12.33.49",
            "10.12.38.49",
            "10.12.127.47",
            "10.12.67.52",
            "10.12.68.56",
            "10.12.41.54",
            "10.12.62.52",
            "10.12.129.57",
            "10.12.121.58",
            "10.12.76.50",
            "10.12.61.54",
            "10.12.102.52",
            "10.12.28.52",
            "10.12.1.44",
            "10.12.25.47",
            "10.12.80.55",
            "10.12.10.53",
            "10.12.113.50",
            "10.12.104.49",
            "10.12.98.52",
            "10.12.17.54",
            "10.12.128.47",
            "10.12.44.49",
            "10.12.124.41",
            "10.12.65.42",
            "10.12.20.52",
            "10.12.6.43",
            "10.12.93.52",
            "10.12.85.46",
            "10.12.39.49",
            "10.12.63.46",
            "10.12.45.58",
            "10.12.47.43",
            "10.12.31.52",
            "10.12.7.46",
            "10.12.59.51",
            "10.12.37.52",
            "10.12.16.54",
            "10.12.73.57",
            "10.12.96.53",
            "10.12.120.58",
            "10.12.8.50",
            "10.12.115.63",
            "10.12.88.57",
            "Hostlist for Pair to Pair",
            "10.12.83.53",
            "10.12.103.49",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1666.92            475.76            457.35              0.00",
            "real\t0m6.881s",
            "user\t0m2.407s",
            "sys\t0m3.984s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.08        5078244.14",
            "2                       8.11        4054113.07",
            "4                      19.90        4973790.09",
            "8                      39.97        4995818.93",
            "16                     79.65        4977922.50",
            "32                    158.68        4958905.97",
            "64                    313.54        4899063.27",
            "128                   601.13        4696315.88",
            "256                  1098.38        4290532.85",
            "512                  2024.08        3953284.15",
            "1024                 4642.09        4533294.86",
            "2048                 8986.16        4387771.16",
            "4096                17756.59        4335103.96",
            "8192                25258.68        3083335.40",
            "16384               22686.80        1384692.38",
            "32768               25994.77         793297.51",
            "65536               36949.39         563802.94",
            "131072              38380.54         292820.29",
            "262144              39359.49         150144.54",
            "524288              37285.13          71115.74",
            "1048576             38996.51          37189.97",
            "2097152             39148.57          18667.50",
            "4194304             39073.27           9315.79",
            "real\t0m58.553s",
            "user\t0m7.540s",
            "sys\t0m47.734s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      37.72",
            "1                      37.43",
            "2                      35.97",
            "4                      35.74",
            "8                      39.46",
            "16                     37.40",
            "32                     37.58",
            "64                     58.08",
            "128                    58.21",
            "256                    58.20",
            "512                    59.64",
            "1024                   62.14",
            "2048                   68.70",
            "4096                   69.11",
            "8192                   73.29",
            "16384                  89.90",
            "32768                 114.83",
            "65536                 261.54",
            "131072                337.63",
            "262144                407.55",
            "524288                591.13",
            "1048576              1003.10",
            "2097152              1925.31",
            "4194304              3669.89",
            "real\t0m47.827s",
            "user\t0m6.814s",
            "sys\t0m39.209s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     740.52",
            "2                     756.66",
            "4                     832.87",
            "8                     603.90",
            "16                    744.16",
            "32                    776.73",
            "64                    907.32",
            "128                   823.81",
            "256                   950.75",
            "512                  1076.50",
            "1024                 4143.53",
            "2048                 4195.60",
            "4096                 4414.82",
            "8192                 5292.18",
            "16384                6268.20",
            "32768               19828.70",
            "65536               23559.24",
            "131072              32277.39",
            "262144              45673.79",
            "524288              76952.10",
            "1048576            145988.55",
            "real\t1m37.623s",
            "user\t0m12.099s",
            "sys\t1m22.150s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     676.81",
            "8                     657.45",
            "16                    745.60",
            "32                    632.24",
            "64                   1019.49",
            "128                   869.75",
            "256                   952.31",
            "512                   862.38",
            "1024                  911.55",
            "2048                 1062.26",
            "4096                  920.99",
            "8192                 1010.86",
            "16384               12793.22",
            "32768               13243.75",
            "65536               14250.11",
            "131072              13607.56",
            "262144              13753.89",
            "524288              17016.37",
            "1048576             25085.86",
            "real\t1m13.243s",
            "user\t0m11.137s",
            "sys\t1m0.055s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}