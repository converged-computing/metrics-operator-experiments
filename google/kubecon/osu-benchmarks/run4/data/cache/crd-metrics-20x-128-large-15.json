{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.87.79",
            "10.12.16.78",
            "10.12.83.71",
            "10.12.34.82",
            "10.12.89.66",
            "10.12.5.83",
            "10.12.1.77",
            "10.12.13.79",
            "10.12.30.80",
            "10.12.127.74",
            "10.12.55.66",
            "10.12.0.75",
            "10.12.45.87",
            "10.12.54.78",
            "10.12.75.74",
            "10.12.78.82",
            "10.12.23.69",
            "10.12.65.68",
            "10.12.49.70",
            "10.12.9.76",
            "10.12.112.75",
            "10.12.111.78",
            "10.12.3.74",
            "10.12.124.70",
            "10.12.96.80",
            "10.12.63.67",
            "10.12.57.82",
            "10.12.48.75",
            "10.12.37.82",
            "10.12.29.74",
            "10.12.20.79",
            "10.12.91.74",
            "10.12.2.76",
            "10.12.77.70",
            "10.12.31.78",
            "10.12.102.75",
            "10.12.86.79",
            "10.12.92.77",
            "10.12.80.76",
            "10.12.120.86",
            "10.12.39.75",
            "10.12.70.80",
            "10.12.115.93",
            "10.12.40.63",
            "10.12.73.83",
            "10.12.99.75",
            "10.12.123.74",
            "10.12.81.77",
            "10.12.36.81",
            "10.12.10.81",
            "10.12.33.74",
            "10.12.6.68",
            "10.12.38.73",
            "10.12.14.76",
            "10.12.24.76",
            "10.12.28.74",
            "10.12.94.78",
            "10.12.125.76",
            "10.12.41.83",
            "10.12.19.82",
            "10.12.46.77",
            "10.12.51.70",
            "10.12.93.79",
            "10.12.97.85",
            "10.12.21.80",
            "10.12.104.78",
            "10.12.116.80",
            "10.12.88.81",
            "10.12.114.80",
            "10.12.18.80",
            "10.12.76.76",
            "10.12.52.72",
            "10.12.100.78",
            "10.12.121.80",
            "10.12.108.75",
            "10.12.129.81",
            "10.12.42.72",
            "10.12.105.79",
            "10.12.71.78",
            "10.12.118.76",
            "10.12.4.75",
            "10.12.126.79",
            "10.12.128.75",
            "10.12.95.67",
            "10.12.8.75",
            "10.12.110.78",
            "10.12.43.75",
            "10.12.85.72",
            "10.12.103.79",
            "10.12.67.79",
            "10.12.25.73",
            "10.12.69.81",
            "10.12.68.87",
            "10.12.22.69",
            "10.12.56.40",
            "10.12.44.75",
            "10.12.12.72",
            "10.12.82.41",
            "10.12.50.75",
            "10.12.62.80",
            "10.12.47.74",
            "10.12.17.80",
            "10.12.59.74",
            "10.12.58.83",
            "10.12.101.70",
            "10.12.90.74",
            "10.12.7.76",
            "10.12.15.41",
            "10.12.109.38",
            "10.12.61.79",
            "10.12.113.78",
            "10.12.64.79",
            "10.12.74.75",
            "10.12.35.69",
            "10.12.122.81",
            "10.12.66.77",
            "10.12.60.77",
            "10.12.106.77",
            "10.12.32.76",
            "10.12.11.76",
            "10.12.79.11",
            "10.12.26.41",
            "10.12.107.70",
            "10.12.119.89",
            "10.12.72.38",
            "10.12.53.73",
            "10.12.117.40",
            "10.12.98.76",
            "Hostlist for Pair to Pair",
            "10.12.87.79",
            "10.12.16.78",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1209.96",
            "real\t0m8.147s",
            "user\t0m2.649s",
            "sys\t0m4.777s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5573.60           3253.45           3177.26             26.98",
            "real\t0m8.038s",
            "user\t0m2.849s",
            "sys\t0m4.532s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.75        9747255.06",
            "2                      14.90        7449282.81",
            "4                      41.14       10284705.04",
            "8                      83.55       10444008.83",
            "16                    168.64       10539699.52",
            "32                    337.72       10553835.18",
            "64                    525.37        8208968.76",
            "128                  1233.96        9640343.41",
            "256                  2453.17        9582680.13",
            "512                  5016.88        9798595.33",
            "1024                 9417.55        9196825.26",
            "2048                20384.68        9953455.93",
            "4096                34337.44        8383164.66",
            "8192                47047.69        5743126.26",
            "16384               71039.08        4335881.29",
            "32768               75940.14        2317509.19",
            "65536               78595.37        1199270.20",
            "131072              78528.51         599124.99",
            "262144              70450.15         268745.99",
            "524288              78519.12         149763.34",
            "1048576             78154.22          74533.67",
            "2097152             78282.03          37327.78",
            "4194304             78068.56          18613.00",
            "real\t1m17.124s",
            "user\t0m8.784s",
            "sys\t0m55.596s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      31.98",
            "1                      31.22",
            "2                      31.34",
            "4                      32.54",
            "8                      31.35",
            "16                     31.48",
            "32                     33.98",
            "64                     55.73",
            "128                    55.08",
            "256                    54.64",
            "512                    55.52",
            "1024                   56.99",
            "2048                   64.14",
            "4096                   64.57",
            "8192                   66.25",
            "16384                  78.44",
            "32768                  96.58",
            "65536                 233.69",
            "131072                295.61",
            "262144                403.91",
            "524288                547.93",
            "1048576              1046.06",
            "2097152              1791.32",
            "4194304              3432.15",
            "real\t0m47.884s",
            "user\t0m6.775s",
            "sys\t0m39.267s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1923.56",
            "2                    1379.30",
            "4                    1800.49",
            "8                    1878.02",
            "16                   1832.11",
            "32                   2059.11",
            "64                   1766.76",
            "128                  2168.97",
            "256                  1901.76",
            "512                 11185.15",
            "1024                11623.06",
            "2048                12490.44",
            "4096                12927.21",
            "8192                14582.69",
            "16384               20291.46",
            "32768               47314.81",
            "65536               57674.14",
            "131072              72453.13",
            "262144             107992.60",
            "524288             177023.03",
            "1048576            318591.32",
            "real\t4m3.336s",
            "user\t0m28.484s",
            "sys\t3m27.847s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1465.77",
            "8                    1409.24",
            "16                   1841.93",
            "32                   1751.22",
            "64                   2117.92",
            "128                  1759.30",
            "256                  1811.86",
            "512                  2036.00",
            "1024                 1610.88",
            "2048                 2044.66",
            "4096                 1884.32",
            "8192                 2443.41",
            "16384               30218.36",
            "32768               30406.56",
            "65536               30941.83",
            "131072              30292.60",
            "262144              35998.80",
            "524288              34412.71",
            "1048576             41133.61",
            "real\t2m34.607s",
            "user\t0m21.237s",
            "sys\t2m9.504s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}