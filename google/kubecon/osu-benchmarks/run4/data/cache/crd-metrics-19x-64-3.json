{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.4.48",
            "10.12.12.46",
            "10.12.123.48",
            "10.12.38.47",
            "10.12.57.51",
            "10.12.58.53",
            "10.12.66.46",
            "10.12.67.49",
            "10.12.71.53",
            "10.12.97.57",
            "10.12.8.46",
            "10.12.48.48",
            "10.12.99.50",
            "10.12.55.38",
            "10.12.10.49",
            "10.12.85.43",
            "10.12.33.46",
            "10.12.116.52",
            "10.12.25.44",
            "10.12.83.49",
            "10.12.129.54",
            "10.12.122.52",
            "10.12.113.46",
            "10.12.118.48",
            "10.12.60.47",
            "10.12.64.48",
            "10.12.28.48",
            "10.12.59.47",
            "10.12.126.49",
            "10.12.29.42",
            "10.12.20.49",
            "10.12.44.47",
            "10.12.80.51",
            "10.12.104.45",
            "10.12.77.46",
            "10.12.61.49",
            "10.12.108.49",
            "10.12.21.52",
            "10.12.114.53",
            "10.12.39.46",
            "10.12.69.51",
            "10.12.17.51",
            "10.12.50.48",
            "10.12.87.49",
            "10.12.74.41",
            "10.12.81.48",
            "10.12.121.55",
            "10.12.73.54",
            "10.12.107.45",
            "10.12.92.48",
            "10.12.62.49",
            "10.12.90.47",
            "10.12.63.43",
            "10.12.36.52",
            "10.12.51.44",
            "10.12.76.46",
            "10.12.65.38",
            "10.12.22.43",
            "10.12.94.50",
            "10.12.23.41",
            "10.12.78.52",
            "10.12.106.47",
            "10.12.95.42",
            "10.12.119.57",
            "Hostlist for Pair to Pair",
            "10.12.4.48",
            "10.12.12.46",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "            946.16            439.86            428.95              0.00",
            "real\t0m6.772s",
            "user\t0m2.465s",
            "sys\t0m3.795s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.58        4584678.09",
            "2                       9.32        4658101.92",
            "4                      18.67        4667657.97",
            "8                      36.89        4611170.69",
            "16                     74.60        4662318.49",
            "32                    145.39        4543469.40",
            "64                    297.47        4647979.76",
            "128                   558.20        4360962.58",
            "256                  1087.53        4248169.96",
            "512                  2198.77        4294479.15",
            "1024                 3011.37        2940786.53",
            "2048                 7582.25        3702272.43",
            "4096                16615.63        4056550.21",
            "8192                19906.84        2430033.83",
            "16384               33899.24        2069045.48",
            "32768               36548.62        1115375.46",
            "65536               39685.38         605550.81",
            "131072              39303.37         299860.93",
            "262144              39308.37         149949.52",
            "524288              37216.57          70984.97",
            "1048576             39250.06          37431.78",
            "2097152             39012.33          18602.53",
            "4194304             38979.33           9293.40",
            "real\t1m1.907s",
            "user\t0m7.820s",
            "sys\t0m48.933s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      42.56",
            "1                      43.62",
            "2                      43.19",
            "4                      43.87",
            "8                      43.22",
            "16                     45.44",
            "32                     43.12",
            "64                     67.22",
            "128                    67.11",
            "256                    69.57",
            "512                    66.61",
            "1024                   67.99",
            "2048                   74.21",
            "4096                   78.46",
            "8192                   81.55",
            "16384                  90.05",
            "32768                 124.27",
            "65536                 292.64",
            "131072                358.82",
            "262144                436.59",
            "524288                591.53",
            "1048576               989.38",
            "2097152              1840.18",
            "4194304              3564.78",
            "real\t0m43.728s",
            "user\t0m6.243s",
            "sys\t0m35.807s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     646.22",
            "2                     652.49",
            "4                     860.20",
            "8                     862.52",
            "16                    767.37",
            "32                    774.24",
            "64                   1008.85",
            "128                   797.47",
            "256                  1093.01",
            "512                   939.70",
            "1024                 3949.16",
            "2048                 4303.33",
            "4096                 4741.19",
            "8192                 5474.18",
            "16384                6530.90",
            "32768               18344.40",
            "65536               22474.26",
            "131072              33117.16",
            "262144              43355.89",
            "524288              80251.19",
            "1048576            145097.17",
            "real\t1m39.374s",
            "user\t0m12.591s",
            "sys\t1m23.572s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     555.24",
            "8                     875.65",
            "16                    659.26",
            "32                   1015.65",
            "64                    840.95",
            "128                   954.46",
            "256                   878.75",
            "512                   873.67",
            "1024                 1168.45",
            "2048                  946.55",
            "4096                  907.08",
            "8192                  856.49",
            "16384               13570.97",
            "32768               13229.51",
            "65536               12981.12",
            "131072              15570.90",
            "262144              15221.67",
            "524288              16679.77",
            "1048576             26516.57",
            "real\t1m14.219s",
            "user\t0m11.195s",
            "sys\t1m0.911s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}