{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.36.69",
            "10.12.37.70",
            "10.12.19.70",
            "10.12.95.55",
            "10.12.61.67",
            "10.12.69.69",
            "10.12.93.67",
            "10.12.85.60",
            "10.12.3.62",
            "10.12.68.75",
            "10.12.107.58",
            "10.12.66.65",
            "10.12.65.56",
            "10.12.80.64",
            "10.12.108.63",
            "10.12.17.68",
            "10.12.35.57",
            "10.12.29.62",
            "10.12.76.64",
            "10.12.57.70",
            "10.12.20.67",
            "10.12.52.60",
            "10.12.74.63",
            "10.12.28.62",
            "10.12.34.70",
            "10.12.127.62",
            "10.12.43.63",
            "10.12.51.58",
            "10.12.49.58",
            "10.12.67.67",
            "10.12.46.65",
            "10.12.70.68",
            "10.12.16.66",
            "10.12.63.55",
            "10.12.59.62",
            "10.12.39.63",
            "10.12.60.65",
            "10.12.30.68",
            "10.12.18.68",
            "10.12.91.62",
            "10.12.40.51",
            "10.12.24.64",
            "10.12.38.61",
            "10.12.116.68",
            "10.12.73.71",
            "10.12.111.66",
            "10.12.97.73",
            "10.12.100.66",
            "10.12.115.81",
            "10.12.12.60",
            "10.12.1.65",
            "10.12.123.62",
            "10.12.54.66",
            "10.12.106.65",
            "10.12.120.74",
            "10.12.126.67",
            "10.12.7.64",
            "10.12.99.63",
            "10.12.78.70",
            "10.12.22.57",
            "10.12.101.58",
            "10.12.86.67",
            "10.12.98.64",
            "10.12.14.64",
            "10.12.13.67",
            "10.12.124.58",
            "10.12.90.62",
            "10.12.42.60",
            "10.12.5.71",
            "10.12.55.54",
            "10.12.62.68",
            "10.12.6.56",
            "10.12.110.66",
            "10.12.118.64",
            "10.12.32.64",
            "10.12.96.68",
            "10.12.114.68",
            "10.12.104.66",
            "10.12.31.66",
            "10.12.79.8",
            "10.12.44.63",
            "10.12.45.75",
            "10.12.33.62",
            "10.12.21.68",
            "10.12.50.63",
            "10.12.71.66",
            "10.12.83.59",
            "10.12.4.63",
            "10.12.0.63",
            "10.12.82.29",
            "10.12.11.64",
            "10.12.125.64",
            "10.12.112.63",
            "10.12.122.69",
            "10.12.105.67",
            "10.12.113.66",
            "10.12.23.57",
            "10.12.77.58",
            "10.12.15.29",
            "10.12.72.27",
            "10.12.87.67",
            "10.12.92.65",
            "10.12.94.66",
            "10.12.89.54",
            "10.12.102.63",
            "10.12.119.77",
            "10.12.58.71",
            "10.12.9.64",
            "10.12.53.61",
            "10.12.64.67",
            "10.12.25.61",
            "10.12.47.62",
            "10.12.10.69",
            "10.12.129.69",
            "10.12.81.65",
            "10.12.8.63",
            "10.12.103.67",
            "10.12.41.71",
            "10.12.2.64",
            "10.12.75.62",
            "10.12.88.69",
            "10.12.26.29",
            "10.12.117.28",
            "10.12.48.63",
            "10.12.121.68",
            "10.12.84.28",
            "10.12.56.28",
            "10.12.128.63",
            "Hostlist for Pair to Pair",
            "10.12.36.69",
            "10.12.37.70",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          2106.11",
            "real\t0m9.032s",
            "user\t0m2.686s",
            "sys\t0m5.626s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           4806.47           2630.71           2567.69             15.26",
            "real\t0m7.892s",
            "user\t0m2.781s",
            "sys\t0m4.450s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.26       10255243.91",
            "2                      19.65        9822650.79",
            "4                      41.27       10316471.10",
            "8                      82.67       10334036.11",
            "16                    163.53       10220515.35",
            "32                    322.18       10068092.60",
            "64                    672.54       10508428.34",
            "128                  1274.71        9958693.30",
            "256                  2670.02       10429781.34",
            "512                  5170.74       10099104.12",
            "1024                 9980.69        9746771.69",
            "2048                16147.36        7884450.91",
            "4096                37172.87        9075408.02",
            "8192                52378.87        6393905.31",
            "16384               50662.04        3092165.70",
            "32768               58057.60        1771777.34",
            "65536               75286.92        1148787.27",
            "131072              78366.85         597891.62",
            "262144              75214.81         286921.74",
            "524288              78221.55         149195.77",
            "1048576             78017.40          74403.19",
            "2097152             78194.07          37285.84",
            "4194304             78172.73          18637.83",
            "real\t1m16.410s",
            "user\t0m8.841s",
            "sys\t0m55.794s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      24.97",
            "1                      25.00",
            "2                      24.93",
            "4                      24.93",
            "8                      24.97",
            "16                     25.17",
            "32                     25.37",
            "64                     46.79",
            "128                    47.28",
            "256                    49.10",
            "512                    49.14",
            "1024                   48.55",
            "2048                   55.03",
            "4096                   55.11",
            "8192                   59.84",
            "16384                  66.03",
            "32768                  88.51",
            "65536                 210.10",
            "131072                271.52",
            "262144                352.64",
            "524288                519.47",
            "1048576               874.29",
            "2097152              1734.40",
            "4194304              2883.30",
            "real\t0m47.790s",
            "user\t0m6.672s",
            "sys\t0m39.188s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1706.78",
            "2                    1648.24",
            "4                    1899.36",
            "8                    1675.03",
            "16                   1804.42",
            "32                   1829.45",
            "64                   1733.89",
            "128                  2161.39",
            "256                  1879.25",
            "512                 11165.39",
            "1024                12092.02",
            "2048                12108.56",
            "4096                13290.47",
            "8192                14875.08",
            "16384               19430.29",
            "32768               47557.39",
            "65536               56584.41",
            "131072              76209.74",
            "262144             105934.64",
            "524288             179887.31",
            "1048576            326721.40",
            "real\t4m5.389s",
            "user\t0m28.799s",
            "sys\t3m29.679s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1908.82",
            "8                    1776.86",
            "16                   1622.40",
            "32                   1677.63",
            "64                   1764.54",
            "128                  1850.70",
            "256                  1934.45",
            "512                  1847.20",
            "1024                 2384.49",
            "2048                 2076.40",
            "4096                 2380.48",
            "8192                 1966.55",
            "16384               30076.59",
            "32768               30882.78",
            "65536               31328.75",
            "131072              31664.26",
            "262144              31444.62",
            "524288              34213.54",
            "1048576             41300.22",
            "real\t2m35.939s",
            "user\t0m20.980s",
            "sys\t2m11.042s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}