{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.89.47",
            "10.12.125.52",
            "10.12.106.53",
            "10.12.87.55",
            "10.12.64.56",
            "10.12.70.60",
            "10.12.77.50",
            "10.12.67.55",
            "10.12.12.50",
            "10.12.11.52",
            "10.12.42.49",
            "10.12.107.49",
            "10.12.99.54",
            "10.12.31.58",
            "10.12.103.53",
            "10.12.61.57",
            "10.12.46.56",
            "10.12.123.53",
            "10.12.39.56",
            "10.12.36.54",
            "10.12.14.53",
            "10.12.100.54",
            "10.12.22.50",
            "10.12.66.54",
            "10.12.29.50",
            "10.12.24.53",
            "10.12.35.49",
            "10.12.118.53",
            "10.12.126.59",
            "10.12.41.60",
            "10.12.5.63",
            "10.12.88.59",
            "10.12.7.52",
            "10.12.122.59",
            "10.12.97.64",
            "10.12.93.56",
            "10.12.32.54",
            "10.12.86.56",
            "10.12.59.54",
            "10.12.81.55",
            "10.12.2.54",
            "10.12.75.52",
            "10.12.129.61",
            "10.12.47.48",
            "10.12.55.40",
            "10.12.3.55",
            "10.12.58.59",
            "10.12.19.62",
            "10.12.92.56",
            "10.12.37.58",
            "10.12.113.55",
            "10.12.90.52",
            "10.12.104.54",
            "10.12.68.61",
            "10.12.13.59",
            "10.12.30.58",
            "10.12.17.60",
            "10.12.21.59",
            "10.12.18.57",
            "10.12.124.46",
            "10.12.4.55",
            "10.12.98.55",
            "10.12.85.51",
            "10.12.73.61",
            "Hostlist for Pair to Pair",
            "10.12.89.47",
            "10.12.125.52",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1192.44            464.65            450.47              0.00",
            "real\t0m6.829s",
            "user\t0m2.430s",
            "sys\t0m3.867s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.82        4819113.24",
            "2                      10.95        5473548.98",
            "4                      22.05        5513636.87",
            "8                      43.44        5429403.23",
            "16                     87.70        5481358.42",
            "32                    174.86        5464338.72",
            "64                    336.42        5256560.99",
            "128                   660.96        5163732.03",
            "256                  1325.49        5177698.46",
            "512                  2546.92        4974446.94",
            "1024                 5098.13        4978640.95",
            "2048                10155.05        4958520.09",
            "4096                19073.55        4656628.77",
            "8192                24694.76        3014496.46",
            "16384               33776.94        2061580.64",
            "32768               35809.80        1092828.43",
            "65536               37859.59         577691.50",
            "131072              38776.41         295840.55",
            "262144              39101.82         149161.59",
            "524288              37089.67          70742.93",
            "1048576             38788.71          36991.80",
            "2097152             39006.62          18599.81",
            "4194304             39000.30           9298.40",
            "real\t1m0.477s",
            "user\t0m7.863s",
            "sys\t0m48.797s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.58",
            "1                      36.65",
            "2                      38.09",
            "4                      37.15",
            "8                      36.73",
            "16                     36.67",
            "32                     36.65",
            "64                     56.55",
            "128                    58.84",
            "256                    56.04",
            "512                    56.40",
            "1024                   59.18",
            "2048                   62.94",
            "4096                   66.95",
            "8192                   77.07",
            "16384                  82.69",
            "32768                 102.65",
            "65536                 250.81",
            "131072                304.88",
            "262144                382.16",
            "524288                546.13",
            "1048576               946.47",
            "2097152              1850.38",
            "4194304              3546.14",
            "real\t0m46.324s",
            "user\t0m6.769s",
            "sys\t0m37.915s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     660.98",
            "2                     812.72",
            "4                     747.21",
            "8                     824.21",
            "16                    785.80",
            "32                    756.44",
            "64                    764.13",
            "128                   906.78",
            "256                   973.86",
            "512                   867.05",
            "1024                 4084.47",
            "2048                 4168.59",
            "4096                 4566.25",
            "8192                 4907.14",
            "16384                7293.37",
            "32768               16669.25",
            "65536               22186.08",
            "131072              32951.17",
            "262144              44131.46",
            "524288              77383.69",
            "1048576            143302.45",
            "real\t1m35.583s",
            "user\t0m12.314s",
            "sys\t1m20.234s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     536.62",
            "8                     653.06",
            "16                    653.55",
            "32                    700.53",
            "64                    827.37",
            "128                   866.84",
            "256                   786.57",
            "512                   859.88",
            "1024                  767.05",
            "2048                 1175.50",
            "4096                 1018.36",
            "8192                 1073.13",
            "16384               12933.74",
            "32768               12845.01",
            "65536               14666.18",
            "131072              12717.05",
            "262144              15683.01",
            "524288              16498.61",
            "1048576             24930.73",
            "real\t1m12.438s",
            "user\t0m10.844s",
            "sys\t0m59.557s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}