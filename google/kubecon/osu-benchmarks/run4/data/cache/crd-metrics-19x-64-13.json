{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.25.50",
            "10.12.100.52",
            "10.12.35.48",
            "10.12.70.58",
            "10.12.91.49",
            "10.12.73.60",
            "10.12.21.57",
            "10.12.22.48",
            "10.12.44.52",
            "10.12.97.62",
            "10.12.23.47",
            "10.12.13.57",
            "10.12.122.58",
            "10.12.51.49",
            "10.12.112.53",
            "10.12.7.50",
            "10.12.74.48",
            "10.12.114.59",
            "10.12.29.48",
            "10.12.120.61",
            "10.12.61.56",
            "10.12.99.52",
            "10.12.62.55",
            "10.12.111.50",
            "10.12.39.54",
            "10.12.24.52",
            "10.12.50.52",
            "10.12.92.54",
            "10.12.103.52",
            "10.12.37.56",
            "10.12.60.53",
            "10.12.19.60",
            "10.12.128.51",
            "10.12.75.51",
            "10.12.57.58",
            "10.12.104.53",
            "10.12.41.58",
            "10.12.69.59",
            "10.12.33.51",
            "10.12.49.49",
            "10.12.89.46",
            "10.12.102.55",
            "10.12.126.57",
            "10.12.14.51",
            "10.12.108.55",
            "10.12.113.54",
            "10.12.16.56",
            "10.12.2.53",
            "10.12.58.58",
            "10.12.32.53",
            "10.12.119.64",
            "10.12.107.48",
            "10.12.4.54",
            "10.12.38.51",
            "10.12.68.59",
            "10.12.17.58",
            "10.12.66.52",
            "10.12.31.56",
            "10.12.85.49",
            "10.12.54.58",
            "10.12.118.52",
            "10.12.86.55",
            "10.12.121.59",
            "10.12.115.67",
            "Hostlist for Pair to Pair",
            "10.12.25.50",
            "10.12.100.52",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1165.37            604.50            590.27              4.98",
            "real\t0m6.782s",
            "user\t0m2.388s",
            "sys\t0m3.877s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.43        5433759.40",
            "2                      11.09        5544049.97",
            "4                      21.94        5484557.88",
            "8                      44.12        5515546.60",
            "16                     86.88        5430185.07",
            "32                    175.02        5469506.23",
            "64                    340.77        5324458.13",
            "128                   610.11        4766483.61",
            "256                  1274.32        4977818.08",
            "512                  2670.80        5216397.33",
            "1024                 4687.45        4577592.48",
            "2048                10184.31        4972808.72",
            "4096                19281.26        4707338.79",
            "8192                25244.78        3081638.73",
            "16384               28093.30        1714678.93",
            "32768               28246.61         862018.21",
            "65536               34375.88         524534.31",
            "131072              39191.86         299010.15",
            "262144              39039.05         148922.16",
            "524288              37174.97          70905.62",
            "1048576             39102.88          37291.42",
            "2097152             39010.95          18601.87",
            "4194304             39066.02           9314.07",
            "real\t1m4.529s",
            "user\t0m8.083s",
            "sys\t0m50.774s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      29.76",
            "1                      28.48",
            "2                      28.95",
            "4                      28.78",
            "8                      29.32",
            "16                     29.36",
            "32                     28.91",
            "64                     52.57",
            "128                    53.16",
            "256                    52.36",
            "512                    52.13",
            "1024                   53.39",
            "2048                   59.46",
            "4096                   61.39",
            "8192                   64.49",
            "16384                  70.48",
            "32768                  96.68",
            "65536                 241.33",
            "131072                267.69",
            "262144                350.67",
            "524288                498.80",
            "1048576               875.06",
            "2097152              1587.48",
            "4194304              2960.57",
            "real\t0m46.900s",
            "user\t0m6.874s",
            "sys\t0m38.240s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     669.92",
            "2                     583.84",
            "4                    1052.21",
            "8                     904.17",
            "16                    959.48",
            "32                    865.98",
            "64                    792.60",
            "128                   995.08",
            "256                   992.73",
            "512                   954.67",
            "1024                 3954.47",
            "2048                 4132.44",
            "4096                 4717.62",
            "8192                 5083.55",
            "16384                7376.54",
            "32768               17611.12",
            "65536               23535.93",
            "131072              31335.18",
            "262144              44649.34",
            "524288              80456.47",
            "1048576            147452.56",
            "real\t1m38.364s",
            "user\t0m12.570s",
            "sys\t1m22.726s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     634.32",
            "8                     682.20",
            "16                    596.47",
            "32                    823.43",
            "64                    849.86",
            "128                  1026.91",
            "256                   862.86",
            "512                   862.16",
            "1024                  805.89",
            "2048                  891.23",
            "4096                  909.26",
            "8192                 1046.46",
            "16384               13039.06",
            "32768               12803.07",
            "65536               14451.51",
            "131072              14645.44",
            "262144              14935.55",
            "524288              16400.76",
            "1048576             23335.11",
            "real\t1m12.122s",
            "user\t0m11.094s",
            "sys\t0m58.979s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}