{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.22.44",
            "10.12.40.41",
            "10.12.90.48",
            "10.12.50.49",
            "10.12.91.44",
            "10.12.10.51",
            "10.12.97.59",
            "10.12.28.49",
            "10.12.73.55",
            "10.12.65.39",
            "10.12.5.56",
            "10.12.102.50",
            "10.12.59.49",
            "10.12.53.46",
            "10.12.104.47",
            "10.12.125.48",
            "10.12.114.55",
            "10.12.46.50",
            "10.12.83.50",
            "10.12.93.50",
            "10.12.4.50",
            "10.12.107.46",
            "10.12.120.56",
            "10.12.21.53",
            "10.12.110.54",
            "10.12.16.52",
            "10.12.124.39",
            "10.12.61.51",
            "10.12.108.50",
            "10.12.103.46",
            "10.12.101.46",
            "10.12.81.50",
            "10.12.54.52",
            "10.12.71.55",
            "10.12.128.45",
            "10.12.98.50",
            "10.12.94.51",
            "10.12.23.42",
            "10.12.66.47",
            "10.12.57.53",
            "10.12.39.47",
            "10.12.6.41",
            "10.12.78.54",
            "10.12.113.47",
            "10.12.100.48",
            "10.12.86.49",
            "10.12.76.48",
            "10.12.69.53",
            "10.12.29.43",
            "10.12.60.49",
            "10.12.112.48",
            "10.12.35.45",
            "10.12.92.50",
            "10.12.64.50",
            "10.12.85.45",
            "10.12.20.50",
            "10.12.2.46",
            "10.12.62.50",
            "10.12.129.55",
            "10.12.88.54",
            "10.12.33.48",
            "10.12.41.53",
            "10.12.121.57",
            "10.12.8.47",
            "Hostlist for Pair to Pair",
            "10.12.22.44",
            "10.12.40.41",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1295.72            798.53            781.52             36.38",
            "real\t0m6.820s",
            "user\t0m2.470s",
            "sys\t0m3.901s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.34        5335114.90",
            "2                      10.97        5486773.53",
            "4                      21.69        5421867.06",
            "8                      43.25        5405967.86",
            "16                     86.28        5392204.13",
            "32                    172.25        5382911.49",
            "64                    325.41        5084489.29",
            "128                   641.40        5010927.39",
            "256                  1146.51        4478571.39",
            "512                  2592.85        5064168.05",
            "1024                 4958.97        4842743.38",
            "2048                 9931.00        4849119.69",
            "4096                18350.17        4480020.94",
            "8192                22941.30        2800451.45",
            "16384               37281.46        2275479.81",
            "32768               36727.49        1120833.90",
            "65536               37297.94         569121.47",
            "131072              39652.65         302525.74",
            "262144              39384.45         150239.76",
            "524288              36545.12          69704.28",
            "1048576             39286.35          37466.38",
            "2097152             38900.12          18549.02",
            "4194304             39093.88           9320.71",
            "real\t1m5.041s",
            "user\t0m8.368s",
            "sys\t0m50.157s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      26.02",
            "1                      23.38",
            "2                      23.44",
            "4                      23.74",
            "8                      23.78",
            "16                     24.70",
            "32                     24.43",
            "64                     46.70",
            "128                    46.94",
            "256                    47.69",
            "512                    50.07",
            "1024                   47.08",
            "2048                   52.24",
            "4096                   53.54",
            "8192                   59.42",
            "16384                  73.71",
            "32768                  93.66",
            "65536                 207.27",
            "131072                276.51",
            "262144                349.59",
            "524288                513.42",
            "1048576               856.47",
            "2097152              1580.88",
            "4194304              2947.07",
            "real\t0m47.804s",
            "user\t0m6.950s",
            "sys\t0m39.139s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     640.86",
            "2                     913.29",
            "4                     959.59",
            "8                     676.35",
            "16                    827.05",
            "32                    783.02",
            "64                   1012.68",
            "128                   847.27",
            "256                   872.44",
            "512                  1081.66",
            "1024                 4445.65",
            "2048                 4303.92",
            "4096                 4548.64",
            "8192                 5357.05",
            "16384                8614.79",
            "32768               18741.86",
            "65536               25713.04",
            "131072              29963.92",
            "262144              47078.41",
            "524288              78633.38",
            "1048576            150137.71",
            "real\t1m39.760s",
            "user\t0m12.842s",
            "sys\t1m23.784s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     615.37",
            "8                     922.61",
            "16                    867.40",
            "32                    693.15",
            "64                    934.01",
            "128                   877.40",
            "256                  1010.74",
            "512                   865.99",
            "1024                  887.28",
            "2048                  781.71",
            "4096                  862.62",
            "8192                 1139.68",
            "16384               13283.96",
            "32768               13520.19",
            "65536               12168.34",
            "131072              13527.58",
            "262144              15100.04",
            "524288              17860.89",
            "1048576             25621.25",
            "real\t1m14.540s",
            "user\t0m11.531s",
            "sys\t1m0.926s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}