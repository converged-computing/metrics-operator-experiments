{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.38.69",
            "10.12.32.72",
            "10.12.20.75",
            "10.12.77.66",
            "10.12.48.71",
            "10.12.6.64",
            "10.12.40.59",
            "10.12.93.75",
            "10.12.106.73",
            "10.12.121.76",
            "10.12.73.79",
            "10.12.85.68",
            "10.12.113.74",
            "10.12.23.65",
            "10.12.76.72",
            "10.12.69.77",
            "10.12.99.71",
            "10.12.49.66",
            "10.12.115.89",
            "10.12.127.70",
            "10.12.50.71",
            "10.12.123.70",
            "10.12.70.76",
            "10.12.54.74",
            "10.12.13.75",
            "10.12.14.72",
            "10.12.116.76",
            "10.12.12.68",
            "10.12.19.78",
            "10.12.36.77",
            "10.12.42.68",
            "10.12.57.78",
            "10.12.110.74",
            "10.12.24.72",
            "10.12.4.71",
            "10.12.128.71",
            "10.12.51.66",
            "10.12.45.83",
            "10.12.107.66",
            "10.12.39.71",
            "10.12.22.65",
            "10.12.118.72",
            "10.12.102.71",
            "10.12.60.73",
            "10.12.68.83",
            "10.12.96.76",
            "10.12.112.71",
            "10.12.62.76",
            "10.12.75.70",
            "10.12.98.72",
            "10.12.44.71",
            "10.12.89.62",
            "10.12.94.74",
            "10.12.111.74",
            "10.12.21.76",
            "10.12.63.63",
            "10.12.3.70",
            "10.12.122.77",
            "10.12.31.74",
            "10.12.53.69",
            "10.12.47.70",
            "10.12.34.78",
            "10.12.7.72",
            "10.12.64.75",
            "10.12.125.72",
            "10.12.95.63",
            "10.12.25.69",
            "10.12.80.72",
            "10.12.65.64",
            "10.12.103.75",
            "10.12.119.85",
            "10.12.100.74",
            "10.12.66.73",
            "10.12.56.36",
            "10.12.15.37",
            "10.12.16.74",
            "10.12.109.35",
            "10.12.10.77",
            "10.12.72.34",
            "10.12.117.36",
            "10.12.86.75",
            "10.12.28.70",
            "10.12.2.72",
            "10.12.61.75",
            "10.12.67.75",
            "10.12.90.70",
            "10.12.92.73",
            "10.12.81.73",
            "10.12.83.67",
            "10.12.41.79",
            "10.12.8.71",
            "10.12.88.77",
            "10.12.124.66",
            "10.12.26.37",
            "10.12.91.70",
            "10.12.37.78",
            "10.12.5.79",
            "10.12.29.70",
            "10.12.114.76",
            "10.12.120.82",
            "10.12.58.79",
            "10.12.0.71",
            "10.12.30.76",
            "10.12.71.74",
            "10.12.18.76",
            "10.12.78.78",
            "10.12.97.81",
            "10.12.82.37",
            "10.12.84.36",
            "10.12.1.73",
            "10.12.87.75",
            "10.12.43.71",
            "10.12.101.66",
            "10.12.35.65",
            "10.12.11.72",
            "10.12.52.68",
            "10.12.55.62",
            "10.12.74.71",
            "10.12.104.74",
            "10.12.126.75",
            "10.12.108.71",
            "10.12.17.76",
            "10.12.105.75",
            "10.12.9.72",
            "10.12.59.70",
            "10.12.33.70",
            "10.12.46.73",
            "10.12.129.77",
            "Hostlist for Pair to Pair",
            "10.12.38.69",
            "10.12.32.72",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1417.44",
            "real\t0m8.293s",
            "user\t0m2.603s",
            "sys\t0m5.047s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5314.20           2832.31           2762.05             10.14",
            "real\t0m7.922s",
            "user\t0m2.824s",
            "sys\t0m4.473s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.49        9491171.48",
            "2                      18.26        9130659.56",
            "4                      38.94        9734008.24",
            "8                      77.28        9659616.21",
            "16                    154.71        9669574.86",
            "32                    315.14        9848105.24",
            "64                    605.50        9461008.69",
            "128                   990.72        7740016.47",
            "256                  2334.64        9119673.63",
            "512                  4160.44        8125861.34",
            "1024                 9175.15        8960103.04",
            "2048                17822.56        8702424.15",
            "4096                34621.32        8452471.88",
            "8192                46522.62        5679031.27",
            "16384               65923.52        4023652.51",
            "32768               65691.54        2004746.83",
            "65536               76592.56        1168709.66",
            "131072              78106.36         595904.25",
            "262144              76934.53         293481.93",
            "524288              74558.23         142208.53",
            "1048576             77556.26          73963.41",
            "2097152             77904.82          37147.91",
            "4194304             77848.06          18560.42",
            "real\t1m6.793s",
            "user\t0m8.222s",
            "sys\t0m51.555s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      33.82",
            "1                      33.36",
            "2                      34.11",
            "4                      33.85",
            "8                      33.90",
            "16                     35.42",
            "32                     34.41",
            "64                     58.46",
            "128                    59.85",
            "256                    56.65",
            "512                    58.12",
            "1024                   57.68",
            "2048                   63.85",
            "4096                   68.01",
            "8192                   73.83",
            "16384                  96.52",
            "32768                 105.24",
            "65536                 256.54",
            "131072                310.96",
            "262144                428.81",
            "524288                614.86",
            "1048576              1017.54",
            "2097152              2089.58",
            "4194304              4040.68",
            "real\t0m48.101s",
            "user\t0m6.514s",
            "sys\t0m39.603s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1668.23",
            "2                    1959.12",
            "4                    1715.09",
            "8                    1675.76",
            "16                   1841.73",
            "32                   1724.89",
            "64                   1875.52",
            "128                  1728.70",
            "256                  2067.01",
            "512                 10415.11",
            "1024                12034.34",
            "2048                11875.61",
            "4096                13066.89",
            "8192                15110.27",
            "16384               19289.38",
            "32768               48097.56",
            "65536               58426.15",
            "131072              77754.49",
            "262144             104593.51",
            "524288             180064.25",
            "1048576            324721.72",
            "real\t4m3.709s",
            "user\t0m28.109s",
            "sys\t3m27.974s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    2035.46",
            "8                    1584.46",
            "16                   1660.08",
            "32                   1809.23",
            "64                   1887.89",
            "128                  2122.10",
            "256                  1747.64",
            "512                  2233.64",
            "1024                 2031.58",
            "2048                 1900.82",
            "4096                 2054.80",
            "8192                 1925.34",
            "16384               29897.90",
            "32768               30517.41",
            "65536               29566.90",
            "131072              32896.64",
            "262144              32654.60",
            "524288              35088.12",
            "1048576             38679.87",
            "real\t2m35.368s",
            "user\t0m21.042s",
            "sys\t2m10.113s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}