{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.52.69",
            "10.12.30.77",
            "10.12.104.75",
            "10.12.45.84",
            "10.12.111.75",
            "10.12.97.82",
            "10.12.91.71",
            "10.12.129.78",
            "10.12.18.77",
            "10.12.54.75",
            "10.12.58.80",
            "10.12.3.71",
            "10.12.51.67",
            "10.12.114.77",
            "10.12.37.79",
            "10.12.92.74",
            "10.12.42.69",
            "10.12.19.79",
            "10.12.70.77",
            "10.12.66.74",
            "10.12.46.74",
            "10.12.64.76",
            "10.12.121.77",
            "10.12.36.78",
            "10.12.122.78",
            "10.12.86.76",
            "10.12.125.73",
            "10.12.123.71",
            "10.12.106.74",
            "10.12.115.90",
            "10.12.7.73",
            "10.12.98.73",
            "10.12.107.67",
            "10.12.73.80",
            "10.12.124.67",
            "10.12.47.71",
            "10.12.128.72",
            "10.12.99.72",
            "10.12.25.70",
            "10.12.93.76",
            "10.12.120.83",
            "10.12.4.72",
            "10.12.31.75",
            "10.12.68.84",
            "10.12.16.75",
            "10.12.39.72",
            "10.12.44.72",
            "10.12.95.64",
            "10.12.28.71",
            "10.12.85.69",
            "10.12.81.74",
            "10.12.40.60",
            "10.12.5.80",
            "10.12.22.66",
            "10.12.76.73",
            "10.12.21.77",
            "10.12.59.71",
            "10.12.29.71",
            "10.12.94.75",
            "10.12.60.74",
            "10.12.67.76",
            "10.12.77.67",
            "10.12.126.76",
            "10.12.65.65",
            "10.12.17.77",
            "10.12.48.72",
            "10.12.90.71",
            "10.12.6.65",
            "10.12.112.72",
            "10.12.12.69",
            "10.12.10.78",
            "10.12.61.76",
            "10.12.49.67",
            "10.12.62.77",
            "10.12.55.63",
            "10.12.80.73",
            "10.12.119.86",
            "10.12.69.78",
            "10.12.38.70",
            "10.12.82.38",
            "10.12.26.38",
            "10.12.50.72",
            "10.12.34.79",
            "10.12.15.38",
            "10.12.109.36",
            "10.12.32.73",
            "10.12.102.72",
            "10.12.2.73",
            "10.12.118.73",
            "10.12.72.35",
            "10.12.103.76",
            "10.12.23.66",
            "10.12.53.70",
            "10.12.57.79",
            "10.12.100.75",
            "10.12.35.66",
            "10.12.113.75",
            "10.12.1.74",
            "10.12.33.71",
            "10.12.105.76",
            "10.12.71.75",
            "10.12.41.80",
            "10.12.101.67",
            "10.12.14.73",
            "10.12.8.72",
            "10.12.9.73",
            "10.12.110.75",
            "10.12.63.64",
            "10.12.11.73",
            "10.12.96.77",
            "10.12.89.63",
            "10.12.83.68",
            "10.12.75.71",
            "10.12.84.37",
            "10.12.87.76",
            "10.12.116.77",
            "10.12.88.78",
            "10.12.56.37",
            "10.12.117.37",
            "10.12.20.76",
            "10.12.24.73",
            "10.12.74.72",
            "10.12.0.72",
            "10.12.127.71",
            "10.12.78.79",
            "10.12.43.72",
            "10.12.13.76",
            "10.12.108.72",
            "Hostlist for Pair to Pair",
            "10.12.52.69",
            "10.12.30.77",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1502.71",
            "real\t0m8.444s",
            "user\t0m2.612s",
            "sys\t0m5.166s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3906.55           2395.20           2340.86             35.44",
            "real\t0m7.677s",
            "user\t0m2.655s",
            "sys\t0m4.353s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.51       10513904.02",
            "2                      21.81       10907445.11",
            "4                      43.76       10938753.64",
            "8                      86.11       10763410.39",
            "16                    176.07       11004648.36",
            "32                    296.50        9265653.94",
            "64                    693.65       10838283.26",
            "128                  1341.51       10480577.20",
            "256                  2427.82        9483685.34",
            "512                  4867.78        9507376.54",
            "1024                 9717.71        9489948.40",
            "2048                20345.93        9934536.59",
            "4096                39222.04        9575694.34",
            "8192                39413.00        4811156.87",
            "16384               39645.62        2419776.86",
            "32768               68036.90        2076321.40",
            "65536               75318.71        1149272.25",
            "131072              78128.10         596070.13",
            "262144              78137.10         298069.36",
            "524288              75817.33         144610.08",
            "1048576             77857.72          74250.90",
            "2097152             77944.48          37166.83",
            "4194304             77907.38          18574.57",
            "real\t1m4.142s",
            "user\t0m7.861s",
            "sys\t0m50.752s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      30.61",
            "1                      30.18",
            "2                      30.14",
            "4                      29.95",
            "8                      30.74",
            "16                     31.06",
            "32                     31.31",
            "64                     52.49",
            "128                    53.37",
            "256                    52.99",
            "512                    54.98",
            "1024                   55.09",
            "2048                   63.89",
            "4096                   62.54",
            "8192                   66.18",
            "16384                  78.43",
            "32768                  96.48",
            "65536                 245.86",
            "131072                290.27",
            "262144                371.21",
            "524288                534.25",
            "1048576               970.96",
            "2097152              1802.94",
            "4194304              3444.48",
            "real\t0m48.864s",
            "user\t0m6.897s",
            "sys\t0m40.050s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1550.88",
            "2                    1761.73",
            "4                    1661.73",
            "8                    1529.73",
            "16                   1902.57",
            "32                   1698.09",
            "64                   1913.65",
            "128                  2256.56",
            "256                  1771.27",
            "512                 11064.91",
            "1024                11951.26",
            "2048                12199.99",
            "4096                13121.14",
            "8192                14986.37",
            "16384               17747.70",
            "32768               48106.94",
            "65536               58329.00",
            "131072              76132.20",
            "262144             104741.33",
            "524288             176438.09",
            "1048576            322851.49",
            "real\t4m2.483s",
            "user\t0m28.885s",
            "sys\t3m26.542s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1640.79",
            "8                    1895.26",
            "16                   1631.67",
            "32                   1481.65",
            "64                   1999.98",
            "128                  1856.95",
            "256                  1968.85",
            "512                  1909.54",
            "1024                 2146.02",
            "2048                 1807.29",
            "4096                 1814.17",
            "8192                 2244.93",
            "16384               29875.78",
            "32768               30873.39",
            "65536               28885.19",
            "131072              29629.69",
            "262144              33583.87",
            "524288              34864.17",
            "1048576             42249.33",
            "real\t2m34.282s",
            "user\t0m21.230s",
            "sys\t2m9.052s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}