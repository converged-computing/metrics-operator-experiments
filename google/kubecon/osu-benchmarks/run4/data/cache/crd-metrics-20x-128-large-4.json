{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.110.67",
            "10.12.83.60",
            "10.12.91.63",
            "10.12.80.65",
            "10.12.8.64",
            "10.12.28.63",
            "10.12.10.70",
            "10.12.87.68",
            "10.12.20.68",
            "10.12.30.69",
            "10.12.44.64",
            "10.12.67.68",
            "10.12.121.69",
            "10.12.97.74",
            "10.12.21.69",
            "10.12.128.64",
            "10.12.70.69",
            "10.12.50.64",
            "10.12.13.68",
            "10.12.86.68",
            "10.12.99.64",
            "10.12.124.59",
            "10.12.32.65",
            "10.12.9.65",
            "10.12.24.65",
            "10.12.29.63",
            "10.12.61.68",
            "10.12.58.72",
            "10.12.101.59",
            "10.12.94.67",
            "10.12.77.59",
            "10.12.54.67",
            "10.12.69.70",
            "10.12.60.66",
            "10.12.59.63",
            "10.12.31.67",
            "10.12.81.66",
            "10.12.43.64",
            "10.12.96.69",
            "10.12.71.67",
            "10.12.38.62",
            "10.12.103.68",
            "10.12.100.67",
            "10.12.127.63",
            "10.12.22.58",
            "10.12.65.57",
            "10.12.19.71",
            "10.12.114.69",
            "10.12.2.65",
            "10.12.33.63",
            "10.12.23.58",
            "10.12.90.63",
            "10.12.88.70",
            "10.12.37.71",
            "10.12.92.66",
            "10.12.115.82",
            "10.12.116.69",
            "10.12.12.61",
            "10.12.119.78",
            "10.12.53.62",
            "10.12.63.56",
            "10.12.18.69",
            "10.12.126.68",
            "10.12.78.71",
            "10.12.76.65",
            "10.12.41.72",
            "10.12.35.58",
            "10.12.106.66",
            "10.12.112.64",
            "10.12.42.61",
            "10.12.39.64",
            "10.12.108.64",
            "10.12.95.56",
            "10.12.68.76",
            "10.12.120.75",
            "10.12.64.68",
            "10.12.47.63",
            "10.12.57.71",
            "10.12.1.66",
            "10.12.73.72",
            "10.12.85.61",
            "10.12.118.65",
            "10.12.129.70",
            "10.12.125.65",
            "10.12.46.66",
            "10.12.74.64",
            "10.12.104.67",
            "10.12.107.59",
            "10.12.75.63",
            "10.12.93.68",
            "10.12.51.59",
            "10.12.36.70",
            "10.12.123.63",
            "10.12.49.59",
            "10.12.102.64",
            "10.12.109.28",
            "10.12.7.65",
            "10.12.56.29",
            "10.12.98.65",
            "10.12.0.64",
            "10.12.26.30",
            "10.12.15.30",
            "10.12.16.67",
            "10.12.45.76",
            "10.12.117.29",
            "10.12.34.71",
            "10.12.48.64",
            "10.12.25.62",
            "10.12.82.30",
            "10.12.72.28",
            "10.12.6.57",
            "10.12.5.72",
            "10.12.111.67",
            "10.12.11.65",
            "10.12.55.55",
            "10.12.4.64",
            "10.12.84.29",
            "10.12.52.61",
            "10.12.113.67",
            "10.12.40.52",
            "10.12.17.69",
            "10.12.66.66",
            "10.12.122.70",
            "10.12.105.68",
            "10.12.14.65",
            "10.12.3.63",
            "10.12.62.69",
            "10.12.89.55",
            "Hostlist for Pair to Pair",
            "10.12.110.67",
            "10.12.83.60",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          2080.46",
            "real\t0m8.900s",
            "user\t0m2.650s",
            "sys\t0m5.568s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           2542.82           1039.63           1010.62              0.00",
            "real\t0m7.335s",
            "user\t0m2.533s",
            "sys\t0m4.123s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.58       10581111.22",
            "2                      21.78       10889930.08",
            "4                      42.95       10737958.04",
            "8                      86.39       10798552.99",
            "16                    173.00       10812237.39",
            "32                    341.56       10673659.03",
            "64                    628.86        9825955.60",
            "128                  1219.68        9528762.67",
            "256                  2429.31        9489474.39",
            "512                  5050.99        9865218.62",
            "1024                 9995.38        9761112.03",
            "2048                18076.26        8826297.07",
            "4096                37108.16        9059610.45",
            "8192                40270.06        4915778.71",
            "16384               38237.23        2333815.18",
            "32768               47537.45        1450727.98",
            "65536               66314.62        1011880.87",
            "131072              77542.68         591603.69",
            "262144              75441.11         287785.00",
            "524288              78015.03         148801.86",
            "1048576             77230.90          73653.13",
            "2097152             77264.57          36842.62",
            "4194304             77495.93          18476.47",
            "real\t1m19.154s",
            "user\t0m8.973s",
            "sys\t0m55.924s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      27.17",
            "1                      27.46",
            "2                      27.97",
            "4                      26.39",
            "8                      26.87",
            "16                     27.53",
            "32                     27.22",
            "64                     51.03",
            "128                    52.13",
            "256                    54.26",
            "512                    53.57",
            "1024                   52.58",
            "2048                   60.32",
            "4096                   59.55",
            "8192                   65.32",
            "16384                  69.79",
            "32768                 106.40",
            "65536                 235.23",
            "131072                282.11",
            "262144                405.45",
            "524288                548.72",
            "1048576               960.30",
            "2097152              1755.94",
            "4194304              3337.89",
            "real\t0m48.975s",
            "user\t0m6.921s",
            "sys\t0m40.098s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1651.58",
            "2                    1761.11",
            "4                    2014.33",
            "8                    1645.36",
            "16                   1925.78",
            "32                   1881.65",
            "64                   1904.61",
            "128                  2002.84",
            "256                  2027.05",
            "512                 11528.14",
            "1024                12408.10",
            "2048                12573.99",
            "4096                13643.14",
            "8192                14580.12",
            "16384               19649.48",
            "32768               45847.91",
            "65536               59047.32",
            "131072              76377.55",
            "262144             108749.41",
            "524288             178430.06",
            "1048576            320710.46",
            "real\t4m6.998s",
            "user\t0m29.437s",
            "sys\t3m30.128s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1894.26",
            "8                    1468.91",
            "16                   1493.01",
            "32                   1953.73",
            "64                   1782.77",
            "128                  1805.28",
            "256                  2005.70",
            "512                  1848.22",
            "1024                 2045.75",
            "2048                 1702.57",
            "4096                 2353.26",
            "8192                 2024.32",
            "16384               30215.44",
            "32768               30894.44",
            "65536               28474.38",
            "131072              32463.77",
            "262144              31292.54",
            "524288              34496.18",
            "1048576             40502.04",
            "real\t2m34.748s",
            "user\t0m21.018s",
            "sys\t2m9.652s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}