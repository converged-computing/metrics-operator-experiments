{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 32 nodes) is 32",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 32 ip addresses",
            "Hostlist",
            "10.12.14.41",
            "10.12.45.48",
            "10.12.99.46",
            "10.12.49.42",
            "10.12.125.41",
            "10.12.36.48",
            "10.12.23.37",
            "10.12.18.43",
            "10.12.37.40",
            "10.12.48.44",
            "10.12.62.40",
            "10.12.25.38",
            "10.12.53.41",
            "10.12.0.39",
            "10.12.114.43",
            "10.12.68.46",
            "10.12.87.41",
            "10.12.106.41",
            "10.12.4.39",
            "10.12.78.45",
            "10.12.129.43",
            "10.12.102.43",
            "10.12.17.43",
            "10.12.126.41",
            "10.12.100.41",
            "10.12.41.47",
            "10.12.73.46",
            "10.12.105.44",
            "10.12.76.37",
            "10.12.34.46",
            "10.12.8.38",
            "10.12.32.43",
            "Hostlist for Pair to Pair",
            "10.12.14.41",
            "10.12.45.48",
            "METADATA START {\"pods\":32,\"completions\":32,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "            805.83            438.84            425.19             13.69",
            "real\t0m3.563s",
            "user\t0m1.220s",
            "sys\t0m1.858s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 16 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       2.36        2363440.57",
            "2                       4.70        2349549.99",
            "4                       7.55        1886940.77",
            "8                      19.09        2385955.80",
            "16                     38.51        2406957.69",
            "32                     73.59        2299751.75",
            "64                    146.51        2289183.11",
            "128                   286.57        2238835.18",
            "256                   565.01        2207074.69",
            "512                   830.63        1622327.59",
            "1024                 2197.97        2146455.02",
            "2048                 4486.93        2190885.01",
            "4096                 7330.48        1789667.66",
            "8192                12595.65        1537554.51",
            "16384               17259.51        1053437.13",
            "32768               17815.84         543696.23",
            "65536               18403.94         280821.85",
            "131072              19539.52         149074.74",
            "262144              19543.41          74552.18",
            "524288              18582.80          35443.88",
            "1048576             19559.50          18653.39",
            "2097152             19484.06           9290.72",
            "4194304             19606.36           4674.52",
            "real\t1m8.200s",
            "user\t0m7.630s",
            "sys\t0m50.821s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      38.67",
            "1                      38.27",
            "2                      38.59",
            "4                      39.63",
            "8                      38.38",
            "16                     38.02",
            "32                     38.11",
            "64                     61.98",
            "128                    63.29",
            "256                    63.81",
            "512                    63.21",
            "1024                   64.16",
            "2048                   69.00",
            "4096                   69.42",
            "8192                   77.38",
            "16384                  83.04",
            "32768                 107.84",
            "65536                 272.63",
            "131072                300.19",
            "262144                388.03",
            "524288                549.66",
            "1048576               964.48",
            "2097152              1836.55",
            "4194304              3657.58",
            "real\t0m41.421s",
            "user\t0m5.302s",
            "sys\t0m34.479s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     459.03",
            "2                     465.83",
            "4                     478.16",
            "8                     401.79",
            "16                    529.28",
            "32                    415.84",
            "64                    421.49",
            "128                   449.77",
            "256                   430.24",
            "512                   454.68",
            "1024                  628.14",
            "2048                 1580.96",
            "4096                 1708.44",
            "8192                 1979.41",
            "16384                2422.18",
            "32768                7673.59",
            "65536                9988.00",
            "131072              13776.11",
            "262144              19631.34",
            "524288              35498.43",
            "1048576             70621.98",
            "real\t0m42.585s",
            "user\t0m5.430s",
            "sys\t0m35.521s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     359.30",
            "8                     392.95",
            "16                    465.66",
            "32                    329.65",
            "64                    433.12",
            "128                   584.63",
            "256                   476.29",
            "512                   543.43",
            "1024                  523.33",
            "2048                  569.51",
            "4096                  495.01",
            "8192                  605.76",
            "16384                5442.32",
            "32768                5259.10",
            "65536                5506.10",
            "131072               6599.94",
            "262144               7208.82",
            "524288               9653.52",
            "1048576             14071.00",
            "real\t0m34.993s",
            "user\t0m5.691s",
            "sys\t0m28.119s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 32,
            "completions": 32,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 32,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 32,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}