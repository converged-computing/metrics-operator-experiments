{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.36.84",
            "10.12.38.76",
            "10.12.57.85",
            "10.12.34.85",
            "10.12.70.83",
            "10.12.16.81",
            "10.12.91.77",
            "10.12.86.82",
            "10.12.48.78",
            "10.12.94.81",
            "10.12.65.71",
            "10.12.98.79",
            "10.12.129.84",
            "10.12.60.80",
            "10.12.96.83",
            "10.12.54.81",
            "10.12.63.70",
            "10.12.105.82",
            "10.12.103.82",
            "10.12.41.86",
            "10.12.81.80",
            "10.12.77.73",
            "10.12.127.77",
            "10.12.128.78",
            "10.12.61.82",
            "10.12.101.73",
            "10.12.59.77",
            "10.12.90.77",
            "10.12.43.78",
            "10.12.21.83",
            "10.12.111.81",
            "10.12.29.77",
            "10.12.118.79",
            "10.12.95.70",
            "10.12.115.96",
            "10.12.100.81",
            "10.12.11.79",
            "10.12.104.81",
            "10.12.2.79",
            "10.12.47.77",
            "10.12.32.79",
            "10.12.30.83",
            "10.12.92.80",
            "10.12.19.85",
            "10.12.58.86",
            "10.12.108.78",
            "10.12.44.78",
            "10.12.5.86",
            "10.12.7.79",
            "10.12.74.78",
            "10.12.45.90",
            "10.12.114.83",
            "10.12.33.77",
            "10.12.124.73",
            "10.12.1.80",
            "10.12.93.82",
            "10.12.49.73",
            "10.12.68.90",
            "10.12.123.77",
            "10.12.64.82",
            "10.12.8.78",
            "10.12.35.72",
            "10.12.112.78",
            "10.12.13.82",
            "10.12.119.92",
            "10.12.126.82",
            "10.12.113.81",
            "10.12.73.86",
            "10.12.120.89",
            "10.12.20.82",
            "10.12.22.72",
            "10.12.10.84",
            "10.12.76.79",
            "10.12.18.83",
            "10.12.69.84",
            "10.12.80.79",
            "10.12.15.44",
            "10.12.56.43",
            "10.12.26.44",
            "10.12.28.77",
            "10.12.9.79",
            "10.12.39.78",
            "10.12.99.78",
            "10.12.23.72",
            "10.12.102.78",
            "10.12.17.83",
            "10.12.52.75",
            "10.12.110.81",
            "10.12.87.82",
            "10.12.82.44",
            "10.12.31.81",
            "10.12.40.66",
            "10.12.122.84",
            "10.12.84.42",
            "10.12.55.69",
            "10.12.4.78",
            "10.12.75.77",
            "10.12.12.75",
            "10.12.83.74",
            "10.12.107.73",
            "10.12.46.80",
            "10.12.89.69",
            "10.12.6.71",
            "10.12.24.79",
            "10.12.53.76",
            "10.12.88.84",
            "10.12.121.83",
            "10.12.125.79",
            "10.12.71.81",
            "10.12.67.82",
            "10.12.50.78",
            "10.12.78.85",
            "10.12.51.73",
            "10.12.25.76",
            "10.12.37.85",
            "10.12.66.80",
            "10.12.14.79",
            "10.12.3.77",
            "10.12.117.43",
            "10.12.42.75",
            "10.12.116.83",
            "10.12.62.83",
            "10.12.85.75",
            "10.12.72.40",
            "10.12.109.41",
            "10.12.106.80",
            "10.12.0.78",
            "10.12.97.88",
            "Hostlist for Pair to Pair",
            "10.12.36.84",
            "10.12.38.76",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1501.12",
            "real\t0m8.471s",
            "user\t0m2.582s",
            "sys\t0m5.208s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3124.09           1012.01            975.72              0.00",
            "real\t0m7.595s",
            "user\t0m2.599s",
            "sys\t0m4.315s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                      10.72       10721705.59",
            "2                      20.48       10239706.63",
            "4                      42.47       10617207.62",
            "8                      62.82        7852016.03",
            "16                    157.05        9815716.63",
            "32                    302.86        9464268.56",
            "64                    668.50       10445351.96",
            "128                  1321.29       10322573.88",
            "256                  2583.82       10093056.20",
            "512                  5160.31       10078729.74",
            "1024                10265.71       10025105.11",
            "2048                19512.34        9527510.38",
            "4096                37008.68        9035323.48",
            "8192                42064.00        5134765.27",
            "16384               39473.80        2409289.29",
            "32768               65893.80        2010919.04",
            "65536               50109.16         764605.07",
            "131072              71736.23         547304.02",
            "262144              70931.17         270580.95",
            "524288              77970.53         148716.99",
            "1048576             77583.45          73989.35",
            "2097152             77840.66          37117.32",
            "4194304             78145.88          18631.43",
            "real\t1m11.429s",
            "user\t0m8.446s",
            "sys\t0m52.908s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      35.50",
            "1                      35.56",
            "2                      36.03",
            "4                      36.31",
            "8                      36.11",
            "16                     36.90",
            "32                     37.10",
            "64                     64.33",
            "128                    64.25",
            "256                    62.23",
            "512                    65.62",
            "1024                   63.36",
            "2048                   69.63",
            "4096                   71.22",
            "8192                   77.96",
            "16384                  85.21",
            "32768                 106.28",
            "65536                 271.38",
            "131072                339.48",
            "262144                382.89",
            "524288                540.91",
            "1048576               961.32",
            "2097152              1837.69",
            "4194304              3510.96",
            "real\t0m48.170s",
            "user\t0m7.061s",
            "sys\t0m39.300s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1571.21",
            "2                    1814.42",
            "4                    1366.04",
            "8                    1743.82",
            "16                   1707.61",
            "32                   2006.38",
            "64                   2175.74",
            "128                  1850.83",
            "256                  2359.04",
            "512                 11300.34",
            "1024                11841.03",
            "2048                12753.23",
            "4096                13254.78",
            "8192                14685.63",
            "16384               18772.91",
            "32768               47522.51",
            "65536               57868.99",
            "131072              76399.03",
            "262144             106244.24",
            "524288             179195.06",
            "1048576            322871.71",
            "real\t4m7.789s",
            "user\t0m29.476s",
            "sys\t3m31.200s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1488.87",
            "8                    1628.90",
            "16                   1665.72",
            "32                   1687.82",
            "64                   1949.01",
            "128                  1817.17",
            "256                  2272.86",
            "512                  1860.87",
            "1024                 1897.77",
            "2048                 2013.37",
            "4096                 2186.34",
            "8192                 2212.09",
            "16384               30536.33",
            "32768               30539.80",
            "65536               30148.14",
            "131072              31763.32",
            "262144              35843.84",
            "524288              34834.92",
            "1048576             44112.59",
            "real\t2m36.306s",
            "user\t0m20.870s",
            "sys\t2m11.307s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}