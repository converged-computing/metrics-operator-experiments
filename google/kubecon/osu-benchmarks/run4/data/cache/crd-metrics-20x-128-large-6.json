{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.93.70",
            "10.12.46.68",
            "10.12.1.68",
            "10.12.112.66",
            "10.12.67.70",
            "10.12.33.65",
            "10.12.55.57",
            "10.12.71.69",
            "10.12.19.73",
            "10.12.97.76",
            "10.12.95.58",
            "10.12.57.73",
            "10.12.50.66",
            "10.12.73.74",
            "10.12.30.71",
            "10.12.120.77",
            "10.12.62.71",
            "10.12.127.65",
            "10.12.40.54",
            "10.12.99.66",
            "10.12.87.70",
            "10.12.29.65",
            "10.12.69.72",
            "10.12.11.67",
            "10.12.89.57",
            "10.12.53.64",
            "10.12.10.72",
            "10.12.32.67",
            "10.12.96.71",
            "10.12.102.66",
            "10.12.121.71",
            "10.12.34.73",
            "10.12.25.64",
            "10.12.8.66",
            "10.12.52.63",
            "10.12.38.64",
            "10.12.129.72",
            "10.12.107.61",
            "10.12.66.68",
            "10.12.48.66",
            "10.12.86.70",
            "10.12.28.65",
            "10.12.65.59",
            "10.12.88.72",
            "10.12.23.60",
            "10.12.92.68",
            "10.12.63.58",
            "10.12.20.70",
            "10.12.115.84",
            "10.12.124.61",
            "10.12.103.70",
            "10.12.7.67",
            "10.12.16.69",
            "10.12.9.67",
            "10.12.98.67",
            "10.12.68.78",
            "10.12.22.60",
            "10.12.6.59",
            "10.12.64.70",
            "10.12.17.71",
            "10.12.36.72",
            "10.12.41.74",
            "10.12.105.70",
            "10.12.59.65",
            "10.12.3.65",
            "10.12.100.69",
            "10.12.37.73",
            "10.12.111.69",
            "10.12.13.70",
            "10.12.79.9",
            "10.12.26.32",
            "10.12.82.32",
            "10.12.70.71",
            "10.12.75.65",
            "10.12.18.71",
            "10.12.81.68",
            "10.12.74.66",
            "10.12.126.70",
            "10.12.85.63",
            "10.12.114.71",
            "10.12.35.60",
            "10.12.94.69",
            "10.12.116.71",
            "10.12.43.66",
            "10.12.119.80",
            "10.12.90.65",
            "10.12.2.67",
            "10.12.101.61",
            "10.12.42.63",
            "10.12.14.67",
            "10.12.76.67",
            "10.12.12.63",
            "10.12.91.65",
            "10.12.83.62",
            "10.12.39.66",
            "10.12.56.31",
            "10.12.117.31",
            "10.12.54.69",
            "10.12.51.61",
            "10.12.77.61",
            "10.12.109.30",
            "10.12.84.31",
            "10.12.106.68",
            "10.12.5.74",
            "10.12.122.72",
            "10.12.104.69",
            "10.12.78.73",
            "10.12.110.69",
            "10.12.44.66",
            "10.12.108.66",
            "10.12.45.78",
            "10.12.21.71",
            "10.12.15.32",
            "10.12.61.70",
            "10.12.49.61",
            "10.12.24.67",
            "10.12.123.65",
            "10.12.128.66",
            "10.12.47.65",
            "10.12.58.74",
            "10.12.4.66",
            "10.12.80.67",
            "10.12.60.68",
            "10.12.118.67",
            "10.12.113.69",
            "10.12.125.67",
            "10.12.0.66",
            "10.12.31.69",
            "Hostlist for Pair to Pair",
            "10.12.93.70",
            "10.12.46.68",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1626.21",
            "real\t0m8.504s",
            "user\t0m2.623s",
            "sys\t0m5.216s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3466.64           1909.30           1862.94             16.40",
            "real\t0m7.489s",
            "user\t0m2.595s",
            "sys\t0m4.256s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       8.63        8630417.44",
            "2                      19.88        9942209.69",
            "4                      36.10        9025985.94",
            "8                      67.21        8400802.97",
            "16                    155.62        9726408.89",
            "32                    243.39        7606061.15",
            "64                    559.12        8736273.88",
            "128                  1153.37        9010690.03",
            "256                  2368.04        9250151.05",
            "512                  4474.53        8739316.66",
            "1024                 8207.62        8015251.99",
            "2048                17933.03        8756363.38",
            "4096                34328.81        8381057.21",
            "8192                50459.48        6159604.77",
            "16384               44208.41        2698267.03",
            "32768               58525.09        1786043.90",
            "65536               58183.12         887803.95",
            "131072              61254.04         467331.20",
            "262144              65523.66         249952.93",
            "524288              68274.60         130223.46",
            "1048576             55043.46          52493.53",
            "2097152             53703.39          25607.77",
            "4194304             60034.14          14313.25",
            "real\t1m20.416s",
            "user\t0m10.116s",
            "sys\t1m2.350s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      41.04",
            "1                      40.89",
            "2                      42.21",
            "4                      43.34",
            "8                      43.42",
            "16                     41.05",
            "32                     41.31",
            "64                     67.90",
            "128                    66.96",
            "256                    66.78",
            "512                    65.54",
            "1024                   70.02",
            "2048                   74.91",
            "4096                   80.42",
            "8192                   84.34",
            "16384                  95.54",
            "32768                 125.50",
            "65536                 294.86",
            "131072                340.96",
            "262144                472.63",
            "524288                729.03",
            "1048576              1164.28",
            "2097152              2050.87",
            "4194304              3913.86",
            "real\t0m48.033s",
            "user\t0m6.807s",
            "sys\t0m39.274s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1600.69",
            "2                    1568.05",
            "4                    1811.92",
            "8                    1644.68",
            "16                   2137.88",
            "32                   1953.23",
            "64                   1916.39",
            "128                  2182.71",
            "256                  1564.28",
            "512                 11522.75",
            "1024                12140.20",
            "2048                12455.24",
            "4096                13376.04",
            "8192                15011.47",
            "16384               19771.20",
            "32768               45257.08",
            "65536               59049.31",
            "131072              75478.03",
            "262144             105408.05",
            "524288             176152.86",
            "1048576            317589.00",
            "real\t4m4.859s",
            "user\t0m29.352s",
            "sys\t3m28.092s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1344.30",
            "8                    1854.78",
            "16                   1726.34",
            "32                   1863.45",
            "64                   1704.81",
            "128                  1820.93",
            "256                  2038.55",
            "512                  1781.10",
            "1024                 2004.66",
            "2048                 1869.29",
            "4096                 2154.22",
            "8192                 2231.07",
            "16384               30148.02",
            "32768               30336.19",
            "65536               30342.95",
            "131072              32106.93",
            "262144              33147.84",
            "524288              33994.11",
            "1048576             39329.62",
            "real\t2m33.944s",
            "user\t0m20.988s",
            "sys\t2m8.849s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}