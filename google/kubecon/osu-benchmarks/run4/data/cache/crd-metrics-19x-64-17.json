{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.53.51",
            "10.12.111.53",
            "10.12.49.51",
            "10.12.107.51",
            "10.12.33.54",
            "10.12.93.58",
            "10.12.50.54",
            "10.12.78.61",
            "10.12.34.60",
            "10.12.8.54",
            "10.12.22.51",
            "10.12.110.58",
            "10.12.62.57",
            "10.12.106.55",
            "10.12.85.52",
            "10.12.45.62",
            "10.12.24.54",
            "10.12.9.55",
            "10.12.30.60",
            "10.12.66.56",
            "10.12.105.58",
            "10.12.100.56",
            "10.12.94.56",
            "10.12.128.54",
            "10.12.48.56",
            "10.12.122.61",
            "10.12.61.59",
            "10.12.121.61",
            "10.12.98.57",
            "10.12.39.57",
            "10.12.36.56",
            "10.12.18.58",
            "10.12.115.69",
            "10.12.70.62",
            "10.12.13.60",
            "10.12.58.61",
            "10.12.1.50",
            "10.12.6.47",
            "10.12.52.52",
            "10.12.68.62",
            "10.12.60.54",
            "10.12.2.56",
            "10.12.63.48",
            "10.12.29.52",
            "10.12.17.62",
            "10.12.118.54",
            "10.12.101.51",
            "10.12.20.55",
            "10.12.74.50",
            "10.12.11.54",
            "10.12.57.61",
            "10.12.71.60",
            "10.12.124.47",
            "10.12.119.67",
            "10.12.44.54",
            "10.12.116.60",
            "10.12.127.51",
            "10.12.12.51",
            "10.12.114.61",
            "10.12.43.56",
            "10.12.76.55",
            "10.12.73.62",
            "10.12.112.55",
            "10.12.0.50",
            "Hostlist for Pair to Pair",
            "10.12.53.51",
            "10.12.111.53",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3514.74           2084.68           2024.39             29.36",
            "real\t0m7.297s",
            "user\t0m2.650s",
            "sys\t0m4.132s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.79        4785790.32",
            "2                       9.62        4808322.27",
            "4                      18.70        4675795.88",
            "8                      36.54        4567540.35",
            "16                     75.86        4741019.50",
            "32                    152.04        4751311.53",
            "64                    284.49        4445123.75",
            "128                   500.93        3913521.34",
            "256                  1190.22        4649287.85",
            "512                  2315.00        4521492.62",
            "1024                 4668.45        4559031.97",
            "2048                 9193.25        4488893.35",
            "4096                17390.96        4245839.50",
            "8192                21943.22        2678615.66",
            "16384               32692.92        1995417.22",
            "32768               35226.86        1075038.59",
            "65536               36899.91         563047.94",
            "131072              39465.05         301094.42",
            "262144              37677.36         143727.71",
            "524288              37320.52          71183.24",
            "1048576             39064.76          37255.05",
            "2097152             38904.57          18551.14",
            "4194304             39004.22           9299.33",
            "real\t1m0.617s",
            "user\t0m8.389s",
            "sys\t0m48.361s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      34.91",
            "1                      36.51",
            "2                      38.81",
            "4                      38.08",
            "8                      37.11",
            "16                     36.37",
            "32                     36.41",
            "64                     62.04",
            "128                    61.41",
            "256                    60.79",
            "512                    62.35",
            "1024                   60.61",
            "2048                   67.84",
            "4096                   70.95",
            "8192                   75.74",
            "16384                  85.31",
            "32768                 110.02",
            "65536                 265.53",
            "131072                309.23",
            "262144                405.10",
            "524288                585.65",
            "1048576              1015.42",
            "2097152              2008.82",
            "4194304              3919.43",
            "real\t0m47.559s",
            "user\t0m7.019s",
            "sys\t0m38.761s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     816.88",
            "2                     774.55",
            "4                     953.56",
            "8                     587.92",
            "16                   1005.70",
            "32                    777.33",
            "64                   1010.18",
            "128                   930.33",
            "256                   772.96",
            "512                   840.17",
            "1024                 4210.12",
            "2048                 3916.00",
            "4096                 4386.54",
            "8192                 5350.09",
            "16384                6254.81",
            "32768               18048.13",
            "65536               24150.80",
            "131072              31420.12",
            "262144              45620.80",
            "524288              78523.83",
            "1048576            143536.56",
            "real\t1m36.888s",
            "user\t0m12.375s",
            "sys\t1m21.281s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     833.74",
            "8                     633.91",
            "16                    890.24",
            "32                    730.02",
            "64                    986.50",
            "128                   722.07",
            "256                   838.21",
            "512                   990.29",
            "1024                  922.62",
            "2048                 1016.83",
            "4096                  858.88",
            "8192                  945.60",
            "16384               13253.60",
            "32768               12848.08",
            "65536               12474.17",
            "131072              14035.20",
            "262144              14109.14",
            "524288              17489.84",
            "1048576             27150.98",
            "real\t1m13.001s",
            "user\t0m11.068s",
            "sys\t0m59.899s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}