{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 32 nodes) is 32",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 32 ip addresses",
            "Hostlist",
            "10.12.122.43",
            "10.12.88.48",
            "10.12.41.48",
            "10.12.112.41",
            "10.12.69.44",
            "10.12.97.47",
            "10.12.129.44",
            "10.12.13.46",
            "10.12.61.42",
            "10.12.73.47",
            "10.12.18.45",
            "10.12.90.39",
            "10.12.53.42",
            "10.12.111.42",
            "10.12.123.38",
            "10.12.10.43",
            "10.12.116.46",
            "10.12.4.41",
            "10.12.32.45",
            "10.12.100.42",
            "10.12.115.50",
            "10.12.38.39",
            "10.12.25.39",
            "10.12.68.47",
            "10.12.114.44",
            "10.12.20.40",
            "10.12.76.39",
            "10.12.7.41",
            "10.12.54.45",
            "10.12.113.40",
            "10.12.34.47",
            "10.12.51.37",
            "Hostlist for Pair to Pair",
            "10.12.122.43",
            "10.12.88.48",
            "METADATA START {\"pods\":32,\"completions\":32,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "            786.37            316.24            305.19              0.00",
            "real\t0m3.604s",
            "user\t0m1.189s",
            "sys\t0m1.962s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 16 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       2.63        2631314.27",
            "2                       5.28        2642370.35",
            "4                      10.34        2585890.26",
            "8                      21.39        2674251.86",
            "16                     42.21        2638218.16",
            "32                     56.87        1777089.99",
            "64                    155.27        2426123.70",
            "128                   318.53        2488517.52",
            "256                   624.13        2438022.45",
            "512                  1206.47        2356387.56",
            "1024                 2523.60        2464457.18",
            "2048                 4826.88        2356876.87",
            "4096                 9206.64        2247715.75",
            "8192                11958.71        1459803.61",
            "16384               16776.29        1023943.36",
            "32768               19387.37         591655.55",
            "65536               19501.45         297568.49",
            "131072              19019.95         145110.69",
            "262144              19542.02          74546.87",
            "524288              18513.92          35312.49",
            "1048576             19515.48          18611.41",
            "2097152             19513.62           9304.82",
            "4194304             19509.41           4651.40",
            "real\t0m55.245s",
            "user\t0m7.210s",
            "sys\t0m45.386s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      34.44",
            "1                      33.46",
            "2                      34.12",
            "4                      33.33",
            "8                      33.43",
            "16                     33.46",
            "32                     35.74",
            "64                     57.04",
            "128                    55.54",
            "256                    55.90",
            "512                    58.30",
            "1024                   57.26",
            "2048                   63.79",
            "4096                   67.31",
            "8192                   71.39",
            "16384                  97.75",
            "32768                 102.49",
            "65536                 244.96",
            "131072                306.21",
            "262144                379.88",
            "524288                514.17",
            "1048576               913.03",
            "2097152              1743.64",
            "4194304              3344.89",
            "real\t0m47.224s",
            "user\t0m6.685s",
            "sys\t0m38.768s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     399.79",
            "2                     457.96",
            "4                     486.28",
            "8                     475.89",
            "16                    405.16",
            "32                    462.87",
            "64                    584.96",
            "128                   491.26",
            "256                   466.04",
            "512                   586.81",
            "1024                  523.15",
            "2048                 1752.94",
            "4096                 1703.65",
            "8192                 1863.58",
            "16384                2548.25",
            "32768                7376.59",
            "65536               10486.23",
            "131072              14699.76",
            "262144              19168.26",
            "524288              35491.68",
            "1048576             66979.64",
            "real\t0m43.108s",
            "user\t0m6.007s",
            "sys\t0m35.470s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     364.35",
            "8                     368.91",
            "16                    396.17",
            "32                    419.51",
            "64                    492.50",
            "128                   443.47",
            "256                   414.35",
            "512                   472.49",
            "1024                  471.20",
            "2048                  564.96",
            "4096                  579.30",
            "8192                  501.58",
            "16384                5258.04",
            "32768                5643.92",
            "65536                6815.02",
            "131072               6278.17",
            "262144               6447.95",
            "524288              10034.12",
            "1048576             15481.02",
            "real\t0m34.834s",
            "user\t0m5.702s",
            "sys\t0m27.960s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 32,
            "completions": 32,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 32,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 32,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}