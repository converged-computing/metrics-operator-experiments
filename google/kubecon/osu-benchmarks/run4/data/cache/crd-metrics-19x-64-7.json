{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.53.48",
            "10.12.91.46",
            "10.12.88.56",
            "10.12.128.46",
            "10.12.74.43",
            "10.12.112.49",
            "10.12.0.47",
            "10.12.83.52",
            "10.12.8.49",
            "10.12.116.54",
            "10.12.119.60",
            "10.12.5.58",
            "10.12.67.51",
            "10.12.115.62",
            "10.12.11.49",
            "10.12.28.51",
            "10.12.30.53",
            "10.12.105.53",
            "10.12.80.54",
            "10.12.96.52",
            "10.12.122.54",
            "10.12.7.45",
            "10.12.87.51",
            "10.12.2.48",
            "10.12.104.48",
            "10.12.13.54",
            "10.12.3.52",
            "10.12.64.52",
            "10.12.29.44",
            "10.12.38.48",
            "10.12.31.51",
            "10.12.10.52",
            "10.12.86.51",
            "10.12.54.54",
            "10.12.68.55",
            "10.12.63.45",
            "10.12.4.51",
            "10.12.113.49",
            "10.12.48.50",
            "10.12.58.55",
            "10.12.62.51",
            "10.12.126.51",
            "10.12.61.53",
            "10.12.106.48",
            "10.12.69.54",
            "10.12.101.47",
            "10.12.59.50",
            "10.12.75.48",
            "10.12.46.51",
            "10.12.24.49",
            "10.12.73.56",
            "10.12.1.43",
            "10.12.120.57",
            "10.12.123.50",
            "10.12.65.41",
            "10.12.47.42",
            "10.12.52.48",
            "10.12.95.45",
            "10.12.110.56",
            "10.12.103.48",
            "10.12.124.40",
            "10.12.14.47",
            "10.12.17.53",
            "10.12.39.48",
            "Hostlist for Pair to Pair",
            "10.12.53.48",
            "10.12.91.46",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1918.38            958.38            928.64              0.00",
            "real\t0m6.922s",
            "user\t0m2.471s",
            "sys\t0m3.944s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.70        4702376.75",
            "2                       8.52        4258154.62",
            "4                      19.43        4858066.99",
            "8                      37.45        4681386.18",
            "16                     67.35        4209584.18",
            "32                    149.57        4674183.83",
            "64                    282.17        4408828.33",
            "128                   560.60        4379683.11",
            "256                  1138.21        4446119.65",
            "512                  2351.01        4591823.96",
            "1024                 4579.02        4471699.39",
            "2048                 6761.42        3301476.72",
            "4096                16833.14        4109652.18",
            "8192                22061.50        2693054.11",
            "16384               29162.98        1779967.34",
            "32768               36523.06        1114595.41",
            "65536               36657.45         559348.25",
            "131072              37432.93         285590.62",
            "262144              36158.60         137934.13",
            "524288              38749.95          73909.67",
            "1048576             38190.10          36420.91",
            "2097152             38471.18          18344.49",
            "4194304             37638.36           8973.69",
            "real\t0m59.637s",
            "user\t0m8.356s",
            "sys\t0m48.447s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      38.44",
            "1                      37.48",
            "2                      35.65",
            "4                      38.03",
            "8                      36.40",
            "16                     36.99",
            "32                     38.63",
            "64                     58.98",
            "128                    59.24",
            "256                    60.65",
            "512                    59.29",
            "1024                   62.78",
            "2048                   67.40",
            "4096                   69.53",
            "8192                   76.48",
            "16384                  87.48",
            "32768                 114.76",
            "65536                 273.89",
            "131072                339.21",
            "262144                428.18",
            "524288                738.61",
            "1048576              1238.68",
            "2097152              2466.79",
            "4194304              4605.77",
            "real\t0m47.945s",
            "user\t0m7.161s",
            "sys\t0m39.016s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     846.69",
            "2                     981.82",
            "4                     757.99",
            "8                     806.30",
            "16                    801.27",
            "32                   1022.46",
            "64                   1022.50",
            "128                   808.58",
            "256                   764.49",
            "512                   784.40",
            "1024                 4560.05",
            "2048                 4900.84",
            "4096                 4752.43",
            "8192                 5077.24",
            "16384                6357.07",
            "32768               20475.94",
            "65536               23383.58",
            "131072              30761.09",
            "262144              46735.67",
            "524288              79577.13",
            "1048576            150295.77",
            "real\t1m41.061s",
            "user\t0m13.010s",
            "sys\t1m24.803s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     769.51",
            "8                     723.82",
            "16                    680.64",
            "32                    700.87",
            "64                    690.00",
            "128                  1085.54",
            "256                   937.07",
            "512                   736.68",
            "1024                 1039.79",
            "2048                  817.38",
            "4096                 1079.78",
            "8192                 1169.68",
            "16384               13352.50",
            "32768               13326.68",
            "65536               13117.69",
            "131072              14730.72",
            "262144              15578.04",
            "524288              16206.43",
            "1048576             22756.43",
            "real\t1m14.282s",
            "user\t0m12.181s",
            "sys\t0m59.637s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}