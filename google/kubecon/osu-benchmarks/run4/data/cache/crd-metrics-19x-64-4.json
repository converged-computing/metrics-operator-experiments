{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.32.50",
            "10.12.5.55",
            "10.12.96.51",
            "10.12.104.46",
            "10.12.3.50",
            "10.12.81.49",
            "10.12.33.47",
            "10.12.102.49",
            "10.12.105.52",
            "10.12.120.55",
            "10.12.112.47",
            "10.12.76.47",
            "10.12.122.53",
            "10.12.59.48",
            "10.12.128.44",
            "10.12.100.47",
            "10.12.63.44",
            "10.12.10.50",
            "10.12.43.51",
            "10.12.49.47",
            "10.12.70.54",
            "10.12.85.44",
            "10.12.61.50",
            "10.12.4.49",
            "10.12.19.57",
            "10.12.110.53",
            "10.12.69.52",
            "10.12.55.39",
            "10.12.119.58",
            "10.12.98.49",
            "10.12.25.45",
            "10.12.125.47",
            "10.12.9.50",
            "10.12.46.49",
            "10.12.42.45",
            "10.12.78.53",
            "10.12.12.47",
            "10.12.16.51",
            "10.12.30.52",
            "10.12.44.48",
            "10.12.88.53",
            "10.12.93.49",
            "10.12.68.53",
            "10.12.13.52",
            "10.12.95.43",
            "10.12.71.54",
            "10.12.17.52",
            "10.12.121.56",
            "10.12.34.54",
            "10.12.116.53",
            "10.12.114.54",
            "10.12.97.58",
            "10.12.35.44",
            "10.12.92.49",
            "10.12.57.52",
            "10.12.64.49",
            "10.12.126.50",
            "10.12.127.46",
            "10.12.60.48",
            "10.12.51.45",
            "10.12.80.52",
            "10.12.74.42",
            "10.12.37.50",
            "10.12.0.46",
            "Hostlist for Pair to Pair",
            "10.12.32.50",
            "10.12.5.55",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1019.67            475.71            462.43              0.00",
            "real\t0m6.750s",
            "user\t0m2.405s",
            "sys\t0m3.825s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.31        5311930.13",
            "2                      10.80        5399063.42",
            "4                      21.84        5458905.65",
            "8                      43.52        5439449.77",
            "16                     80.76        5047758.13",
            "32                    171.69        5365341.65",
            "64                    333.17        5205780.86",
            "128                   634.95        4960561.96",
            "256                  1062.99        4152323.44",
            "512                  2468.18        4820660.37",
            "1024                 5089.26        4969984.14",
            "2048                10026.40        4895704.40",
            "4096                18219.91        4448221.19",
            "8192                26561.07        3242317.82",
            "16384               34682.02        2116822.76",
            "32768               37111.22        1132544.45",
            "65536               39590.89         604109.07",
            "131072              39458.29         301042.84",
            "262144              39491.74         150649.04",
            "524288              37216.49          70984.82",
            "1048576             39443.15          37615.92",
            "2097152             39284.62          18732.37",
            "4194304             39337.52           9378.80",
            "real\t1m3.092s",
            "user\t0m8.108s",
            "sys\t0m49.440s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      28.19",
            "1                      27.61",
            "2                      27.49",
            "4                      29.38",
            "8                      28.40",
            "16                     28.65",
            "32                     29.87",
            "64                     51.71",
            "128                    50.67",
            "256                    51.53",
            "512                    51.62",
            "1024                   55.56",
            "2048                   56.36",
            "4096                   58.94",
            "8192                   61.36",
            "16384                  70.52",
            "32768                  89.93",
            "65536                 214.12",
            "131072                267.05",
            "262144                352.87",
            "524288                532.65",
            "1048576               934.67",
            "2097152              1688.79",
            "4194304              3243.51",
            "real\t0m47.143s",
            "user\t0m6.892s",
            "sys\t0m38.541s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     779.68",
            "2                     691.52",
            "4                    1097.48",
            "8                    1027.05",
            "16                    805.73",
            "32                    741.11",
            "64                    884.78",
            "128                  1218.77",
            "256                   928.07",
            "512                   899.44",
            "1024                 4160.82",
            "2048                 4260.67",
            "4096                 4810.12",
            "8192                 5511.16",
            "16384                6796.98",
            "32768               17032.17",
            "65536               23928.73",
            "131072              31255.29",
            "262144              45189.64",
            "524288              79893.79",
            "1048576            143773.25",
            "real\t1m39.193s",
            "user\t0m13.053s",
            "sys\t1m22.997s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     630.04",
            "8                     674.99",
            "16                    664.04",
            "32                   1005.34",
            "64                    836.71",
            "128                   876.16",
            "256                   760.78",
            "512                   851.68",
            "1024                  869.51",
            "2048                  947.18",
            "4096                  945.32",
            "8192                  827.94",
            "16384               13608.47",
            "32768               13271.92",
            "65536               13595.10",
            "131072              14461.54",
            "262144              14158.30",
            "524288              16513.10",
            "1048576             27335.10",
            "real\t1m13.138s",
            "user\t0m11.197s",
            "sys\t0m59.961s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}