{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.125.66",
            "10.12.83.61",
            "10.12.80.66",
            "10.12.89.56",
            "10.12.121.70",
            "10.12.40.53",
            "10.12.86.69",
            "10.12.118.66",
            "10.12.45.77",
            "10.12.75.64",
            "10.12.129.71",
            "10.12.62.70",
            "10.12.114.70",
            "10.12.106.67",
            "10.12.99.65",
            "10.12.102.65",
            "10.12.73.73",
            "10.12.34.72",
            "10.12.112.65",
            "10.12.57.72",
            "10.12.35.59",
            "10.12.2.66",
            "10.12.71.68",
            "10.12.88.71",
            "10.12.107.60",
            "10.12.54.68",
            "10.12.122.71",
            "10.12.47.64",
            "10.12.6.58",
            "10.12.103.69",
            "10.12.14.66",
            "10.12.104.68",
            "10.12.52.62",
            "10.12.18.70",
            "10.12.85.62",
            "10.12.43.65",
            "10.12.119.79",
            "10.12.49.60",
            "10.12.10.71",
            "10.12.67.69",
            "10.12.24.66",
            "10.12.61.69",
            "10.12.66.67",
            "10.12.116.70",
            "10.12.59.64",
            "10.12.39.65",
            "10.12.3.64",
            "10.12.58.73",
            "10.12.100.68",
            "10.12.127.64",
            "10.12.0.65",
            "10.12.74.65",
            "10.12.17.70",
            "10.12.111.68",
            "10.12.93.69",
            "10.12.46.67",
            "10.12.123.64",
            "10.12.28.64",
            "10.12.128.65",
            "10.12.13.69",
            "10.12.50.65",
            "10.12.126.69",
            "10.12.108.65",
            "10.12.94.68",
            "10.12.105.69",
            "10.12.120.76",
            "10.12.1.67",
            "10.12.53.63",
            "10.12.30.70",
            "10.12.95.57",
            "10.12.20.69",
            "10.12.65.58",
            "10.12.110.68",
            "10.12.12.62",
            "10.12.29.64",
            "10.12.64.69",
            "10.12.98.66",
            "10.12.124.60",
            "10.12.37.72",
            "10.12.91.64",
            "10.12.68.77",
            "10.12.44.65",
            "10.12.38.63",
            "10.12.82.31",
            "10.12.84.30",
            "10.12.15.31",
            "10.12.56.30",
            "10.12.26.31",
            "10.12.72.29",
            "10.12.33.64",
            "10.12.117.30",
            "10.12.109.29",
            "10.12.4.65",
            "10.12.51.60",
            "10.12.90.64",
            "10.12.32.66",
            "10.12.25.63",
            "10.12.8.65",
            "10.12.113.68",
            "10.12.55.56",
            "10.12.16.68",
            "10.12.22.59",
            "10.12.36.71",
            "10.12.21.70",
            "10.12.78.72",
            "10.12.63.57",
            "10.12.115.83",
            "10.12.77.60",
            "10.12.70.70",
            "10.12.101.60",
            "10.12.42.62",
            "10.12.96.70",
            "10.12.5.73",
            "10.12.60.67",
            "10.12.23.59",
            "10.12.41.73",
            "10.12.81.67",
            "10.12.76.66",
            "10.12.19.72",
            "10.12.92.67",
            "10.12.9.66",
            "10.12.31.68",
            "10.12.11.66",
            "10.12.7.66",
            "10.12.87.69",
            "10.12.97.75",
            "10.12.48.65",
            "10.12.69.71",
            "Hostlist for Pair to Pair",
            "10.12.125.66",
            "10.12.83.61",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1771.15",
            "real\t0m8.847s",
            "user\t0m2.677s",
            "sys\t0m5.473s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           4738.35           1142.20           1092.19              0.00",
            "real\t0m7.776s",
            "user\t0m2.576s",
            "sys\t0m4.566s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.55        9550469.25",
            "2                      18.86        9430436.41",
            "4                      36.84        9209857.21",
            "8                      57.27        7158760.49",
            "16                    127.42        7963813.49",
            "32                    302.91        9466056.85",
            "64                    572.74        8949125.16",
            "128                  1114.51        8707096.87",
            "256                  2160.57        8439740.13",
            "512                  4315.97        8429638.59",
            "1024                 8480.39        8281628.42",
            "2048                15167.00        7405760.08",
            "4096                32265.10        7877220.74",
            "8192                51624.98        6301877.11",
            "16384               63515.24        3876662.47",
            "32768               67540.78        2061181.03",
            "65536               71001.95        1083403.80",
            "131072              77092.05         588165.63",
            "262144              78920.29         301057.02",
            "524288              75550.94         144101.99",
            "1048576             78728.74          75081.58",
            "2097152             78409.72          37388.67",
            "4194304             78444.12          18702.53",
            "real\t1m8.918s",
            "user\t0m8.692s",
            "sys\t0m52.093s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.99",
            "1                      34.90",
            "2                      36.09",
            "4                      38.63",
            "8                      36.36",
            "16                     35.66",
            "32                     36.94",
            "64                     61.73",
            "128                    58.92",
            "256                    60.45",
            "512                    59.56",
            "1024                   59.98",
            "2048                   69.29",
            "4096                   70.08",
            "8192                   77.23",
            "16384                  85.22",
            "32768                 113.03",
            "65536                 268.92",
            "131072                322.84",
            "262144                409.52",
            "524288                606.77",
            "1048576              1041.03",
            "2097152              2107.75",
            "4194304              4035.35",
            "real\t0m50.170s",
            "user\t0m6.743s",
            "sys\t0m41.436s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1687.38",
            "2                    1589.34",
            "4                    1991.83",
            "8                    1738.61",
            "16                   2023.90",
            "32                   1872.98",
            "64                   2056.00",
            "128                  1794.60",
            "256                  1867.57",
            "512                 11121.30",
            "1024                11880.81",
            "2048                12316.66",
            "4096                12907.10",
            "8192                15206.93",
            "16384               20647.78",
            "32768               46349.02",
            "65536               57703.66",
            "131072              73851.59",
            "262144             109929.03",
            "524288             179113.06",
            "1048576            325120.96",
            "real\t4m6.935s",
            "user\t0m27.890s",
            "sys\t3m31.538s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1730.60",
            "8                    1627.47",
            "16                   1784.25",
            "32                   1457.77",
            "64                   1710.52",
            "128                  1982.69",
            "256                  1745.55",
            "512                  2062.55",
            "1024                 1821.28",
            "2048                 1951.10",
            "4096                 2274.28",
            "8192                 1960.76",
            "16384               29962.56",
            "32768               30579.11",
            "65536               31955.54",
            "131072              29929.20",
            "262144              30983.06",
            "524288              35698.63",
            "1048576             38207.78",
            "real\t2m34.479s",
            "user\t0m21.031s",
            "sys\t2m9.512s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}