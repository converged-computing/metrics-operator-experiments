{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.115.94",
            "10.12.112.76",
            "10.12.31.79",
            "10.12.68.88",
            "10.12.37.83",
            "10.12.53.74",
            "10.12.110.79",
            "10.12.57.83",
            "10.12.96.81",
            "10.12.29.75",
            "10.12.99.76",
            "10.12.105.80",
            "10.12.129.82",
            "10.12.67.80",
            "10.12.33.75",
            "10.12.64.80",
            "10.12.128.76",
            "10.12.24.77",
            "10.12.107.71",
            "10.12.13.80",
            "10.12.104.79",
            "10.12.122.82",
            "10.12.3.75",
            "10.12.19.83",
            "10.12.40.64",
            "10.12.126.80",
            "10.12.1.78",
            "10.12.89.67",
            "10.12.55.67",
            "10.12.95.68",
            "10.12.9.77",
            "10.12.102.76",
            "10.12.54.79",
            "10.12.10.82",
            "10.12.32.77",
            "10.12.7.77",
            "10.12.22.70",
            "10.12.51.71",
            "10.12.34.83",
            "10.12.59.75",
            "10.12.5.84",
            "10.12.39.76",
            "10.12.108.76",
            "10.12.92.78",
            "10.12.38.74",
            "10.12.2.77",
            "10.12.101.71",
            "10.12.4.76",
            "10.12.23.70",
            "10.12.77.71",
            "10.12.81.78",
            "10.12.91.75",
            "10.12.100.79",
            "10.12.16.79",
            "10.12.62.81",
            "10.12.8.76",
            "10.12.44.76",
            "10.12.124.71",
            "10.12.18.81",
            "10.12.47.75",
            "10.12.74.76",
            "10.12.66.78",
            "10.12.43.76",
            "10.12.93.80",
            "10.12.80.77",
            "10.12.118.77",
            "10.12.42.73",
            "10.12.41.84",
            "10.12.84.40",
            "10.12.49.71",
            "10.12.45.88",
            "10.12.70.81",
            "10.12.97.86",
            "10.12.106.78",
            "10.12.28.75",
            "10.12.121.81",
            "10.12.69.82",
            "10.12.83.72",
            "10.12.58.84",
            "10.12.73.84",
            "10.12.78.83",
            "10.12.36.82",
            "10.12.103.80",
            "10.12.125.77",
            "10.12.88.82",
            "10.12.120.87",
            "10.12.113.79",
            "10.12.114.81",
            "10.12.50.76",
            "10.12.21.81",
            "10.12.0.76",
            "10.12.65.69",
            "10.12.20.80",
            "10.12.82.42",
            "10.12.109.39",
            "10.12.86.80",
            "10.12.56.41",
            "10.12.72.39",
            "10.12.71.79",
            "10.12.119.90",
            "10.12.75.75",
            "10.12.111.79",
            "10.12.11.77",
            "10.12.123.75",
            "10.12.25.74",
            "10.12.116.81",
            "10.12.15.42",
            "10.12.63.68",
            "10.12.12.73",
            "10.12.46.78",
            "10.12.60.78",
            "10.12.17.81",
            "10.12.30.81",
            "10.12.85.73",
            "10.12.52.73",
            "10.12.61.80",
            "10.12.87.80",
            "10.12.98.77",
            "10.12.117.41",
            "10.12.94.79",
            "10.12.14.77",
            "10.12.35.70",
            "10.12.127.75",
            "10.12.76.77",
            "10.12.90.75",
            "10.12.48.76",
            "10.12.26.42",
            "10.12.6.69",
            "Hostlist for Pair to Pair",
            "10.12.115.94",
            "10.12.112.76",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1354.15",
            "real\t0m8.817s",
            "user\t0m3.131s",
            "sys\t0m5.025s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3102.17           1417.32           1378.16              0.00",
            "real\t0m7.996s",
            "user\t0m3.051s",
            "sys\t0m4.271s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.56        9557829.74",
            "2                      19.31        9653695.82",
            "4                      38.06        9514212.13",
            "8                      76.34        9542200.80",
            "16                    148.05        9252826.16",
            "32                    302.54        9454351.21",
            "64                    599.89        9373255.96",
            "128                  1169.61        9137589.77",
            "256                  1825.12        7129362.15",
            "512                  4554.47        8895448.51",
            "1024                 9191.19        8975768.01",
            "2048                17865.76        8723515.42",
            "4096                34647.58        8458881.08",
            "8192                42567.66        5196248.12",
            "16384               63734.77        3890061.69",
            "32768               71336.95        2177031.04",
            "65536               75813.84        1156827.34",
            "131072              77998.11         595078.33",
            "262144              77250.20         294686.14",
            "524288              75281.02         143587.16",
            "1048576             77953.60          74342.35",
            "2097152             77987.63          37187.40",
            "4194304             77943.19          18583.10",
            "real\t1m9.028s",
            "user\t0m8.867s",
            "sys\t0m51.340s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.16",
            "1                      35.98",
            "2                      34.85",
            "4                      34.56",
            "8                      36.76",
            "16                     35.54",
            "32                     35.61",
            "64                     59.15",
            "128                    59.28",
            "256                    59.65",
            "512                    59.46",
            "1024                   59.21",
            "2048                   68.13",
            "4096                   69.83",
            "8192                   74.23",
            "16384                  83.88",
            "32768                 110.60",
            "65536                 262.11",
            "131072                319.25",
            "262144                434.27",
            "524288                601.56",
            "1048576              1049.91",
            "2097152              2035.96",
            "4194304              3870.38",
            "real\t0m47.319s",
            "user\t0m7.120s",
            "sys\t0m38.282s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1828.50",
            "2                    1809.70",
            "4                    1714.22",
            "8                    2122.65",
            "16                   1767.35",
            "32                   1820.42",
            "64                   1848.98",
            "128                  2414.11",
            "256                  1987.44",
            "512                 10817.19",
            "1024                12371.67",
            "2048                11962.82",
            "4096                12445.18",
            "8192                15238.12",
            "16384               18401.37",
            "32768               46902.26",
            "65536               59574.55",
            "131072              75637.05",
            "262144             104310.58",
            "524288             178671.08",
            "1048576            317072.07",
            "real\t4m6.245s",
            "user\t0m31.181s",
            "sys\t3m27.669s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1482.39",
            "8                    1930.32",
            "16                   1603.90",
            "32                   1539.67",
            "64                   1852.67",
            "128                  1731.91",
            "256                  2131.15",
            "512                  1993.26",
            "1024                 1883.97",
            "2048                 2033.98",
            "4096                 1815.80",
            "8192                 2093.02",
            "16384               30320.82",
            "32768               30183.24",
            "65536               32753.51",
            "131072              30189.69",
            "262144              33686.36",
            "524288              34622.20",
            "1048576             42404.79",
            "real\t2m35.675s",
            "user\t0m22.539s",
            "sys\t2m9.257s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}