{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 32 nodes) is 32",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 32 ip addresses",
            "Hostlist",
            "10.12.93.45",
            "10.12.122.48",
            "10.12.120.51",
            "10.12.118.44",
            "10.12.114.48",
            "10.12.105.48",
            "10.12.47.40",
            "10.12.101.43",
            "10.12.6.39",
            "10.12.60.44",
            "10.12.103.43",
            "10.12.77.44",
            "10.12.43.45",
            "10.12.112.45",
            "10.12.71.48",
            "10.12.121.52",
            "10.12.67.45",
            "10.12.61.44",
            "10.12.50.47",
            "10.12.54.48",
            "10.12.96.48",
            "10.12.129.49",
            "10.12.75.44",
            "10.12.74.38",
            "10.12.40.38",
            "10.12.17.47",
            "10.12.51.42",
            "10.12.63.40",
            "10.12.115.57",
            "10.12.10.46",
            "10.12.49.45",
            "10.12.99.48",
            "Hostlist for Pair to Pair",
            "10.12.93.45",
            "10.12.122.48",
            "METADATA START {\"pods\":32,\"completions\":32,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1116.19            302.03            283.91              0.00",
            "real\t0m3.613s",
            "user\t0m1.260s",
            "sys\t0m1.884s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 16 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       2.59        2589481.96",
            "2                       5.19        2596894.01",
            "4                       9.76        2440274.46",
            "8                      21.30        2663028.37",
            "16                     41.81        2613189.51",
            "32                     79.30        2478002.34",
            "64                    135.23        2112915.53",
            "128                   323.87        2530257.58",
            "256                   585.81        2288329.16",
            "512                  1129.24        2205553.35",
            "1024                 2312.44        2258237.58",
            "2048                 4944.29        2414204.73",
            "4096                 8902.76        2173524.56",
            "8192                13552.26        1654328.51",
            "16384               15806.67         964762.44",
            "32768               16320.68         498067.53",
            "65536               17105.80         261013.74",
            "131072              16990.72         129628.88",
            "262144              19501.14          74390.94",
            "524288              19270.28          36755.15",
            "1048576             19465.50          18563.75",
            "2097152             19515.58           9305.75",
            "4194304             19522.90           4654.62",
            "real\t0m56.720s",
            "user\t0m7.420s",
            "sys\t0m45.025s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      38.22",
            "1                      37.01",
            "2                      36.78",
            "4                      36.58",
            "8                      37.69",
            "16                     35.17",
            "32                     35.43",
            "64                     57.75",
            "128                    58.00",
            "256                    58.52",
            "512                    59.91",
            "1024                   62.70",
            "2048                   66.31",
            "4096                   66.57",
            "8192                   70.37",
            "16384                  79.15",
            "32768                 111.20",
            "65536                 265.79",
            "131072                307.81",
            "262144                400.94",
            "524288                562.14",
            "1048576               934.02",
            "2097152              1766.09",
            "4194304              3315.29",
            "real\t0m44.531s",
            "user\t0m6.351s",
            "sys\t0m36.058s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     483.98",
            "2                     362.13",
            "4                     377.28",
            "8                     458.57",
            "16                    446.40",
            "32                    436.54",
            "64                    560.18",
            "128                   536.85",
            "256                   477.44",
            "512                   543.67",
            "1024                  604.37",
            "2048                 1611.76",
            "4096                 1872.77",
            "8192                 2112.35",
            "16384                3180.00",
            "32768                8016.56",
            "65536                9431.94",
            "131072              14408.86",
            "262144              20158.87",
            "524288              38232.49",
            "1048576             68932.64",
            "real\t0m44.257s",
            "user\t0m6.008s",
            "sys\t0m36.078s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 32 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     368.39",
            "8                     337.73",
            "16                    519.23",
            "32                    473.75",
            "64                    470.76",
            "128                   507.34",
            "256                   584.19",
            "512                   496.28",
            "1024                  488.93",
            "2048                  621.05",
            "4096                  492.95",
            "8192                  620.10",
            "16384                5670.52",
            "32768                5806.48",
            "65536                5390.51",
            "131072               5609.89",
            "262144               7850.46",
            "524288               8520.72",
            "1048576             15537.00",
            "real\t0m36.421s",
            "user\t0m5.834s",
            "sys\t0m29.062s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 32,
            "completions": 32,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 32,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 32,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}