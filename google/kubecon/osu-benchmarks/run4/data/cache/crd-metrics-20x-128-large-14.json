{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.4.74",
            "10.12.43.74",
            "10.12.66.76",
            "10.12.5.82",
            "10.12.44.74",
            "10.12.23.68",
            "10.12.13.78",
            "10.12.94.77",
            "10.12.105.78",
            "10.12.14.75",
            "10.12.91.73",
            "10.12.34.81",
            "10.12.6.67",
            "10.12.88.80",
            "10.12.30.79",
            "10.12.95.66",
            "10.12.48.74",
            "10.12.35.68",
            "10.12.58.82",
            "10.12.65.67",
            "10.12.52.71",
            "10.12.122.80",
            "10.12.60.76",
            "10.12.127.73",
            "10.12.80.75",
            "10.12.120.85",
            "10.12.20.78",
            "10.12.22.68",
            "10.12.45.86",
            "10.12.118.75",
            "10.12.87.78",
            "10.12.125.75",
            "10.12.112.74",
            "10.12.123.73",
            "10.12.103.78",
            "10.12.73.82",
            "10.12.93.78",
            "10.12.104.77",
            "10.12.106.76",
            "10.12.68.86",
            "10.12.69.80",
            "10.12.126.78",
            "10.12.100.77",
            "10.12.39.74",
            "10.12.51.69",
            "10.12.33.73",
            "10.12.129.80",
            "10.12.29.73",
            "10.12.2.75",
            "10.12.78.81",
            "10.12.47.73",
            "10.12.108.74",
            "10.12.18.79",
            "10.12.7.75",
            "10.12.53.72",
            "10.12.96.79",
            "10.12.121.79",
            "10.12.119.88",
            "10.12.19.81",
            "10.12.24.75",
            "10.12.63.66",
            "10.12.115.92",
            "10.12.110.77",
            "10.12.40.62",
            "10.12.28.73",
            "10.12.49.69",
            "10.12.64.78",
            "10.12.41.82",
            "10.12.61.78",
            "10.12.70.79",
            "10.12.111.77",
            "10.12.77.69",
            "10.12.25.72",
            "10.12.15.40",
            "10.12.114.79",
            "10.12.32.75",
            "10.12.11.75",
            "10.12.17.79",
            "10.12.124.69",
            "10.12.72.37",
            "10.12.82.40",
            "10.12.56.39",
            "10.12.71.77",
            "10.12.57.81",
            "10.12.83.70",
            "10.12.54.77",
            "10.12.50.74",
            "10.12.26.40",
            "10.12.37.81",
            "10.12.10.80",
            "10.12.8.74",
            "10.12.99.74",
            "10.12.97.84",
            "10.12.31.77",
            "10.12.107.69",
            "10.12.46.76",
            "10.12.12.71",
            "10.12.59.73",
            "10.12.67.78",
            "10.12.128.74",
            "10.12.113.77",
            "10.12.55.65",
            "10.12.9.75",
            "10.12.81.76",
            "10.12.42.71",
            "10.12.98.75",
            "10.12.3.73",
            "10.12.90.73",
            "10.12.74.74",
            "10.12.85.71",
            "10.12.1.76",
            "10.12.0.74",
            "10.12.76.75",
            "10.12.62.79",
            "10.12.16.77",
            "10.12.75.73",
            "10.12.79.10",
            "10.12.86.78",
            "10.12.116.79",
            "10.12.36.80",
            "10.12.101.69",
            "10.12.102.74",
            "10.12.89.65",
            "10.12.21.79",
            "10.12.38.72",
            "10.12.84.39",
            "10.12.117.39",
            "10.12.92.76",
            "Hostlist for Pair to Pair",
            "10.12.4.74",
            "10.12.43.74",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1451.31",
            "real\t0m8.513s",
            "user\t0m2.621s",
            "sys\t0m5.160s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           5444.68           3092.30           3021.41             22.14",
            "real\t0m8.034s",
            "user\t0m2.868s",
            "sys\t0m4.508s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       7.84        7840218.34",
            "2                      17.14        8571287.17",
            "4                      34.22        8554202.74",
            "8                      68.57        8571554.25",
            "16                    127.30        7956177.47",
            "32                    271.34        8479405.90",
            "64                    518.12        8095550.26",
            "128                  1018.21        7954739.24",
            "256                  1593.01        6222699.73",
            "512                  3894.62        7606671.64",
            "1024                 7848.26        7664315.12",
            "2048                13585.79        6633685.46",
            "4096                29457.04        7191660.46",
            "8192                43625.37        5325362.35",
            "16384               71625.08        4371648.15",
            "32768               68814.06        2100038.36",
            "65536               78327.47        1195182.35",
            "131072              78582.73         599538.62",
            "262144              77913.03         297214.62",
            "524288              74470.91         142041.98",
            "1048576             78499.66          74863.11",
            "2097152             78621.27          37489.54",
            "4194304             78697.64          18762.98",
            "real\t1m14.542s",
            "user\t0m8.092s",
            "sys\t0m54.415s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      40.74",
            "1                      40.87",
            "2                      40.28",
            "4                      40.68",
            "8                      41.45",
            "16                     41.75",
            "32                     41.86",
            "64                     69.68",
            "128                    71.75",
            "256                    70.37",
            "512                    70.63",
            "1024                   72.40",
            "2048                   80.74",
            "4096                   81.17",
            "8192                   86.98",
            "16384                  94.39",
            "32768                 119.99",
            "65536                 281.47",
            "131072                327.84",
            "262144                471.12",
            "524288                635.74",
            "1048576              1159.83",
            "2097152              2210.63",
            "4194304              4119.23",
            "real\t0m49.081s",
            "user\t0m6.880s",
            "sys\t0m40.193s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1648.42",
            "2                    1805.42",
            "4                    1699.02",
            "8                    1981.95",
            "16                   1663.10",
            "32                   1694.30",
            "64                   1972.72",
            "128                  1837.28",
            "256                  2019.88",
            "512                 11024.34",
            "1024                11894.51",
            "2048                12086.85",
            "4096                12669.12",
            "8192                15244.02",
            "16384               21383.49",
            "32768               46523.75",
            "65536               58163.80",
            "131072              75255.85",
            "262144             105982.54",
            "524288             175753.94",
            "1048576            324281.20",
            "real\t4m4.744s",
            "user\t0m28.257s",
            "sys\t3m29.023s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1686.29",
            "8                    1716.92",
            "16                   1826.97",
            "32                   1466.23",
            "64                   1738.93",
            "128                  1881.23",
            "256                  1831.19",
            "512                  2100.72",
            "1024                 1797.19",
            "2048                 2100.19",
            "4096                 2459.74",
            "8192                 2186.97",
            "16384               29671.14",
            "32768               30688.67",
            "65536               31449.06",
            "131072              29917.87",
            "262144              31658.40",
            "524288              35309.91",
            "1048576             39881.62",
            "real\t2m35.257s",
            "user\t0m21.114s",
            "sys\t2m10.031s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}