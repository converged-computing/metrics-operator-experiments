{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.113.57",
            "10.12.10.57",
            "10.12.62.58",
            "10.12.51.50",
            "10.12.119.68",
            "10.12.36.57",
            "10.12.2.57",
            "10.12.50.55",
            "10.12.93.59",
            "10.12.104.56",
            "10.12.121.62",
            "10.12.66.57",
            "10.12.64.57",
            "10.12.98.58",
            "10.12.55.41",
            "10.12.38.53",
            "10.12.11.55",
            "10.12.108.56",
            "10.12.31.59",
            "10.12.37.59",
            "10.12.30.61",
            "10.12.33.55",
            "10.12.96.58",
            "10.12.110.59",
            "10.12.9.56",
            "10.12.94.57",
            "10.12.7.54",
            "10.12.114.62",
            "10.12.112.56",
            "10.12.78.62",
            "10.12.118.55",
            "10.12.22.52",
            "10.12.52.53",
            "10.12.123.55",
            "10.12.91.50",
            "10.12.100.57",
            "10.12.90.54",
            "10.12.106.56",
            "10.12.41.61",
            "10.12.65.45",
            "10.12.120.63",
            "10.12.49.52",
            "10.12.125.54",
            "10.12.97.65",
            "10.12.71.61",
            "10.12.48.57",
            "10.12.128.55",
            "10.12.87.57",
            "10.12.60.55",
            "10.12.85.53",
            "10.12.4.57",
            "10.12.43.57",
            "10.12.25.52",
            "10.12.32.55",
            "10.12.47.50",
            "10.12.29.53",
            "10.12.13.61",
            "10.12.58.62",
            "10.12.76.56",
            "10.12.16.58",
            "10.12.45.63",
            "10.12.92.58",
            "10.12.102.56",
            "10.12.86.58",
            "Hostlist for Pair to Pair",
            "10.12.113.57",
            "10.12.10.57",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1526.85            681.27            658.60              0.00",
            "real\t0m6.882s",
            "user\t0m2.422s",
            "sys\t0m3.949s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.11        5113343.58",
            "2                      10.01        5006640.52",
            "4                      20.80        5200626.75",
            "8                      36.16        4519602.45",
            "16                     79.75        4984368.36",
            "32                    164.15        5129738.81",
            "64                    324.06        5063441.11",
            "128                   642.81        5021940.21",
            "256                  1409.08        5504236.14",
            "512                  2826.01        5519558.64",
            "1024                 5565.31        5434873.18",
            "2048                 9189.47        4487046.56",
            "4096                19133.28        4671211.49",
            "8192                27677.13        3378555.55",
            "16384               25297.30        1544024.85",
            "32768               35370.52        1079422.67",
            "65536               35978.66         548990.80",
            "131072              39060.24         298005.98",
            "262144              39045.09         148945.19",
            "524288              36972.13          70518.75",
            "1048576             38965.61          37160.50",
            "2097152             39015.78          18604.17",
            "4194304             39013.57           9301.56",
            "real\t1m5.873s",
            "user\t0m8.181s",
            "sys\t0m50.783s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.31",
            "1                      34.62",
            "2                      34.76",
            "4                      34.92",
            "8                      35.67",
            "16                     37.72",
            "32                     36.49",
            "64                     57.15",
            "128                    58.18",
            "256                    57.91",
            "512                    57.76",
            "1024                   59.92",
            "2048                   64.98",
            "4096                   69.61",
            "8192                   73.55",
            "16384                  79.49",
            "32768                 101.73",
            "65536                 250.39",
            "131072                307.61",
            "262144                394.75",
            "524288                555.34",
            "1048576               960.68",
            "2097152              1874.82",
            "4194304              3540.79",
            "real\t0m45.810s",
            "user\t0m6.840s",
            "sys\t0m37.232s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     872.95",
            "2                     879.40",
            "4                     651.05",
            "8                     754.33",
            "16                    789.57",
            "32                   1078.54",
            "64                    920.72",
            "128                   843.41",
            "256                   773.98",
            "512                   941.21",
            "1024                 4325.63",
            "2048                 4627.20",
            "4096                 4445.40",
            "8192                 5209.44",
            "16384                6972.06",
            "32768               21195.67",
            "65536               23158.46",
            "131072              31488.79",
            "262144              48124.29",
            "524288              82420.12",
            "1048576            153196.80",
            "real\t1m40.275s",
            "user\t0m13.092s",
            "sys\t1m24.017s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     823.98",
            "8                     748.07",
            "16                    636.39",
            "32                    608.38",
            "64                    871.16",
            "128                   893.49",
            "256                  1007.64",
            "512                   861.78",
            "1024                  803.57",
            "2048                 1088.70",
            "4096                 1008.26",
            "8192                 1161.50",
            "16384               13112.98",
            "32768               13400.03",
            "65536               12391.62",
            "131072              15599.76",
            "262144              13804.29",
            "524288              16487.31",
            "1048576             23951.43",
            "real\t1m14.291s",
            "user\t0m11.423s",
            "sys\t1m0.849s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}