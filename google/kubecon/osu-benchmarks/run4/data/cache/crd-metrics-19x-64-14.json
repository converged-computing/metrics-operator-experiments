{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.37.57",
            "10.12.42.48",
            "10.12.21.58",
            "10.12.94.54",
            "10.12.18.56",
            "10.12.97.63",
            "10.12.25.51",
            "10.12.92.55",
            "10.12.78.60",
            "10.12.127.50",
            "10.12.22.49",
            "10.12.39.55",
            "10.12.30.57",
            "10.12.33.52",
            "10.12.29.49",
            "10.12.81.54",
            "10.12.52.51",
            "10.12.74.49",
            "10.12.10.55",
            "10.12.85.50",
            "10.12.106.52",
            "10.12.69.60",
            "10.12.100.53",
            "10.12.23.48",
            "10.12.6.46",
            "10.12.41.59",
            "10.12.14.52",
            "10.12.111.51",
            "10.12.53.50",
            "10.12.13.58",
            "10.12.66.53",
            "10.12.47.47",
            "10.12.17.59",
            "10.12.19.61",
            "10.12.119.65",
            "10.12.88.58",
            "10.12.20.54",
            "10.12.121.60",
            "10.12.123.52",
            "10.12.128.52",
            "10.12.38.52",
            "10.12.129.60",
            "10.12.7.51",
            "10.12.48.54",
            "10.12.36.53",
            "10.12.90.51",
            "10.12.31.57",
            "10.12.77.49",
            "10.12.87.54",
            "10.12.76.53",
            "10.12.105.57",
            "10.12.45.61",
            "10.12.99.53",
            "10.12.120.62",
            "10.12.93.55",
            "10.12.43.55",
            "10.12.70.59",
            "10.12.57.59",
            "10.12.68.60",
            "10.12.9.54",
            "10.12.5.62",
            "10.12.3.54",
            "10.12.126.58",
            "10.12.8.52",
            "Hostlist for Pair to Pair",
            "10.12.37.57",
            "10.12.42.48",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1492.56            619.45            597.65              0.00",
            "real\t0m6.846s",
            "user\t0m2.509s",
            "sys\t0m3.872s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       4.91        4912380.57",
            "2                      10.39        5193387.89",
            "4                      20.95        5238475.19",
            "8                      40.48        5060194.32",
            "16                     80.99        5062083.44",
            "32                    166.58        5205602.09",
            "64                    320.00        4999996.70",
            "128                   626.17        4891964.85",
            "256                   635.27        2481523.67",
            "512                  2522.82        4927391.23",
            "1024                 4008.32        3914378.70",
            "2048                 9224.94        4504366.40",
            "4096                18576.83        4535358.20",
            "8192                22397.87        2734115.19",
            "16384               30581.20        1866528.60",
            "32768               37910.10        1156924.37",
            "65536               39426.88         601606.37",
            "131072              39389.64         300519.09",
            "262144              39439.59         150450.08",
            "524288              37454.52          71438.82",
            "1048576             39197.14          37381.31",
            "2097152             39249.32          18715.54",
            "4194304             39188.74           9343.32",
            "real\t1m3.312s",
            "user\t0m8.211s",
            "sys\t0m49.175s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      27.70",
            "1                      27.39",
            "2                      26.80",
            "4                      26.94",
            "8                      26.90",
            "16                     26.84",
            "32                     27.41",
            "64                     50.63",
            "128                    50.09",
            "256                    53.02",
            "512                    50.86",
            "1024                   50.56",
            "2048                   58.64",
            "4096                   61.12",
            "8192                   61.76",
            "16384                  77.98",
            "32768                  91.61",
            "65536                 226.90",
            "131072                302.80",
            "262144                359.79",
            "524288                510.20",
            "1048576               929.76",
            "2097152              1778.33",
            "4194304              3283.82",
            "real\t0m47.369s",
            "user\t0m7.039s",
            "sys\t0m38.587s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     818.25",
            "2                     698.18",
            "4                     730.73",
            "8                     755.48",
            "16                    916.23",
            "32                    748.91",
            "64                    974.56",
            "128                   858.74",
            "256                   960.54",
            "512                   862.24",
            "1024                 4142.26",
            "2048                 4332.17",
            "4096                 4477.46",
            "8192                 5295.18",
            "16384                6762.56",
            "32768               17489.06",
            "65536               24076.36",
            "131072              32099.45",
            "262144              47141.85",
            "524288              80855.09",
            "1048576            147393.58",
            "real\t1m39.065s",
            "user\t0m12.900s",
            "sys\t1m22.939s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     692.89",
            "8                     752.59",
            "16                    699.42",
            "32                    839.71",
            "64                    745.62",
            "128                   775.08",
            "256                   850.60",
            "512                   929.42",
            "1024                 1046.93",
            "2048                  839.86",
            "4096                 1236.26",
            "8192                 1036.85",
            "16384               12916.50",
            "32768               13548.44",
            "65536               13013.68",
            "131072              13573.94",
            "262144              15406.53",
            "524288              16786.89",
            "1048576             25893.52",
            "real\t1m13.870s",
            "user\t0m11.843s",
            "sys\t1m0.014s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}