{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.102.48",
            "10.12.18.51",
            "10.12.21.51",
            "10.12.48.47",
            "10.12.129.53",
            "10.12.127.45",
            "10.12.19.56",
            "10.12.75.46",
            "10.12.110.52",
            "10.12.125.46",
            "10.12.67.48",
            "10.12.115.60",
            "10.12.41.52",
            "10.12.61.48",
            "10.12.42.44",
            "10.12.69.50",
            "10.12.92.47",
            "10.12.62.48",
            "10.12.35.43",
            "10.12.45.57",
            "10.12.88.52",
            "10.12.114.52",
            "10.12.68.52",
            "10.12.46.48",
            "10.12.7.44",
            "10.12.3.49",
            "10.12.98.48",
            "10.12.63.42",
            "10.12.78.51",
            "10.12.90.46",
            "10.12.103.45",
            "10.12.101.45",
            "10.12.66.45",
            "10.12.74.40",
            "10.12.97.56",
            "10.12.10.48",
            "10.12.64.47",
            "10.12.25.43",
            "10.12.8.45",
            "10.12.34.53",
            "10.12.58.52",
            "10.12.22.42",
            "10.12.118.47",
            "10.12.43.50",
            "10.12.12.45",
            "10.12.39.45",
            "10.12.24.48",
            "10.12.106.46",
            "10.12.11.47",
            "10.12.89.41",
            "10.12.71.52",
            "10.12.128.43",
            "10.12.20.48",
            "10.12.17.50",
            "10.12.30.51",
            "10.12.37.49",
            "10.12.0.45",
            "10.12.80.50",
            "10.12.116.51",
            "10.12.54.51",
            "10.12.87.48",
            "10.12.59.46",
            "10.12.51.43",
            "10.12.113.45",
            "Hostlist for Pair to Pair",
            "10.12.102.48",
            "10.12.18.51",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1752.63            686.95            663.91              0.00",
            "real\t0m6.862s",
            "user\t0m2.455s",
            "sys\t0m3.913s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.29        5289941.62",
            "2                      10.62        5310713.43",
            "4                      21.08        5270970.75",
            "8                      42.10        5262524.96",
            "16                     84.21        5262908.22",
            "32                    161.91        5059819.27",
            "64                    311.05        4860104.92",
            "128                   646.66        5052067.38",
            "256                  1144.91        4472306.58",
            "512                  2577.21        5033607.07",
            "1024                 5026.14        4908336.34",
            "2048                10063.84        4913983.57",
            "4096                18322.81        4473343.13",
            "8192                25226.30        3079381.72",
            "16384               35041.81        2138782.13",
            "32768               33067.38        1009136.46",
            "65536               38638.89         589582.65",
            "131072              39273.60         299633.79",
            "262144              37418.82         142741.48",
            "524288              39058.55          74498.27",
            "1048576             39172.64          37357.94",
            "2097152             39308.02          18743.52",
            "4194304             39186.16           9342.71",
            "real\t0m57.242s",
            "user\t0m7.887s",
            "sys\t0m46.487s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      37.71",
            "1                      38.68",
            "2                      39.70",
            "4                      38.29",
            "8                      40.19",
            "16                     40.16",
            "32                     38.85",
            "64                     59.24",
            "128                    58.92",
            "256                    58.90",
            "512                    61.86",
            "1024                   59.71",
            "2048                   69.46",
            "4096                   69.10",
            "8192                   74.44",
            "16384                  85.91",
            "32768                 103.88",
            "65536                 263.91",
            "131072                318.54",
            "262144                424.65",
            "524288                557.65",
            "1048576              1117.43",
            "2097152              2120.96",
            "4194304              4045.57",
            "real\t0m46.431s",
            "user\t0m6.659s",
            "sys\t0m38.057s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     567.16",
            "2                     710.42",
            "4                     641.01",
            "8                     880.71",
            "16                    686.64",
            "32                    987.27",
            "64                    704.01",
            "128                   856.22",
            "256                   793.16",
            "512                   977.61",
            "1024                 4166.94",
            "2048                 4511.61",
            "4096                 4367.58",
            "8192                 5119.91",
            "16384                8797.24",
            "32768               19300.18",
            "65536               23166.54",
            "131072              30086.70",
            "262144              46072.03",
            "524288              76957.35",
            "1048576            145601.14",
            "real\t1m36.721s",
            "user\t0m12.669s",
            "sys\t1m20.890s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     735.06",
            "8                     814.62",
            "16                    633.98",
            "32                    808.35",
            "64                    798.25",
            "128                  1063.60",
            "256                  1054.20",
            "512                   861.50",
            "1024                  944.40",
            "2048                  827.78",
            "4096                  928.53",
            "8192                 1152.90",
            "16384               12756.69",
            "32768               13250.66",
            "65536               11798.29",
            "131072              12654.51",
            "262144              14881.51",
            "524288              18709.46",
            "1048576             24136.38",
            "real\t1m12.853s",
            "user\t0m11.093s",
            "sys\t0m59.749s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}