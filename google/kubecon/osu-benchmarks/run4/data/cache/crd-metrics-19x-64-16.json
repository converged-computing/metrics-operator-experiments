{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.114.60",
            "10.12.42.50",
            "10.12.95.49",
            "10.12.30.59",
            "10.12.104.55",
            "10.12.8.53",
            "10.12.66.55",
            "10.12.62.56",
            "10.12.16.57",
            "10.12.10.56",
            "10.12.89.48",
            "10.12.86.57",
            "10.12.100.55",
            "10.12.47.49",
            "10.12.96.57",
            "10.12.107.50",
            "10.12.103.54",
            "10.12.106.54",
            "10.12.69.61",
            "10.12.98.56",
            "10.12.5.64",
            "10.12.111.52",
            "10.12.7.53",
            "10.12.40.46",
            "10.12.28.55",
            "10.12.11.53",
            "10.12.57.60",
            "10.12.77.51",
            "10.12.92.57",
            "10.12.90.53",
            "10.12.50.53",
            "10.12.2.55",
            "10.12.70.61",
            "10.12.58.60",
            "10.12.81.56",
            "10.12.14.54",
            "10.12.115.68",
            "10.12.93.57",
            "10.12.49.50",
            "10.12.29.51",
            "10.12.17.61",
            "10.12.112.54",
            "10.12.125.53",
            "10.12.48.55",
            "10.12.44.53",
            "10.12.4.56",
            "10.12.87.56",
            "10.12.101.50",
            "10.12.75.53",
            "10.12.76.54",
            "10.12.128.53",
            "10.12.65.44",
            "10.12.61.58",
            "10.12.33.53",
            "10.12.122.60",
            "10.12.1.49",
            "10.12.94.55",
            "10.12.54.59",
            "10.12.119.66",
            "10.12.36.55",
            "10.12.113.56",
            "10.12.123.54",
            "10.12.116.59",
            "10.12.3.56",
            "Hostlist for Pair to Pair",
            "10.12.114.60",
            "10.12.42.50",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           1920.54            693.39            666.26              0.00",
            "real\t0m6.932s",
            "user\t0m2.439s",
            "sys\t0m3.966s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.00        4996639.59",
            "2                      10.04        5018927.46",
            "4                      20.49        5121380.21",
            "8                      37.79        4723162.81",
            "16                     75.02        4688710.70",
            "32                    162.89        5090157.05",
            "64                    309.85        4841382.89",
            "128                   557.06        4352055.72",
            "256                  1252.52        4892641.98",
            "512                  2418.08        4722808.93",
            "1024                 4827.44        4714293.01",
            "2048                 9645.72        4709824.02",
            "4096                18036.72        4403497.27",
            "8192                20968.32        2559609.76",
            "16384               32606.02        1990113.41",
            "32768               39480.59        1204851.87",
            "65536               39083.75         596370.71",
            "131072              39349.06         300209.52",
            "262144              39184.53         149477.13",
            "524288              36768.91          70131.12",
            "1048576             38982.73          37176.83",
            "2097152             38935.46          18565.87",
            "4194304             38995.62           9297.28",
            "real\t0m59.643s",
            "user\t0m7.790s",
            "sys\t0m48.570s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      39.01",
            "1                      38.38",
            "2                      40.16",
            "4                      39.50",
            "8                      41.13",
            "16                     39.95",
            "32                     41.54",
            "64                     62.21",
            "128                    65.23",
            "256                    66.20",
            "512                    64.81",
            "1024                   66.07",
            "2048                   71.01",
            "4096                   72.41",
            "8192                   77.71",
            "16384                  89.10",
            "32768                 110.08",
            "65536                 280.87",
            "131072                347.34",
            "262144                396.85",
            "524288                606.67",
            "1048576               973.49",
            "2097152              1852.93",
            "4194304              3568.81",
            "real\t0m48.630s",
            "user\t0m7.321s",
            "sys\t0m39.496s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     807.91",
            "2                     646.99",
            "4                     990.42",
            "8                     779.18",
            "16                    770.41",
            "32                    677.88",
            "64                    948.83",
            "128                   918.59",
            "256                   983.51",
            "512                   947.29",
            "1024                 4607.09",
            "2048                 4572.63",
            "4096                 4787.19",
            "8192                 5408.73",
            "16384                6370.05",
            "32768               19540.41",
            "65536               25588.52",
            "131072              31109.01",
            "262144              47250.45",
            "524288              77713.46",
            "1048576            148085.88",
            "real\t1m40.116s",
            "user\t0m13.091s",
            "sys\t1m23.851s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     682.09",
            "8                     701.08",
            "16                    873.71",
            "32                    670.52",
            "64                    926.36",
            "128                   760.35",
            "256                  1015.90",
            "512                  1102.80",
            "1024                  867.86",
            "2048                 1011.09",
            "4096                  806.67",
            "8192                 1156.46",
            "16384               13143.47",
            "32768               13632.20",
            "65536               12720.93",
            "131072              12768.54",
            "262144              14864.41",
            "524288              19150.01",
            "1048576             24693.27",
            "real\t1m14.777s",
            "user\t0m11.346s",
            "sys\t1m1.389s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}