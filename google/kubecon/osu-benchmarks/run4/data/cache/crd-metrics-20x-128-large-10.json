{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.6.63",
            "10.12.107.65",
            "10.12.35.64",
            "10.12.78.77",
            "10.12.10.76",
            "10.12.89.61",
            "10.12.101.65",
            "10.12.100.73",
            "10.12.129.76",
            "10.12.73.78",
            "10.12.65.63",
            "10.12.53.68",
            "10.12.124.65",
            "10.12.48.70",
            "10.12.120.81",
            "10.12.18.75",
            "10.12.11.71",
            "10.12.99.70",
            "10.12.76.71",
            "10.12.28.69",
            "10.12.80.71",
            "10.12.0.70",
            "10.12.77.65",
            "10.12.3.69",
            "10.12.34.77",
            "10.12.85.67",
            "10.12.103.74",
            "10.12.122.76",
            "10.12.91.69",
            "10.12.88.76",
            "10.12.68.82",
            "10.12.69.76",
            "10.12.55.61",
            "10.12.97.80",
            "10.12.96.75",
            "10.12.31.73",
            "10.12.123.69",
            "10.12.112.70",
            "10.12.95.62",
            "10.12.64.74",
            "10.12.114.75",
            "10.12.24.71",
            "10.12.113.73",
            "10.12.1.72",
            "10.12.110.73",
            "10.12.2.71",
            "10.12.125.71",
            "10.12.46.72",
            "10.12.83.66",
            "10.12.127.69",
            "10.12.61.74",
            "10.12.37.77",
            "10.12.39.70",
            "10.12.8.70",
            "10.12.19.77",
            "10.12.86.74",
            "10.12.33.69",
            "10.12.128.70",
            "10.12.87.74",
            "10.12.75.69",
            "10.12.102.70",
            "10.12.44.70",
            "10.12.5.78",
            "10.12.74.70",
            "10.12.17.75",
            "10.12.23.64",
            "10.12.49.65",
            "10.12.36.76",
            "10.12.71.73",
            "10.12.52.67",
            "10.12.63.62",
            "10.12.126.74",
            "10.12.45.82",
            "10.12.47.69",
            "10.12.111.73",
            "10.12.119.84",
            "10.12.67.74",
            "10.12.115.88",
            "10.12.109.34",
            "10.12.84.35",
            "10.12.117.35",
            "10.12.58.78",
            "10.12.54.73",
            "10.12.72.33",
            "10.12.42.67",
            "10.12.4.70",
            "10.12.70.75",
            "10.12.66.72",
            "10.12.51.65",
            "10.12.41.78",
            "10.12.22.64",
            "10.12.38.68",
            "10.12.30.75",
            "10.12.118.71",
            "10.12.40.58",
            "10.12.29.69",
            "10.12.108.70",
            "10.12.60.72",
            "10.12.20.74",
            "10.12.98.71",
            "10.12.16.73",
            "10.12.13.74",
            "10.12.106.72",
            "10.12.90.69",
            "10.12.50.70",
            "10.12.56.35",
            "10.12.81.72",
            "10.12.93.74",
            "10.12.94.73",
            "10.12.12.67",
            "10.12.105.74",
            "10.12.116.75",
            "10.12.62.75",
            "10.12.57.77",
            "10.12.43.70",
            "10.12.14.71",
            "10.12.9.71",
            "10.12.104.73",
            "10.12.25.68",
            "10.12.7.71",
            "10.12.121.75",
            "10.12.82.36",
            "10.12.15.36",
            "10.12.59.69",
            "10.12.26.36",
            "10.12.21.75",
            "10.12.92.72",
            "10.12.32.71",
            "Hostlist for Pair to Pair",
            "10.12.6.63",
            "10.12.107.65",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          1527.68",
            "real\t0m8.481s",
            "user\t0m2.605s",
            "sys\t0m5.215s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3551.75            934.53            898.99              0.00",
            "real\t0m7.514s",
            "user\t0m2.627s",
            "sys\t0m4.267s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       8.72        8720167.65",
            "2                      17.63        8814924.06",
            "4                      30.79        7696839.39",
            "8                      70.14        8767703.74",
            "16                    141.58        8848784.39",
            "32                    284.45        8888917.05",
            "64                    560.48        8757536.30",
            "128                  1090.41        8518853.94",
            "256                  2191.04        8558746.39",
            "512                  4284.39        8367955.00",
            "1024                 8367.60        8171485.32",
            "2048                16426.98        8020987.89",
            "4096                31584.53        7711067.22",
            "8192                48938.45        5973931.90",
            "16384               76752.06        4684573.95",
            "32768               80610.79        2460045.99",
            "65536               74549.93        1137541.73",
            "131072              76177.63         581189.18",
            "262144              71650.13         273323.55",
            "524288              78201.67         149157.85",
            "1048576             77809.68          74205.09",
            "2097152             77782.39          37089.53",
            "4194304             77953.49          18585.56",
            "real\t1m33.669s",
            "user\t0m9.916s",
            "sys\t1m3.913s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      40.46",
            "1                      40.94",
            "2                      39.35",
            "4                      38.14",
            "8                      38.10",
            "16                     40.12",
            "32                     38.57",
            "64                     62.49",
            "128                    63.30",
            "256                    64.81",
            "512                    65.67",
            "1024                   63.99",
            "2048                   70.57",
            "4096                   73.39",
            "8192                   80.49",
            "16384                  86.47",
            "32768                 125.97",
            "65536                 279.43",
            "131072                342.41",
            "262144                428.86",
            "524288                581.91",
            "1048576               964.60",
            "2097152              1842.88",
            "4194304              3327.13",
            "real\t0m49.036s",
            "user\t0m6.753s",
            "sys\t0m40.311s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1618.73",
            "2                    1825.70",
            "4                    1557.78",
            "8                    1842.72",
            "16                   1832.34",
            "32                   2174.15",
            "64                   1882.76",
            "128                  1997.91",
            "256                  1895.26",
            "512                 10997.59",
            "1024                11888.32",
            "2048                12269.55",
            "4096                13036.65",
            "8192                15065.33",
            "16384               19444.19",
            "32768               49451.48",
            "65536               55059.77",
            "131072              74459.98",
            "262144             108410.94",
            "524288             185621.32",
            "1048576            325118.08",
            "real\t4m7.121s",
            "user\t0m28.850s",
            "sys\t3m30.746s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1461.05",
            "8                    1659.87",
            "16                   1915.11",
            "32                   1916.47",
            "64                   1943.69",
            "128                  1831.22",
            "256                  2013.57",
            "512                  1848.83",
            "1024                 1816.95",
            "2048                 2094.38",
            "4096                 2177.00",
            "8192                 2157.45",
            "16384               30396.00",
            "32768               30354.70",
            "65536               32419.55",
            "131072              31365.38",
            "262144              34019.67",
            "524288              33452.77",
            "1048576             41757.56",
            "real\t2m35.140s",
            "user\t0m20.930s",
            "sys\t2m10.274s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}