{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 64 nodes) is 64",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 64 ip addresses",
            "Hostlist",
            "10.12.64.46",
            "10.12.30.50",
            "10.12.128.42",
            "10.12.20.47",
            "10.12.97.55",
            "10.12.91.43",
            "10.12.31.50",
            "10.12.60.46",
            "10.12.90.45",
            "10.12.107.44",
            "10.12.76.45",
            "10.12.4.47",
            "10.12.46.47",
            "10.12.65.37",
            "10.12.126.48",
            "10.12.48.46",
            "10.12.83.48",
            "10.12.36.51",
            "10.12.67.47",
            "10.12.120.54",
            "10.12.122.51",
            "10.12.73.53",
            "10.12.68.51",
            "10.12.32.49",
            "10.12.108.48",
            "10.12.44.46",
            "10.12.118.46",
            "10.12.75.45",
            "10.12.69.49",
            "10.12.8.44",
            "10.12.41.51",
            "10.12.33.45",
            "10.12.106.45",
            "10.12.70.53",
            "10.12.14.45",
            "10.12.114.51",
            "10.12.105.51",
            "10.12.28.47",
            "10.12.129.52",
            "10.12.123.47",
            "10.12.111.46",
            "10.12.96.50",
            "10.12.53.45",
            "10.12.11.46",
            "10.12.61.47",
            "10.12.3.48",
            "10.12.40.40",
            "10.12.58.51",
            "10.12.18.50",
            "10.12.92.46",
            "10.12.16.50",
            "10.12.86.48",
            "10.12.81.47",
            "10.12.100.46",
            "10.12.71.51",
            "10.12.37.48",
            "10.12.62.47",
            "10.12.2.45",
            "10.12.125.45",
            "10.12.38.46",
            "10.12.121.54",
            "10.12.104.44",
            "10.12.57.50",
            "10.12.43.49",
            "Hostlist for Pair to Pair",
            "10.12.64.46",
            "10.12.30.50",
            "METADATA START {\"pods\":64,\"completions\":64,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           2089.93           1050.79           1016.37              0.00",
            "real\t0m7.040s",
            "user\t0m2.506s",
            "sys\t0m4.035s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 32 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       5.42        5416657.18",
            "2                       9.37        4684244.95",
            "4                      21.76        5439527.65",
            "8                      42.87        5358769.91",
            "16                     85.77        5360573.84",
            "32                    167.62        5238200.52",
            "64                    328.14        5127261.23",
            "128                   644.66        5036377.13",
            "256                  1207.58        4717128.13",
            "512                  2574.44        5028195.46",
            "1024                 5034.39        4916393.46",
            "2048                 9862.05        4815456.11",
            "4096                17922.13        4375518.82",
            "8192                22987.93        2806143.97",
            "16384               32397.39        1977379.80",
            "32768               38112.97        1163115.41",
            "65536               36321.87         554227.75",
            "131072              39567.75         301877.96",
            "262144              39165.89         149406.01",
            "524288              36556.06          69725.15",
            "1048576             38994.69          37188.23",
            "2097152             38768.02          18486.03",
            "4194304             38824.18           9256.41",
            "real\t1m8.378s",
            "user\t0m9.082s",
            "sys\t0m51.138s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      36.23",
            "1                      36.42",
            "2                      37.38",
            "4                      36.97",
            "8                      36.49",
            "16                     36.42",
            "32                     36.16",
            "64                     63.24",
            "128                    60.87",
            "256                    61.22",
            "512                    61.90",
            "1024                   60.65",
            "2048                   69.99",
            "4096                   73.84",
            "8192                   78.70",
            "16384                  87.94",
            "32768                 110.09",
            "65536                 270.67",
            "131072                307.29",
            "262144                400.12",
            "524288                572.47",
            "1048576               991.07",
            "2097152              1981.71",
            "4194304              3828.75",
            "real\t0m48.945s",
            "user\t0m7.544s",
            "sys\t0m39.697s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                     689.88",
            "2                     785.26",
            "4                     986.29",
            "8                     846.80",
            "16                    802.64",
            "32                    670.49",
            "64                    818.15",
            "128                   982.55",
            "256                   990.55",
            "512                   934.22",
            "1024                 4366.69",
            "2048                 4179.30",
            "4096                 4735.22",
            "8192                 5347.68",
            "16384                6670.15",
            "32768               17372.53",
            "65536               25025.82",
            "131072              33448.76",
            "262144              45597.61",
            "524288              80573.31",
            "1048576            149588.16",
            "real\t1m40.132s",
            "user\t0m13.513s",
            "sys\t1m23.528s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 64 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                     713.28",
            "8                     796.09",
            "16                    938.85",
            "32                    768.31",
            "64                    920.73",
            "128                   761.12",
            "256                  1041.07",
            "512                   944.88",
            "1024                  944.18",
            "2048                  932.36",
            "4096                  807.30",
            "8192                  990.10",
            "16384               13532.36",
            "32768               13588.23",
            "65536               13457.93",
            "131072              13847.49",
            "262144              15472.67",
            "524288              18855.11",
            "1048576             23914.01",
            "real\t1m15.177s",
            "user\t0m12.118s",
            "sys\t1m1.006s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 64,
            "completions": 64,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 64,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 64,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}