{
    "data": {
        "data": [
            "Number of tasks (nproc on one node) is 1",
            "Number of tasks total (across 128 nodes) is 128",
            "Sleeping for 60 seconds waiting for network...",
            "Starting to look for ip addresses...",
            "Done finding 128 ip addresses",
            "Hostlist",
            "10.12.7.61",
            "10.12.88.66",
            "10.12.8.60",
            "10.12.6.53",
            "10.12.90.59",
            "10.12.40.48",
            "10.12.107.55",
            "10.12.33.59",
            "10.12.0.60",
            "10.12.122.66",
            "10.12.23.54",
            "10.12.97.70",
            "10.12.112.60",
            "10.12.68.72",
            "10.12.85.57",
            "10.12.62.65",
            "10.12.76.61",
            "10.12.12.57",
            "10.12.45.72",
            "10.12.77.55",
            "10.12.37.67",
            "10.12.105.64",
            "10.12.34.67",
            "10.12.22.54",
            "10.12.51.55",
            "10.12.2.61",
            "10.12.43.60",
            "10.12.3.59",
            "10.12.110.63",
            "10.12.121.65",
            "10.12.28.59",
            "10.12.13.64",
            "10.12.52.57",
            "10.12.53.58",
            "10.12.59.59",
            "10.12.16.63",
            "10.12.92.62",
            "10.12.17.65",
            "10.12.120.71",
            "10.12.32.61",
            "10.12.123.59",
            "10.12.65.53",
            "10.12.126.64",
            "10.12.70.65",
            "10.12.67.64",
            "10.12.35.54",
            "10.12.10.66",
            "10.12.44.60",
            "10.12.129.66",
            "10.12.38.58",
            "10.12.94.63",
            "10.12.125.61",
            "10.12.69.66",
            "10.12.75.59",
            "10.12.124.55",
            "10.12.100.63",
            "10.12.41.68",
            "10.12.14.61",
            "10.12.55.51",
            "10.12.116.65",
            "10.12.50.60",
            "10.12.4.60",
            "10.12.54.63",
            "10.12.58.68",
            "10.12.24.61",
            "10.12.74.60",
            "10.12.64.64",
            "10.12.95.52",
            "10.12.89.51",
            "10.12.29.59",
            "10.12.106.62",
            "10.12.114.65",
            "10.12.115.78",
            "10.12.86.64",
            "10.12.60.62",
            "10.12.96.65",
            "10.12.15.26",
            "10.12.26.26",
            "10.12.56.25",
            "10.12.109.25",
            "10.12.82.26",
            "10.12.72.24",
            "10.12.84.25",
            "10.12.117.25",
            "10.12.104.63",
            "10.12.91.59",
            "10.12.31.63",
            "10.12.71.63",
            "10.12.101.55",
            "10.12.57.67",
            "10.12.47.59",
            "10.12.61.64",
            "10.12.9.61",
            "10.12.46.62",
            "10.12.83.56",
            "10.12.118.61",
            "10.12.25.58",
            "10.12.66.62",
            "10.12.19.67",
            "10.12.63.52",
            "10.12.102.60",
            "10.12.103.64",
            "10.12.93.64",
            "10.12.87.64",
            "10.12.18.65",
            "10.12.5.68",
            "10.12.42.57",
            "10.12.11.61",
            "10.12.113.63",
            "10.12.99.60",
            "10.12.39.60",
            "10.12.20.64",
            "10.12.49.55",
            "10.12.111.63",
            "10.12.73.68",
            "10.12.127.59",
            "10.12.108.60",
            "10.12.81.62",
            "10.12.78.67",
            "10.12.36.66",
            "10.12.98.61",
            "10.12.48.60",
            "10.12.21.65",
            "10.12.119.74",
            "10.12.1.62",
            "10.12.80.61",
            "10.12.30.65",
            "10.12.128.60",
            "Hostlist for Pair to Pair",
            "10.12.7.61",
            "10.12.88.66",
            "METADATA START {\"pods\":128,\"completions\":128,\"metricName\":\"network-osu-benchmark\",\"metricDescription\":\"point to point MPI benchmarks\",\"metricType\":\"standalone\",\"metricOptions\":{\"all\":\"false\",\"flags\":\"\",\"sole-tenancy\":\"true\",\"tasks\":0,\"timed\":\"true\"},\"metricListOptions\":{\"commands\":[\"osu_barrier\",\"osu_ibarrier\",\"osu_mbw_mr\",\"osu_multi_lat\",\"osu_allgather\",\"osu_allreduce\"]}}",
            "METADATA END",
            "METRICS OPERATOR COLLECTION START",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_barrier",
            "# OSU MPI Barrier Latency Test v5.8",
            "# Avg Latency(us)",
            "          2188.65",
            "real\t0m9.222s",
            "user\t0m2.714s",
            "sys\t0m5.784s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_ibarrier",
            "# OSU MPI Non-blocking Barrier Latency Test v5.8",
            "# Overall = Coll. Init + Compute + MPI_Test + MPI_Wait",
            "       Overall(us)       Compute(us)    Pure Comm.(us)        Overlap(%)",
            "           3473.15           1785.40           1743.79              3.21",
            "real\t0m7.507s",
            "user\t0m2.637s",
            "sys\t0m4.208s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_mbw_mr",
            "# OSU MPI Multiple Bandwidth / Message Rate Test v5.8",
            "# [ pairs: 64 ] [ window size: 64 ]",
            "# Size                  MB/s        Messages/s",
            "1                       9.81        9806031.85",
            "2                      16.96        8481570.49",
            "4                      39.85        9961988.54",
            "8                      77.18        9647644.06",
            "16                    158.57        9910783.11",
            "32                    314.37        9824075.42",
            "64                    606.36        9474447.58",
            "128                  1000.27        7814614.75",
            "256                  2554.99        9980411.98",
            "512                  4644.64        9071556.93",
            "1024                 9411.74        9191149.25",
            "2048                18886.93        9222133.73",
            "4096                36951.15        9021276.31",
            "8192                55945.18        6829245.05",
            "16384               47264.90        2884820.53",
            "32768               55537.31        1694864.06",
            "65536               74542.12        1137422.50",
            "131072              78098.99         595848.03",
            "262144              77155.99         294326.74",
            "524288              73772.63         140710.13",
            "1048576             77331.02          73748.61",
            "2097152             77891.34          37141.49",
            "4194304             77853.53          18561.73",
            "real\t1m7.999s",
            "user\t0m8.231s",
            "sys\t0m52.044s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/pt2pt/osu_multi_lat",
            "# OSU MPI Multi Latency Test v5.8",
            "# Size          Latency (us)",
            "0                      35.74",
            "1                      35.19",
            "2                      35.27",
            "4                      37.74",
            "8                      37.27",
            "16                     36.08",
            "32                     37.23",
            "64                     57.85",
            "128                    58.79",
            "256                    57.68",
            "512                    58.60",
            "1024                   61.81",
            "2048                   67.62",
            "4096                   70.86",
            "8192                   72.33",
            "16384                  79.76",
            "32768                 103.48",
            "65536                 259.29",
            "131072                326.55",
            "262144                399.50",
            "524288                553.49",
            "1048576               980.72",
            "2097152              1862.45",
            "4194304              3555.35",
            "real\t0m47.967s",
            "user\t0m6.894s",
            "sys\t0m39.198s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allgather",
            "# OSU MPI Allgather Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "1                    1621.72",
            "2                    1920.18",
            "4                    1866.59",
            "8                    1553.97",
            "16                   1996.21",
            "32                   1671.40",
            "64                   1625.05",
            "128                  1961.31",
            "256                  2331.82",
            "512                 11532.33",
            "1024                12307.52",
            "2048                11941.46",
            "4096                13365.44",
            "8192                14856.65",
            "16384               19041.25",
            "32768               48389.84",
            "65536               57009.96",
            "131072              77075.33",
            "262144             106255.26",
            "524288             179232.60",
            "1048576            319575.09",
            "real\t4m5.104s",
            "user\t0m29.230s",
            "sys\t3m28.582s",
            "METRICS OPERATOR TIMEPOINT",
            "time mpirun --hostfile ./hostlist.txt --allow-run-as-root -np 128 -map-by ppr:1:node -rank-by core /opt/osu-benchmark/build.openmpi/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce",
            "# OSU MPI Allreduce Latency Test v5.8",
            "# Size       Avg Latency(us)",
            "4                    1811.12",
            "8                    1513.80",
            "16                   1588.76",
            "32                   1747.67",
            "64                   1873.50",
            "128                  1811.07",
            "256                  2126.08",
            "512                  2016.76",
            "1024                 2057.25",
            "2048                 1994.58",
            "4096                 2155.72",
            "8192                 2270.24",
            "16384               30376.68",
            "32768               30995.49",
            "65536               30457.57",
            "131072              32059.20",
            "262144              32129.36",
            "524288              35054.57",
            "1048576             42693.17",
            "real\t2m37.548s",
            "user\t0m21.588s",
            "sys\t2m11.856s",
            "METRICS OPERATOR COLLECTION END"
        ],
        "metadata": {
            "pods": 128,
            "completions": 128,
            "metricName": "network-osu-benchmark",
            "metricDescription": "point to point MPI benchmarks",
            "metricType": "standalone",
            "metricOptions": {
                "all": "false",
                "flags": "",
                "sole-tenancy": "true",
                "tasks": 0,
                "timed": "true"
            },
            "metricListOptions": {
                "commands": [
                    "osu_barrier",
                    "osu_ibarrier",
                    "osu_mbw_mr",
                    "osu_multi_lat",
                    "osu_allgather",
                    "osu_allreduce"
                ]
            }
        },
        "spec": {
            "apiVersion": "flux-framework.org/v1alpha1",
            "kind": "MetricSet",
            "metadata": {
                "labels": {
                    "app.kubernetes.io/name": "metricset",
                    "app.kubernetes.io/instance": "metricset-sample"
                },
                "name": "metricset-sample"
            },
            "spec": {
                "pods": 128,
                "metrics": [
                    {
                        "name": "network-osu-benchmark",
                        "listOptions": {
                            "commands": [
                                "osu_barrier",
                                "osu_ibarrier",
                                "osu_mbw_mr",
                                "osu_multi_lat",
                                "osu_allgather",
                                "osu_allreduce"
                            ]
                        },
                        "options": {
                            "timed": "true"
                        }
                    }
                ]
            }
        }
    },
    "spec": {
        "apiVersion": "flux-framework.org/v1alpha1",
        "kind": "MetricSet",
        "metadata": {
            "labels": {
                "app.kubernetes.io/name": "metricset",
                "app.kubernetes.io/instance": "metricset-sample"
            },
            "name": "metricset-sample"
        },
        "spec": {
            "pods": 128,
            "metrics": [
                {
                    "name": "network-osu-benchmark",
                    "listOptions": {
                        "commands": [
                            "osu_barrier",
                            "osu_ibarrier",
                            "osu_mbw_mr",
                            "osu_multi_lat",
                            "osu_allgather",
                            "osu_allreduce"
                        ]
                    },
                    "options": {
                        "timed": "true"
                    }
                }
            ]
        }
    }
}